# ================================================
# CONTENT DOMINATION SYSTEM - ZERO-COST ECONOMY MODE
# ================================================
# Copy this file to .env for cost-free operation
# Designed to run entirely on free tiers with zero ongoing costs

# ================================================
# ECONOMY MODE CONFIGURATION
# ================================================
ECONOMY_MODE=true
DEPLOYMENT_TIER=free
COST_MONITORING=enabled
AUTO_SHUTDOWN_ON_LIMITS=true

# ================================================
# USAGE LIMITS & COST CONTROLS
# ================================================
# Monthly API call limits (well within free tiers)
MAX_MONTHLY_CLAUDE_CALLS=50
MAX_MONTHLY_TWITTER_CALLS=1000
MAX_MONTHLY_LINKEDIN_CALLS=200
MAX_MONTHLY_NOTION_CALLS=2000

# Daily limits to spread usage
MAX_DAILY_CLAUDE_CALLS=3
MAX_DAILY_TWITTER_CALLS=50
MAX_DAILY_LINKEDIN_CALLS=10
MAX_DAILY_NOTION_CALLS=100

# Usage thresholds for warnings
WARNING_THRESHOLD_PERCENT=70
PAUSE_THRESHOLD_PERCENT=85
EMERGENCY_STOP_PERCENT=95

# ================================================
# CORE SYSTEM CONFIGURATION
# ================================================
NODE_ENV=production
PORT=3000
APP_URL=https://your-free-vercel-deployment.vercel.app

# ================================================
# BUSINESS HOURS OPERATION (UK TIME)
# ================================================
BUSINESS_HOURS_ONLY=true
TIMEZONE=Europe/London
BUSINESS_HOURS_START=9
BUSINESS_HOURS_END=18
WEEKEND_MODE=reduced  # Options: off, reduced, normal

# Reduced scanning frequency to conserve resources
ECONOMY_RSS_SCAN_INTERVAL=30  # minutes (vs 5 minutes in full mode)
ECONOMY_TWITTER_SCAN_INTERVAL=60  # minutes (vs 10 minutes in full mode)
WEEKEND_SCAN_INTERVAL=120  # minutes for weekend reduced mode

# ================================================
# FREE TIER TWITTER API (NO ELEVATED ACCESS)
# ================================================
# Basic Twitter API v2 - FREE tier limits
TWITTER_API_KEY=your_twitter_api_key_here
TWITTER_API_SECRET=your_twitter_api_secret_here
TWITTER_ACCESS_TOKEN=your_twitter_access_token_here
TWITTER_ACCESS_TOKEN_SECRET=your_twitter_access_token_secret_here
TWITTER_BEARER_TOKEN=your_twitter_bearer_token_here

# Free tier settings
TWITTER_USE_BASIC_TIER=true
TWITTER_REQUESTS_PER_15MIN=15  # Basic tier limit
TWITTER_MONTHLY_TWEET_LIMIT=1500  # Conservative limit

# ================================================
# LINKEDIN API - FREE TIER ONLY (ZERO COST)
# ================================================
LINKEDIN_CLIENT_ID=your_linkedin_client_id_here
LINKEDIN_CLIENT_SECRET=your_linkedin_client_secret_here
LINKEDIN_ACCESS_TOKEN=your_linkedin_access_token_here
LINKEDIN_PERSON_URN=urn:li:person:your_person_urn_here

# FREE TIER PERMISSIONS ONLY:
# 1. "Share on LinkedIn" (Default Tier) - for content posting
# 2. "Sign In with LinkedIn using OpenID Connect" (Standard Tier) - for authentication
LINKEDIN_FREE_TIER_ONLY=true
LINKEDIN_USE_BASIC_PERMISSIONS=true

# Conservative free tier rate limiting
LINKEDIN_REQUESTS_PER_HOUR=50  # Well under free limits
LINKEDIN_POSTS_PER_DAY=5  # Conservative daily posting
LINKEDIN_MIN_REQUEST_INTERVAL=2000  # 2 seconds between requests

# Disable any paid LinkedIn features
LINKEDIN_PREMIUM_FEATURES=false
LINKEDIN_MARKETING_API=false
LINKEDIN_SALES_NAVIGATOR=false

# ================================================
# NOTION API - FREE TIER OPTIMIZATION
# ================================================
NOTION_API_TOKEN=your_notion_integration_token_here
NOTION_VERSION=2022-06-28

# Simplified database structure for free tier
NOTION_OPPORTUNITIES_DB=your_opportunities_database_id
NOTION_CONTENT_TEMPLATES_DB=your_templates_database_id
NOTION_USAGE_TRACKING_DB=your_usage_tracking_database_id

# Free tier settings
NOTION_REQUESTS_PER_SECOND=1  # Conservative rate limiting
NOTION_BATCH_SIZE=10  # Smaller batches

# ================================================
# CLAUDE API - MINIMAL USAGE STRATEGY
# ================================================
ANTHROPIC_API_KEY=your_anthropic_api_key_here
CLAUDE_MODEL=claude-3-haiku-20240307  # Cheapest model
CLAUDE_MAX_TOKENS=500  # Reduced for cost control
CLAUDE_TEMPERATURE=0.7

# Cost control settings
CLAUDE_MIN_SCORE_FOR_AI=0.85  # Only use AI for highest-value opportunities
CLAUDE_MONTHLY_BUDGET_USD=5  # Hard limit
CLAUDE_COST_PER_1K_TOKENS=0.00025  # Haiku pricing
CLAUDE_EMERGENCY_TEMPLATE_MODE=true  # Fall back to templates when budget low

# ================================================
# KIT.COM - FREE TIER OPERATION
# ================================================
KIT_API_KEY=your_kit_api_key_here
KIT_NEWSLETTER_FORM_ID=your_newsletter_form_id_here

# Free tier limits
KIT_MONTHLY_EMAIL_LIMIT=1000  # Free tier subscriber limit
KIT_REQUESTS_PER_HOUR=100

# ================================================
# FREE RSS NEWS SOURCES ONLY
# ================================================
# Using only free RSS feeds - no paid APIs
MBW_RSS_URL=https://www.musicbusinessworldwide.com/feed/
BILLBOARD_RSS_URL=https://www.billboard.com/c/music/music-news/feed/
BBC_RSS_URL=https://feeds.bbci.co.uk/news/entertainment_and_arts/rss.xml
DMN_RSS_URL=https://www.digitalmusicnews.com/feed/
MUSIC_ALLY_RSS_URL=https://musically.com/feed/
HYPEBOT_RSS_URL=https://www.hypebot.com/feed
SPOTIFY_NEWS_RSS=https://artists.spotify.com/blog/rss

# No paid news APIs in economy mode
ENABLE_PAID_NEWS_APIS=false

# ================================================
# FREE HOSTING CONFIGURATION
# ================================================
# GitHub Actions for scheduling (2000 minutes/month free)
ENABLE_GITHUB_ACTIONS_SCHEDULING=true
GITHUB_ACTIONS_CRON_RSS=0 */30 9-18 * * 1-5  # Every 30min, business hours, weekdays
GITHUB_ACTIONS_CRON_SUMMARY=0 9 * * 1-5  # Daily summary at 9 AM weekdays

# Vercel deployment (free tier)
VERCEL_DEPLOYMENT=true
VERCEL_REGION=lhr1  # London region
VERCEL_FUNCTIONS_TIMEOUT=10  # seconds (free tier limit)

# Railway API hosting (500 hours/month free = 20+ days)
RAILWAY_DEPLOYMENT=true
RAILWAY_AUTO_SLEEP=true  # Sleep when not in use
RAILWAY_SLEEP_AFTER_MINUTES=15  # Aggressive sleep to conserve hours

# ================================================
# EMAIL ALERTS (FREE SMTP)
# ================================================
# Using free Gmail SMTP - no paid services
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASS=your_app_specific_password_here
ALERT_EMAIL=chris@totalaudiopromo.com

# No paid alert services
SLACK_WEBHOOK_URL=  # Leave empty to disable
WEBHOOK_ALERT_URL=  # Leave empty to disable
SMS_ALERTS=false
PUSH_NOTIFICATIONS=false

# ================================================
# TEMPLATE-BASED CONTENT GENERATION
# ================================================
# Fallback to templates when AI budget exhausted
ENABLE_TEMPLATE_FALLBACK=true
TEMPLATE_MODE_THRESHOLD=80  # Switch to templates at 80% AI budget
TEMPLATES_PRIORITY=cost_saving

# Template content quality settings
MIN_TEMPLATE_RELEVANCE_SCORE=0.7
TEMPLATE_VOICE_CONSISTENCY_TARGET=8.5
ENABLE_TEMPLATE_VARIABLES=true

# ================================================
# COST MONITORING & TRACKING
# ================================================
ENABLE_COST_TRACKING=true
TRACK_ALL_API_CALLS=true
GENERATE_DAILY_COST_REPORTS=true
ALERT_ON_COST_THRESHOLDS=true

# Cost tracking database (using free Notion)
COST_TRACKING_DB=your_cost_tracking_database_id
USAGE_ANALYTICS_DB=your_usage_analytics_database_id

# ================================================
# PERFORMANCE OPTIMIZATION FOR FREE TIERS
# ================================================
# Caching to reduce API calls
ENABLE_AGGRESSIVE_CACHING=true
CACHE_RSS_FEEDS_MINUTES=60  # Cache RSS for 1 hour
CACHE_CONTENT_TEMPLATES_HOURS=24
CACHE_API_RESPONSES_MINUTES=30

# Batch processing to optimize usage
ENABLE_BATCH_PROCESSING=true
BATCH_SIZE_RSS_PROCESSING=5
BATCH_SIZE_CONTENT_GENERATION=3
BATCH_PROCESSING_INTERVAL_MINUTES=60

# Resource optimization
ENABLE_MEMORY_OPTIMIZATION=true
GARBAGE_COLLECTION_AGGRESSIVE=true
LOG_LEVEL=error  # Reduce log verbosity
DISABLE_DEBUG_FEATURES=true

# ================================================
# FEATURE FLAGS FOR ECONOMY MODE
# ================================================
ENABLE_NEWSJACKING=true
ENABLE_AUTO_PUBLISH=false  # Manual approval to control costs
ENABLE_NEWSLETTER_AUTOMATION=false  # Disable until proven ROI
REQUIRE_APPROVAL_FOR_ALL_CONTENT=true
ENABLE_COMPETITIVE_MONITORING=false  # Disable to save API calls
ENABLE_PERFORMANCE_TRACKING=true

# Advanced features disabled in economy mode
ENABLE_SENTIMENT_ANALYSIS=false
ENABLE_ADVANCED_NLP=false
ENABLE_IMAGE_GENERATION=false
ENABLE_VIDEO_PROCESSING=false
ENABLE_VOICE_CLONING=false

# ================================================
# CONTENT QUALITY - OPTIMIZED FOR EFFICIENCY
# ================================================
# Higher thresholds to ensure only best content uses AI
MIN_VOICE_CONSISTENCY_SCORE=8.5
MIN_RELEVANCE_SCORE=0.75
AUTO_APPROVAL_THRESHOLD=0.9  # Very conservative
VIRAL_THRESHOLD=0.9

# Content limits for cost control
MAX_DAILY_POSTS=5  # Reduced for economy mode
MAX_WEEKLY_POSTS=25
MIN_CONTENT_SPACING_MINUTES=60  # Longer spacing

# ================================================
# REVENUE TRACKING FOR ROI ANALYSIS
# ================================================
ENABLE_ROI_TRACKING=true
TRACK_AUDIO_INTEL_CONVERSIONS=true
TRACK_EMAIL_SIGNUPS=true
TRACK_WEBSITE_TRAFFIC=true

# Revenue milestones for scaling
MONTHLY_REVENUE_TARGET_GBP=100
SCALE_UP_REVENUE_THRESHOLD_GBP=200
INVEST_IN_AUTOMATION_THRESHOLD_GBP=500

# ================================================
# EMERGENCY CONTROLS
# ================================================
# Auto-shutdown if approaching any paid tiers
ENABLE_EMERGENCY_SHUTDOWN=true
EMERGENCY_SHUTDOWN_EMAIL=chris@totalaudiopromo.com
EMERGENCY_SHUTDOWN_MESSAGE="Economy mode limits reached - system paused"

# Auto-pause specific features if budget concerns
AUTO_PAUSE_CLAUDE_AT_PERCENT=90
AUTO_PAUSE_TWITTER_AT_PERCENT=85
AUTO_PAUSE_LINKEDIN_AT_PERCENT=90

# Manual override for urgent opportunities
EMERGENCY_OVERRIDE_PASSWORD=your_secure_override_password_here
ALLOW_EMERGENCY_OVERRIDE=true
EMERGENCY_OVERRIDE_DAILY_LIMIT=2

# ================================================
# SCALING MILESTONES
# ================================================
# Month 1: 100% free tier operation
MONTH_1_TARGET_OPPORTUNITIES=20
MONTH_1_TARGET_CONTENT_PIECES=10
MONTH_1_COST_LIMIT_USD=0

# Month 2: Minimal AI budget if ROI proven
MONTH_2_CLAUDE_BUDGET_USD=10
MONTH_2_TARGET_REVENUE_GBP=50
MONTH_2_SCALE_TRIGGER_LEADS=5

# Month 3: Scale based on proven ROI
MONTH_3_SCALE_BUDGET_USD=25
MONTH_3_TARGET_REVENUE_GBP=150
MONTH_3_AUTOMATE_IF_ROI_ABOVE=300  # 300% ROI required

# ================================================
# DEBUG & LOGGING - MINIMAL IN ECONOMY MODE
# ================================================
LOG_LEVEL=warn  # Reduced logging
DEBUG_MODE=false
VERBOSE_LOGGING=false
DISABLE_PERFORMANCE_MONITORING=true  # Save resources

# Critical alerts only
ALERT_ON_SYSTEM_ERRORS=true
ALERT_ON_COST_OVERRUNS=true
ALERT_ON_HIGH_VALUE_OPPORTUNITIES=true