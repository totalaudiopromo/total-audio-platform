@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Liberty Hybrid Brand System - Warm Editorial Base */
    --background: 40 20% 97%;
    /* #F7F6F2 warm off-white */
    --foreground: 0 0% 7%;
    /* #111 near-black */
    --card: 0 0% 100%;
    /* Pure white for cards */
    --card-foreground: 0 0% 7%;
    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 7%;
    --primary: 0 0% 0%;
    --primary-foreground: 0 0% 100%;
    --secondary: 0 0% 96%;
    --secondary-foreground: 0 0% 7%;
    --muted: 40 20% 97%;
    --muted-foreground: 0 0% 45%;
    --accent: 0 0% 96%;
    --accent-foreground: 0 0% 7%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 100%;
    --border: 40 10% 85%;
    /* #D9D7D2 stronger contrast */
    --input: 40 10% 85%;
    --ring: 0 0% 0%;
    --radius: 0.75rem;

    /* Typography System - Jakarta Sans Primary */
    --font-heading: var(--font-jakarta);
    --font-sans: var(--font-jakarta);
    --font-mono: var(--font-jetbrains-mono);
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-[#F7F6F2] font-sans text-[#111] antialiased;
  }

  /* Headings → Jakarta Sans */
  h1 {
    @apply font-sans font-bold tracking-tight text-black;
  }

  h2 {
    @apply font-sans font-bold tracking-tight text-black;
  }

  h3 {
    @apply font-sans font-semibold tracking-tight text-black;
  }

  h4 {
    @apply font-sans font-semibold tracking-tight text-black;
  }

  h5,
  h6 {
    @apply font-sans font-medium tracking-tight text-black;
  }

  /* Body → Jakarta Sans */
  p,
  span,
  div,
  li,
  label,
  button {
    @apply font-sans;
  }

  /* Numbers + metadata → JetBrains Mono */
  [data-mono],
  .mono,
  .metadata,
  .stat-number,
  .stat-meta,
  .time-stamp,
  .stat {
    @apply font-mono tracking-tight;
  }
}

/* Liberty Hybrid Brand System */
@layer utilities {

  /* TAP Intelligence Accents - Use ONLY for data visualization */
  /* Darkened for WCAG AA compliance (4.5:1 contrast on white) */
  .tap-accent-crm {
    @apply text-[#2B8A9F];
  }

  .tap-accent-radio {
    @apply text-[#1BA34F];
  }

  .tap-accent-press {
    @apply text-[#D93D7D];
  }

  .tap-accent-playlist {
    @apply text-[#9333EA];
  }

  .tap-accent-pitch {
    @apply text-[#DC7B09];
  }

  .tap-accent-momentum {
    @apply text-[#CA9A06];
  }

  /* Background accents (very subtle, 10% opacity) */
  .bg-tap-accent-crm {
    @apply bg-[#3AA9BE]/10;
  }

  .bg-tap-accent-radio {
    @apply bg-[#22C55E]/10;
  }

  .bg-tap-accent-press {
    @apply bg-[#EC4899]/10;
  }

  .bg-tap-accent-playlist {
    @apply bg-[#A855F7]/10;
  }

  .bg-tap-accent-pitch {
    @apply bg-[#F59E0B]/10;
  }

  .bg-tap-accent-momentum {
    @apply bg-[#EAB308]/10;
  }

  /* Border accents */
  .border-tap-accent-crm {
    @apply border-[#3AA9BE];
  }

  .border-tap-accent-radio {
    @apply border-[#22C55E];
  }

  .border-tap-accent-press {
    @apply border-[#EC4899];
  }

  .border-tap-accent-playlist {
    @apply border-[#A855F7];
  }

  .border-tap-accent-pitch {
    @apply border-[#F59E0B];
  }

  .border-tap-accent-momentum {
    @apply border-[#EAB308];
  }

  /* Liberty Base System - Warm Editorial Foundation */
  .bg-tap-bg {
    @apply bg-[#F7F6F2];
  }

  .bg-tap-panel {
    @apply bg-white;
  }

  .bg-tap-panel-hover {
    @apply bg-[#FAFAF8];
  }

  .border-tap-line {
    @apply border-[#D9D7D2];
  }

  /* Text colours - Strong hierarchy */
  .text-tap-text {
    @apply text-[#111];
  }

  .text-tap-muted {
    @apply text-[#737373];
  }

  /* Primary accent (black for structure, not intelligence) */
  .tap-accent {
    @apply text-black;
  }

  .bg-tap-accent {
    @apply bg-black;
  }

  .border-tap-accent {
    @apply border-black;
  }

  /* Status indicators - WCAG AA compliant */
  .bg-tap-good {
    @apply bg-[#16A34A]; /* Darker green for better contrast with white text */
  }

  .text-tap-good {
    @apply text-[#16A34A]; /* Darker green (WCAG AA on white) */
  }

  .bg-tap-risk {
    @apply bg-[#DC2626]; /* Darker red for better contrast with white text */
  }

  .text-tap-risk {
    @apply text-[#DC2626]; /* Darker red (WCAG AA on white) */
  }

  /* Liberty Card System */
  .liberty-card {
    @apply bg-white rounded-xl border border-[#D9D7D2] p-6;
    @apply shadow-[0_1px_3px_rgba(0,0,0,0.04)];
    @apply hover:shadow-[0_4px_12px_rgba(0,0,0,0.06)];
    @apply transition-shadow duration-200 ease-out;
  }

  .liberty-card-inner {
    @apply bg-white rounded-lg border border-[#D9D7D2] p-3;
  }

  /* Liberty Typography System */
  .liberty-heading {
    @apply font-sans font-semibold text-[#111] tracking-tight;
  }

  .liberty-label {
    @apply font-sans text-sm font-medium text-[#737373] uppercase tracking-wide;
  }

  .liberty-body {
    @apply font-sans text-base text-[#111];
  }

  .liberty-metadata {
    @apply font-mono text-xs text-[#737373];
  }

  /* Accessible text on colored backgrounds - Always white for maximum contrast */
  .text-on-accent {
    @apply text-white font-semibold;
  }

  /* Ensure stat numbers/badges on colored backgrounds are always readable */
  .stat-on-color {
    @apply text-[#111] font-bold;
  }

  /* Status System - Semantic Colours */
  .status-active { @apply bg-black text-white; }
  .status-success { @apply bg-tap-good text-white; }
  .status-warning { @apply bg-[#DC7B09] text-white; }
  .status-error { @apply bg-tap-risk text-white; }
  .status-neutral { @apply bg-[#F5F5F5] text-tap-text border border-tap-line; }
  .status-muted { @apply bg-[#FAFAF8] text-tap-muted border border-[#E8E6E1]; }

  /* Status pills/badges - outlined variants */
  .status-active-outline { @apply border border-black text-black bg-transparent; }
  .status-success-outline { @apply border border-tap-good text-tap-good bg-tap-good/5; }
  .status-warning-outline { @apply border border-[#DC7B09] text-[#DC7B09] bg-[#F59E0B]/5; }
  .status-error-outline { @apply border border-tap-risk text-tap-risk bg-tap-risk/5; }

  /* Page layouts */
  .liberty-page {
    @apply max-w-7xl mx-auto px-6 py-8;
  }

  .liberty-page-header {
    @apply mb-8;
  }

  .liberty-page-title {
    @apply text-2xl font-semibold text-tap-text tracking-tight;
  }

  .liberty-page-subtitle {
    @apply text-sm text-tap-muted mt-1;
  }

  /* Grid layouts */
  .liberty-grid-stats {
    @apply grid grid-cols-2 lg:grid-cols-4 gap-4;
  }

  .liberty-grid-cards {
    @apply grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6;
  }

  .liberty-stack {
    @apply flex flex-col gap-4;
  }

  .liberty-stack-tight {
    @apply flex flex-col gap-2;
  }

  /* Card variants */
  .liberty-card-compact {
    @apply bg-white rounded-lg border border-[#D9D7D2] p-4;
    @apply shadow-[0_1px_2px_rgba(0,0,0,0.03)];
  }

  .liberty-card-flat {
    @apply bg-white rounded-lg border border-[#D9D7D2] p-6;
  }

  /* Interaction states - subtle, refined */
  .liberty-interactive {
    @apply transition-all duration-200 ease-out;
  }

  .liberty-hover-lift {
    @apply hover:-translate-y-0.5 hover:shadow-[0_4px_12px_rgba(0,0,0,0.06)];
    @apply transition-all duration-200 ease-out;
  }

  .liberty-hover-bg {
    @apply hover:bg-[#FAFAF8];
    @apply transition-colors duration-150 ease-out;
  }

  .liberty-focus {
    @apply focus:outline-none focus:ring-2 focus:ring-black/10 focus:ring-offset-2;
  }

  /* Button system */
  .liberty-btn {
    @apply inline-flex items-center justify-center px-4 py-2 rounded-lg;
    @apply font-medium text-sm;
    @apply transition-all duration-150 ease-out;
    @apply focus:outline-none focus:ring-2 focus:ring-offset-2;
  }

  .liberty-btn-primary {
    @apply liberty-btn bg-black text-white;
    @apply hover:bg-[#262626] active:bg-[#171717];
    @apply focus:ring-black/20;
  }

  .liberty-btn-secondary {
    @apply liberty-btn bg-white text-[#111] border border-[#D9D7D2];
    @apply hover:bg-[#FAFAF8] hover:border-[#C5C3BE];
    @apply focus:ring-black/10;
  }

  .liberty-btn-ghost {
    @apply liberty-btn text-[#737373];
    @apply hover:text-[#111] hover:bg-[#F5F5F5];
  }

  .liberty-btn-icon {
    @apply p-2 rounded-lg;
    @apply text-[#737373] hover:text-[#111] hover:bg-[#F5F5F5];
    @apply transition-all duration-150 ease-out;
    @apply focus:outline-none focus:ring-2 focus:ring-black/10 focus:ring-offset-2;
  }

  /* Micro typography - 10px metadata for dense UI */
  .liberty-metadata-micro {
    @apply font-mono text-[10px] text-[#737373] uppercase tracking-wide;
  }

  /* Accessibility - WCAG 2.2 AA touch targets */
  .liberty-touch-target {
    @apply min-h-[44px] min-w-[44px] flex items-center justify-center;
  }

  /* Loading states */
  .liberty-skeleton {
    @apply bg-[#F0EFEB] rounded;
    animation: skeleton-pulse 1.5s ease-in-out infinite;
  }

  @keyframes skeleton-pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.6; }
  }

  .liberty-fade-in {
    animation: fadeIn 200ms ease-out;
  }

  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }
}

/* Scrollbar styling */
@layer utilities {
  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }

  .no-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
}