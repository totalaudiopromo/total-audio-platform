{"version":3,"file":"js/sig-ext.js","mappings":"qCAEA,MAAM,OAAEA,GAAWC,EAAQ,GAE3BC,KAAKC,QAAUD,KAAKC,SAAW,CAAC,EAChCD,KAAKC,QAAQH,OAASE,KAAKC,QAAQH,QAAU,CAC3CI,YAAa,CAAEC,YAAa,MAE9BH,KAAKC,QAAQH,OAAOM,eAAiBN,EAAOO,QAC5CL,KAAKC,QAAQH,OAAOQ,sBAAwBR,EAAOI,YAAYJ,EAAOO,SAElEL,KAAKO,SACPP,KAAKO,OAAON,QAAUD,KAAKC,Q,6BCZ7BO,EAAOC,QAAU,CACf,KAAQ,aACR,mBAAsB,2BACtB,OAAU,CACR,YAAe,CACb,iBAAoB,iBACpB,2BAA4B,gBAC5B,WAAc,cACd,eAAgB,gBAChB,aAAc,aACd,WAAY,gBACZ,gBAAiB,gBACjB,cAAe,gBACf,eAAkB,iBAClB,KAAQ,gBACR,UAAa,cACb,iBAAkB,gBAClB,OAAU,gBACV,MAAS,eACT,YAAa,cACb,YAAa,cACb,0BAA2B,cAC3B,uBAAwB,iBACxB,mBAAoB,iBACpB,kBAAmB,iBACnB,WAAc,aACd,cAAe,cACf,uBAAwB,cACxB,KAAQ,gBACR,cAAe,aACf,WAAc,cACd,6BAA8B,iBAC9B,yBAA0B,gBAC1B,eAAkB,iBAClB,cAAiB,iBACjB,QAAW,cACX,SAAY,eACZ,wBAAyB,gBACzB,sCAAuC,iBACvC,2BAA4B,iBAC5B,+BAAgC,gBAChC,wCAAyC,iBACzC,6BAA8B,gBAC9B,uBAAwB,gBACxB,OAAU,eACV,qBAAsB,iBACtB,qBAAsB,gBACtB,yBAA0B,gBAC1B,sBAAuB,gBACvB,8BAA+B,gBAC/B,oBAAuB,eACvB,kBAAmB,iBACnB,QAAW,cACX,OAAU,eACV,0BAA2B,aAC3B,2BAA4B,iBAC5B,gCAAiC,gBACjC,mBAAoB,gBACpB,WAAY,gBACZ,mBAAoB,gBACpB,wBAAyB,gBACzB,oBAAqB,gBACrB,SAAY,iBACZ,YAAa,eACb,MAAS,eACT,iBAAkB,gBAClB,kBAAqB,iBACrB,OAAU,aACV,aAAc,gBACd,OAAU,cACV,kBAAmB,cACnB,mBAAsB,gBACtB,oBAAuB,eACvB,eAAkB,eAClB,sBAAuB,gBACvB,MAAS,gBACT,gBAAiB,gBACjB,YAAa,cACb,4BAA6B,aAC7B,uBAAwB,cACxB,cAAe,cACf,cAAe,iBACf,oBAAqB,cACrB,cAAe,gBACf,oBAAqB,cACrB,MAAS,cACT,cAAe,cACf,sBAAuB,gBACvB,2BAA4B,gBAC5B,iBAAkB,iBAClB,SAAY,cACZ,oCAAqC,iBACrC,mBAAoB,iBACpB,mBAAoB,iBACpB,kBAAmB,iBACnB,sBAAuB,iBACvB,2BAA8B,iBAC9B,YAAe,eACf,aAAgB,iBAChB,SAAY,gBACZ,gBAAiB,gBACjB,WAAc,eACd,gBAAiB,gBACjB,kBAAqB,eACrB,mBAAoB,iBACpB,sBAAuB,iBACvB,0BAA2B,gBAC3B,oBAAqB,cACrB,aAAgB,eAChB,iBAAkB,iBAClB,OAAU,cACV,iBAAkB,gBAClB,UAAa,cACb,gBAAiB,iBACjB,sBAAuB,gBACvB,uBAAwB,gBACxB,oCAAqC,iBACrC,WAAY,eACZ,YAAa,eACb,oBAAqB,gBACrB,aAAgB,gBAChB,UAAa,gBACb,gBAAiB,gBACjB,qBAAsB,gBACtB,gCAAiC,gBACjC,wBAAyB,gBACzB,gBAAiB,iBACjB,aAAgB,iBAChB,kBAAmB,gBACnB,2BAA4B,gBAC5B,gCAAiC,gBACjC,iBAAkB,gBAClB,IAAO,cACP,cAAe,gBACf,mBAAoB,gBACpB,gBAAiB,cACjB,4BAA6B,gBAC7B,kBAAmB,eACnB,QAAW,gBACX,oBAAqB,gBACrB,wBAA2B,eAC3B,mBAAoB,iBACpB,eAAgB,eAChB,oBAAqB,gBACrB,mBAAoB,cACpB,eAAkB,gBAClB,KAAQ,cACR,0BAA2B,gBAC3B,aAAc,cACd,6BAA8B,iBAC9B,6BAA8B,iBAC9B,gCAAiC,iBACjC,yBAA0B,aAC1B,WAAc,gBACd,wBAAyB,gBACzB,+BAAgC,gBAChC,wBAAyB,iBACzB,+BAAgC,aAChC,WAAc,iBACd,iBAAoB,gBACpB,uCAAwC,gBACxC,oBAAqB,gBACrB,4BAA6B,iBAC7B,qBAAsB,iBACtB,gCAAiC,iBACjC,0BAA2B,iBAC3B,6BAA8B,iBAC9B,6BAA8B,iBAC9B,wBAAyB,gBACzB,wCAAyC,gBACzC,YAAa,gBACb,kBAAmB,iBACnB,gCAAiC,gBACjC,0BAA2B,iBAC3B,kCAAmC,gBACnC,wBAAyB,cACzB,iCAAkC,gBAClC,kCAAmC,gBACnC,2BAA4B,iBAC5B,mCAAoC,gBACpC,qBAAsB,gBACtB,2BAA4B,iBAC5B,eAAgB,gBAChB,mBAAoB,gBACpB,iBAAkB,eAClB,gBAAiB,eACjB,6BAA8B,aAC9B,qCAAsC,gBACtC,cAAe,cACf,aAAc,cACd,iBAAkB,cAClB,kCAAmC,gBACnC,iBAAkB,eAClB,cAAe,gBACf,YAAa,cACb,wBAAyB,gBACzB,cAAe,iBACf,uBAAwB,gBACxB,MAAS,cACT,gBAAiB,eACjB,yBAA0B,gBAC1B,mBAAoB,aACpB,yBAA0B,iBAC1B,sBAAuB,iBACvB,SAAY,iBACZ,oBAAqB,iBACrB,sBAAuB,iBACvB,WAAY,cACZ,YAAe,cACf,6BAA8B,gBAC9B,cAAe,aACf,4BAA6B,iBAC7B,oCAAqC,gBACrC,aAAc,gBACd,uBAAwB,gBACxB,2BAA4B,iBAC5B,YAAa,gBACb,cAAe,aACf,kBAAmB,gBACnB,mBAAoB,gBACpB,eAAgB,gBAChB,qBAAsB,gBACtB,WAAc,eACd,gBAAiB,cACjB,QAAW,cACX,+BAAgC,gBAChC,kBAAmB,gBACnB,sCAAuC,gBACvC,yBAA0B,eAC1B,gCAAiC,iBACjC,mBAAoB,cACpB,wCAAyC,gBACzC,0BAA2B,iBAC3B,wBAAyB,gBACzB,yBAA0B,iBAC1B,cAAe,iBACf,+BAAgC,iBAChC,oBAAqB,iBACrB,yBAA0B,gBAC1B,wBAAyB,iBACzB,gBAAiB,cACjB,8BAA+B,iBAC/B,eAAgB,cAChB,gBAAiB,iBACjB,yBAA0B,iBAC1B,qBAAwB,iBACxB,gBAAmB,iBACnB,eAAkB,iBAClB,8BAA+B,iBAC/B,kCAAmC,iBACnC,mBAAoB,iBACpB,4BAA6B,gBAC7B,qCAAsC,gBACtC,WAAY,iBACZ,sCAAuC,gBACvC,sBAAuB,iBACvB,gBAAiB,iBACjB,uCAAwC,gBACxC,wBAAyB,gBACzB,qBAAsB,gBACtB,uBAAwB,gBACxB,oBAAuB,gBACvB,mBAAoB,gBACpB,2BAA4B,iBAC5B,4BAA6B,iBAC7B,uCAAwC,iBACxC,oBAAqB,gBACrB,uBAAwB,iBACxB,sBAAuB,gBACvB,6CAA8C,gBAC9C,mCAAoC,gBACpC,UAAa,gBACb,4BAA6B,gBAC7B,iBAAkB,iBAClB,iCAAkC,gBAClC,wCAAyC,gBACzC,oCAAqC,gBACrC,kBAAmB,gBACnB,0BAA2B,gBAC3B,oBAAqB,iBACrB,sDAAuD,gBACvD,IAAO,gBACP,aAAc,gBACd,gBAAiB,iBACjB,+CAAgD,gBAChD,QAAW,cACX,iBAAkB,iBAClB,kBAAmB,iBACnB,iBAAkB,iBAClB,+BAAgC,iBAChC,qCAAsC,iBACtC,uBAAwB,iBACxB,iCAAkC,iBAClC,gBAAiB,iBACjB,gCAAiC,iBACjC,+BAAgC,gBAChC,eAAgB,gBAChB,QAAW,cACX,qBAAsB,iBACtB,0BAA2B,gBAC3B,0BAA2B,iBAC3B,wBAAyB,gBACzB,8BAA+B,gBAC/B,oCAAqC,gBACrC,kBAAmB,eACnB,mCAAoC,gBACpC,aAAc,cACd,eAAgB,cAChB,uCAAwC,iBACxC,OAAU,aACV,oCAAqC,eACrC,mBAAoB,iBACpB,iBAAkB,iBAClB,gCAAiC,gBACjC,sBAAuB,iBACvB,uBAAwB,iBACxB,kBAAmB,gBACnB,mBAAoB,gBACpB,UAAa,cACb,kBAAqB,iBACrB,gBAAiB,aACjB,mBAAoB,iBACpB,cAAe,iBACf,oBAAqB,gBACrB,iCAAkC,gBAClC,yBAA0B,gBAC1B,YAAa,cACb,2BAA4B,gBAC5B,gCAAiC,iBACjC,4BAA6B,gBAC7B,kCAAmC,iBACnC,iBAAkB,gBAClB,sBAAuB,iBACvB,0BAA2B,gBAC3B,YAAe,gBACf,oCAAqC,gBACrC,0BAA2B,gBAC3B,+BAAgC,iBAChC,oCAAqC,gBACrC,eAAgB,gBAChB,8BAA+B,gBAC/B,2BAA4B,gBAC5B,qCAAsC,gBACtC,6BAA8B,iBAC9B,mBAAoB,iBACpB,WAAc,cACd,sBAAuB,gBACvB,kBAAmB,cACnB,WAAc,gBACd,eAAgB,iBAChB,WAAc,cACd,wBAAyB,iBACzB,mBAAoB,iBACpB,mBAAoB,gBACpB,wBAAyB,iBACzB,wBAAyB,gBACzB,cAAe,gBACf,6BAA8B,gBAC9B,gCAAiC,gBACjC,2BAA4B,iBAC5B,6BAA8B,gBAC9B,mCAAoC,cACpC,qBAAsB,gBACtB,gCAAiC,gBACjC,oBAAqB,gBACrB,sCAAuC,eACvC,wBAAyB,iBACzB,sBAAuB,gBACvB,oBAAqB,gBACrB,sBAAuB,iBACvB,+CAAgD,gBAChD,6BAA8B,gBAC9B,qBAAsB,gBACtB,+BAAgC,iBAChC,QAAW,gBACX,2BAA4B,gBAC5B,wBAAyB,iBACzB,yBAA0B,iBAC1B,kBAAmB,iBACnB,aAAc,cACd,gBAAiB,cACjB,gCAAiC,gBACjC,6BAA8B,iBAC9B,UAAa,cACb,mBAAoB,gBACpB,qBAAsB,gBACtB,2BAA4B,iBAC5B,gCAAiC,gBACjC,oCAAqC,gBACrC,YAAe,iBACf,oCAAqC,eACrC,gCAAiC,gBACjC,sBAAuB,gBACvB,oCAAqC,gBACrC,iBAAkB,gBAClB,SAAU,cACV,mBAAoB,aACpB,kBAAmB,gBACnB,iBAAkB,cAClB,iCAAkC,gBAClC,yCAA0C,gBAC1C,mBAAoB,cACpB,uBAAwB,gBACxB,yCAA0C,gBAC1C,8BAA+B,iBAC/B,wBAAyB,iBACzB,wCAAyC,gBACzC,oBAAqB,cACrB,0BAA2B,gBAC3B,wBAAyB,iBACzB,4BAA6B,iBAC7B,kBAAmB,cACnB,yBAA0B,gBAC1B,0BAA2B,gBAC3B,kBAAmB,gBACnB,+BAAgC,eAChC,6BAA8B,gBAC9B,GAAM,aACN,iBAAkB,gBAClB,aAAgB,gBAChB,4BAA6B,gBAC7B,qBAAsB,gBACtB,sBAAuB,gBACvB,yBAA0B,gBAC1B,eAAgB,cAChB,6BAA8B,iBAC9B,kCAAmC,iBACnC,8BAA+B,iBAC/B,4BAA6B,iBAC7B,8BAA+B,iBAC/B,kBAAmB,gBACnB,4BAA6B,iBAC7B,cAAe,gBACf,gCAAiC,gBACjC,qCAAsC,gBACtC,wCAAyC,gBACzC,oCAAqC,gBACrC,4BAA6B,iBAC7B,wCAAyC,gBACzC,kBAAmB,iBACnB,wBAAyB,gBACzB,YAAe,gBACf,sBAAuB,iBACvB,mBAAoB,kBACpB,gBAAiB,iBACjB,0BAA2B,iBAC3B,qCAAsC,iBACtC,uBAAwB,iBACxB,yBAA0B,iBAC1B,8BAA+B,iBAC/B,oBAAqB,gBACrB,oBAAqB,iBACrB,sBAAuB,iBACvB,gCAAiC,gBACjC,kCAAmC,gBACnC,iBAAkB,eAClB,gBAAiB,iBACjB,uCAAwC,gBACxC,mBAAoB,gBACpB,qCAAsC,iBACtC,gBAAiB,cAEnB,gBAAmB,CACjB,iBAAoB,mCACpB,2BAA4B,0CAC5B,WAAc,0BACd,eAAgB,8BAChB,aAAc,yBACd,WAAY,0BACZ,gBAAiB,+BACjB,cAAe,6BACf,eAAkB,iCAClB,KAAQ,sBACR,UAAa,yBACb,iBAAkB,gCAClB,OAAU,wBACV,MAAS,sBACT,YAAa,yBACb,YAAa,yBACb,0BAA2B,uCAC3B,uBAAwB,uCACxB,mBAAoB,mCACpB,kBAAmB,kCACnB,WAAc,yBACd,cAAe,2BACf,uBAAwB,oCACxB,KAAQ,sBACR,cAAe,0BACf,WAAc,0BACd,6BAA8B,6CAC9B,yBAA0B,wCAC1B,eAAkB,iCAClB,cAAiB,gCACjB,QAAW,uBACX,SAAY,yBACZ,wBAAyB,uCACzB,sCAAuC,sDACvC,2BAA4B,2CAC5B,+BAAgC,8CAChC,wCAAyC,wDACzC,6BAA8B,4CAC9B,uBAAwB,sCACxB,OAAU,uBACV,qBAAsB,qCACtB,qBAAsB,oCACtB,yBAA0B,wCAC1B,sBAAuB,qCACvB,8BAA+B,6CAC/B,oBAAuB,oCACvB,kBAAmB,kCACnB,QAAW,uBACX,OAAU,uBACV,0BAA2B,sCAC3B,2BAA4B,2CAC5B,gCAAiC,+CACjC,mBAAoB,kCACpB,WAAY,0BACZ,mBAAoB,kCACpB,wBAAyB,uCACzB,oBAAqB,mCACrB,SAAY,2BACZ,YAAa,0BACb,MAAS,sBACT,iBAAkB,gCAClB,kBAAqB,oCACrB,OAAU,qBACV,aAAc,4BACd,OAAU,sBACV,kBAAmB,+BACnB,mBAAsB,oCACtB,oBAAuB,oCACvB,eAAkB,+BAClB,sBAAuB,qCACvB,MAAS,uBACT,gBAAiB,+BACjB,YAAa,yBACb,4BAA6B,wCAC7B,uBAAwB,oCACxB,cAAe,2BACf,cAAe,8BACf,oBAAqB,iCACrB,cAAe,6BACf,oBAAqB,iCACrB,MAAS,qBACT,cAAe,2BACf,sBAAuB,qCACvB,2BAA4B,0CAC5B,iBAAkB,iCAClB,SAAY,wBACZ,oCAAqC,oDACrC,mBAAoB,mCACpB,mBAAoB,mCACpB,kBAAmB,kCACnB,sBAAuB,sCACvB,2BAA8B,6CAC9B,YAAe,4BACf,aAAgB,+BAChB,SAAY,0BACZ,gBAAiB,+BACjB,WAAc,2BACd,gBAAiB,+BACjB,kBAAqB,kCACrB,mBAAoB,mCACpB,sBAAuB,sCACvB,0BAA2B,yCAC3B,oBAAqB,iCACrB,aAAgB,6BAChB,iBAAkB,iCAClB,OAAU,sBACV,iBAAkB,gCAClB,UAAa,yBACb,gBAAiB,gCACjB,sBAAuB,qCACvB,uBAAwB,sCACxB,oCAAqC,oDACrC,WAAY,yBACZ,YAAa,0BACb,oBAAqB,mCACrB,aAAgB,8BAChB,UAAa,2BACb,gBAAiB,+BACjB,qBAAsB,oCACtB,gCAAiC,+CACjC,wBAAyB,uCACzB,gBAAiB,gCACjB,aAAgB,+BAChB,kBAAmB,iCACnB,2BAA4B,0CAC5B,gCAAiC,+CACjC,iBAAkB,gCAClB,IAAO,mBACP,cAAe,6BACf,mBAAoB,kCACpB,gBAAiB,6BACjB,4BAA6B,2CAC7B,kBAAmB,gCACnB,QAAW,yBACX,oBAAqB,mCACrB,wBAA2B,wCAC3B,mBAAoB,mCACpB,eAAgB,6BAChB,oBAAqB,mCACrB,mBAAoB,gCACpB,eAAkB,gCAClB,KAAQ,oBACR,0BAA2B,yCAC3B,aAAc,0BACd,6BAA8B,6CAC9B,6BAA8B,6CAC9B,gCAAiC,gDACjC,yBAA0B,qCAC1B,WAAc,4BACd,wBAAyB,uCACzB,+BAAgC,8CAChC,wBAAyB,wCACzB,+BAAgC,2CAChC,WAAc,6BACd,iBAAoB,kCACpB,uCAAwC,sDACxC,oBAAqB,mCACrB,4BAA6B,4CAC7B,qBAAsB,qCACtB,gCAAiC,gDACjC,0BAA2B,0CAC3B,6BAA8B,6CAC9B,6BAA8B,6CAC9B,wBAAyB,uCACzB,wCAAyC,uDACzC,YAAa,2BACb,kBAAmB,kCACnB,gCAAiC,+CACjC,0BAA2B,0CAC3B,kCAAmC,iDACnC,wBAAyB,qCACzB,iCAAkC,gDAClC,kCAAmC,iDACnC,2BAA4B,2CAC5B,mCAAoC,kDACpC,qBAAsB,oCACtB,2BAA4B,2CAC5B,eAAgB,8BAChB,mBAAoB,kCACpB,iBAAkB,+BAClB,gBAAiB,8BACjB,6BAA8B,yCAC9B,qCAAsC,oDACtC,cAAe,2BACf,aAAc,0BACd,iBAAkB,8BAClB,kCAAmC,iDACnC,iBAAkB,+BAClB,cAAe,6BACf,YAAa,yBACb,wBAAyB,uCACzB,cAAe,8BACf,uBAAwB,sCACxB,MAAS,qBACT,gBAAiB,8BACjB,yBAA0B,wCAC1B,mBAAoB,+BACpB,yBAA0B,yCAC1B,sBAAuB,sCACvB,SAAY,2BACZ,oBAAqB,oCACrB,sBAAuB,sCACvB,WAAY,wBACZ,YAAe,2BACf,6BAA8B,4CAC9B,cAAe,0BACf,4BAA6B,4CAC7B,oCAAqC,mDACrC,aAAc,4BACd,uBAAwB,sCACxB,2BAA4B,2CAC5B,YAAa,2BACb,cAAe,0BACf,kBAAmB,iCACnB,mBAAoB,kCACpB,eAAgB,8BAChB,qBAAsB,oCACtB,WAAc,2BACd,gBAAiB,6BACjB,QAAW,uBACX,+BAAgC,8CAChC,kBAAmB,iCACnB,sCAAuC,qDACvC,yBAA0B,uCAC1B,gCAAiC,gDACjC,mBAAoB,gCACpB,wCAAyC,uDACzC,0BAA2B,0CAC3B,wBAAyB,uCACzB,yBAA0B,yCAC1B,cAAe,8BACf,+BAAgC,+CAChC,oBAAqB,oCACrB,yBAA0B,wCAC1B,wBAAyB,wCACzB,gBAAiB,6BACjB,8BAA+B,8CAC/B,eAAgB,4BAChB,gBAAiB,gCACjB,yBAA0B,yCAC1B,qBAAwB,uCACxB,gBAAmB,kCACnB,eAAkB,iCAClB,8BAA+B,8CAC/B,kCAAmC,kDACnC,mBAAoB,mCACpB,4BAA6B,2CAC7B,qCAAsC,oDACtC,WAAY,2BACZ,sCAAuC,qDACvC,sBAAuB,sCACvB,gBAAiB,gCACjB,uCAAwC,sDACxC,wBAAyB,uCACzB,qBAAsB,oCACtB,uBAAwB,sCACxB,oBAAuB,qCACvB,mBAAoB,kCACpB,2BAA4B,2CAC5B,4BAA6B,4CAC7B,uCAAwC,uDACxC,oBAAqB,mCACrB,uBAAwB,uCACxB,sBAAuB,qCACvB,6CAA8C,4DAC9C,mCAAoC,kDACpC,UAAa,2BACb,4BAA6B,2CAC7B,iBAAkB,iCAClB,iCAAkC,gDAClC,wCAAyC,uDACzC,oCAAqC,mDACrC,kBAAmB,iCACnB,0BAA2B,yCAC3B,oBAAqB,oCACrB,sDAAuD,qEACvD,IAAO,qBACP,aAAc,4BACd,gBAAiB,gCACjB,+CAAgD,8DAChD,QAAW,uBACX,iBAAkB,iCAClB,kBAAmB,kCACnB,iBAAkB,iCAClB,+BAAgC,+CAChC,qCAAsC,qDACtC,uBAAwB,uCACxB,iCAAkC,iDAClC,gBAAiB,gCACjB,gCAAiC,gDACjC,+BAAgC,8CAChC,eAAgB,8BAChB,QAAW,uBACX,qBAAsB,qCACtB,0BAA2B,yCAC3B,0BAA2B,0CAC3B,wBAAyB,uCACzB,8BAA+B,6CAC/B,oCAAqC,mDACrC,kBAAmB,gCACnB,mCAAoC,kDACpC,aAAc,0BACd,eAAgB,4BAChB,uCAAwC,uDACxC,OAAU,qBACV,oCAAqC,kDACrC,mBAAoB,mCACpB,iBAAkB,iCAClB,gCAAiC,+CACjC,sBAAuB,sCACvB,uBAAwB,uCACxB,kBAAmB,iCACnB,mBAAoB,kCACpB,UAAa,yBACb,kBAAqB,oCACrB,gBAAiB,4BACjB,mBAAoB,mCACpB,cAAe,8BACf,oBAAqB,mCACrB,iCAAkC,gDAClC,yBAA0B,wCAC1B,YAAa,yBACb,2BAA4B,0CAC5B,gCAAiC,gDACjC,4BAA6B,2CAC7B,kCAAmC,kDACnC,iBAAkB,gCAClB,sBAAuB,sCACvB,0BAA2B,yCAC3B,YAAe,6BACf,oCAAqC,mDACrC,0BAA2B,yCAC3B,+BAAgC,+CAChC,oCAAqC,mDACrC,eAAgB,8BAChB,8BAA+B,6CAC/B,2BAA4B,0CAC5B,qCAAsC,oDACtC,6BAA8B,6CAC9B,mBAAoB,mCACpB,WAAc,0BACd,sBAAuB,qCACvB,kBAAmB,+BACnB,WAAc,4BACd,eAAgB,+BAChB,WAAc,0BACd,wBAAyB,wCACzB,mBAAoB,mCACpB,mBAAoB,kCACpB,wBAAyB,wCACzB,wBAAyB,uCACzB,cAAe,6BACf,6BAA8B,4CAC9B,gCAAiC,+CACjC,2BAA4B,2CAC5B,6BAA8B,4CAC9B,mCAAoC,gDACpC,qBAAsB,oCACtB,gCAAiC,+CACjC,oBAAqB,mCACrB,sCAAuC,oDACvC,wBAAyB,wCACzB,sBAAuB,qCACvB,oBAAqB,mCACrB,sBAAuB,sCACvB,+CAAgD,8DAChD,6BAA8B,4CAC9B,qBAAsB,oCACtB,+BAAgC,+CAChC,QAAW,yBACX,2BAA4B,0CAC5B,wBAAyB,wCACzB,yBAA0B,yCAC1B,kBAAmB,kCACnB,aAAc,0BACd,gBAAiB,6BACjB,gCAAiC,+CACjC,6BAA8B,6CAC9B,UAAa,yBACb,mBAAoB,kCACpB,qBAAsB,oCACtB,2BAA4B,2CAC5B,gCAAiC,+CACjC,oCAAqC,mDACrC,YAAe,8BACf,oCAAqC,kDACrC,gCAAiC,+CACjC,sBAAuB,qCACvB,oCAAqC,mDACrC,iBAAkB,gCAClB,SAAU,sBACV,mBAAoB,+BACpB,kBAAmB,iCACnB,iBAAkB,8BAClB,iCAAkC,gDAClC,yCAA0C,wDAC1C,mBAAoB,gCACpB,uBAAwB,sCACxB,yCAA0C,wDAC1C,8BAA+B,8CAC/B,wBAAyB,wCACzB,wCAAyC,uDACzC,oBAAqB,iCACrB,0BAA2B,yCAC3B,wBAAyB,wCACzB,4BAA6B,4CAC7B,kBAAmB,+BACnB,yBAA0B,wCAC1B,0BAA2B,yCAC3B,kBAAmB,iCACnB,+BAAgC,6CAChC,6BAA8B,4CAC9B,GAAM,iBACN,iBAAkB,gCAClB,aAAgB,8BAChB,4BAA6B,2CAC7B,qBAAsB,oCACtB,sBAAuB,qCACvB,yBAA0B,wCAC1B,eAAgB,4BAChB,6BAA8B,6CAC9B,kCAAmC,kDACnC,8BAA+B,8CAC/B,4BAA6B,4CAC7B,8BAA+B,8CAC/B,kBAAmB,iCACnB,4BAA6B,4CAC7B,cAAe,6BACf,gCAAiC,+CACjC,qCAAsC,oDACtC,wCAAyC,uDACzC,oCAAqC,mDACrC,4BAA6B,4CAC7B,wCAAyC,uDACzC,kBAAmB,kCACnB,wBAAyB,uCACzB,YAAe,6BACf,sBAAuB,sCACvB,mBAAoB,oCACpB,gBAAiB,gCACjB,0BAA2B,0CAC3B,qCAAsC,qDACtC,uBAAwB,uCACxB,yBAA0B,yCAC1B,8BAA+B,8CAC/B,oBAAqB,mCACrB,oBAAqB,oCACrB,sBAAuB,sCACvB,gCAAiC,+CACjC,kCAAmC,iDACnC,iBAAkB,+BAClB,gBAAiB,gCACjB,uCAAwC,sDACxC,mBAAoB,kCACpB,qCAAsC,qDACtC,gBAAiB,6BAEnB,QAAW,mBACX,aAAgB,2BAChB,mBAAsB,4B,yCC/1B1B,MAAMC,EAAa,CACjB,MACA,QACA,MACA,UACA,WACA,QACA,WACA,WACA,OAkBIC,EAAc,CAAC,iBAAkB,cAAe,gBAChDC,EAAc,CAAC,UACfC,EAAU,CACdC,IAnBkB,CAClB,UACA,UACA,SACA,aACA,cACA,WACA,eACA,eACA,oBACA,eACA,mBACA,mBAOiBC,KAAK,KACtBC,IAAKL,EAAYI,KAAK,KACtBE,IAAKL,EAAYG,KAAK,MAGlBG,EAAe,SAAfA,EAAyBC,GAC7B,MAOMC,EAPa,IAAIC,OACpB,oCAAmCC,OAAOC,QAAQV,GAChDW,KAAI,EAAEC,EAAKC,KAAgB,MAAKA,aAAqBD,MACrDV,KACC,+EAGwBY,KAAKR,EAASS,UACtCC,EAAO,IAAIR,OACd,GAAEC,OAAOC,QAAQV,GACfW,KAAI,EAAEC,EAAKC,KAAgB,MAAKA,UAAkBD,MAClDV,KACC,qLA2BAe,EAAiB,CAxBN,IAAIT,OAClB,OAAMX,EAAWK,KAAK,6CAEI,IAAIM,OAAQ,qCACR,IAAIA,OAClC,6CAEuB,IAAIA,OAC5B,oDAEiC,IAAIA,OACrC,gFAE2B,IAAIA,OAC/B,qDAG2B,IAAIA,OAC/B,6CAE4B,IAAIA,OAChC,8CAcIU,EAAa,MACbC,EACJ,mFAEIC,EAAUC,IACd,IAAIC,EAAU5B,OAAkB2B,GAEhC,GAAc,MAAVC,EACF,IACEA,EAAU5B,OAAkB6B,eAAeC,QAAQH,EACrD,CAAE,MAAOI,GAAI,CAGf,GAAc,MAAVH,EACF,IACEA,EAAU5B,OAAkBgC,aAAaF,QAAQH,EACnD,CAAE,MAAOI,GAAI,CAGf,OAAOH,CAAM,EAGTK,EAAgBA,KACpB,MAAMC,EAAMR,EAAOF,GACnB,OAAIU,IAEOZ,EAAKF,KAAKR,EAASuB,MACrB,KAEA,OACT,EAGIC,EAASA,CAACT,EAAaO,KAC1BlC,OAAkB2B,GAAOO,EAC1B,OAAOA,CAAG,EAGNG,EAAM,CACVC,KAAM,aACNC,GAAI,eAGAC,EAAaN,IACjB,GAAmB,iBAARA,EAAkB,CAC3B,MAAMO,EAAQP,EAAIQ,cAClB,OAAQL,EAAeI,IAAUA,CACnC,CAEA,OAAOP,CAAG,EAGNS,EAAeT,IACnBA,EAAqB,iBAARA,EAAmBA,EAAIQ,mBAAgBE,EAEpD,OACE7B,OAAO8B,KAAKR,GAAKS,MAAMC,GAAiBb,IAASG,EAAeU,MAChEb,CAAG,EAIDc,EAAMA,CAACC,EAAkBC,KAC7B,GAAkB,MAAdA,EACF,MAAM,IAAIC,MAAM1B,GAElB,IAAIS,EAAM,KACV,GAAIe,EAAS,CACX,MAAMG,EAAQH,EAAQI,MAAM,KAAKC,UACjC,IAAK,IAAIC,EAAI,EAAGA,EAAIH,EAAMI,OAAQD,IAAK,CACrC,MAAME,EAAWL,EAAMG,GACvBrB,EAAMR,EAAQ,GAAE+B,EAASC,qBACzB,GAAIxB,EACF,KAEJ,CACF,CACA,GAAW,MAAPA,EAAa,CACf,MAAMyB,EAAa1B,IACnBC,EAAoB,MAAdyB,EAAqBA,EAAa,IAC1C,CACA,OAAOnB,EAAUN,EAAI,EAGjB0B,EAAM,SACVjC,EACAO,GAEA,GAAyB,IAArB2B,UAAUL,OAAc,CAC1BtB,EAAMP,EACNA,EAAMH,CACR,CACA,OAAOY,EAAOT,EAAKO,EACrB,EAEM4B,EAAcA,CAACb,EAAkBC,KACrC,GAAkB,MAAdA,EACF,MAAM,IAAIC,MAAM1B,GAElB,OAAOkB,EAAYK,EAAIC,GAAS,EAG5Bc,EAAWD,EAEXE,EAAUf,GAAoD,SAAtBc,EAASd,GAEjDgB,EAAQhB,GAAoD,OAAtBc,EAASd,GAgE/CiB,EAAYA,KAChB,MAAMC,EAAiBzC,EAAO,UAE9B,GAAIyC,EACF,OAAOA,EAGT,IAAK,MAAMC,KAAU7C,EACnB,GAAI6C,EAAOhD,KAAKR,EAASS,UACvB,OAAO+C,EAAOC,KAAKzD,EAASS,UAAW,GAI3C,MAAO,KAAK,EAGd,SAASiD,GACP,MAAEC,EAAK,SAAEC,GACTC,GAEKA,IACHA,EAASP,KAGX,MAAe,QAAXO,EACsB,mBAAVF,EAAuBA,EAAME,QAAU7B,EACxB,mBAAb4B,EACTA,EAASC,QADX,CAGT,CAEA,MAAO,CACL9D,eACA+D,MAlFYA,CAACzB,EAAiBC,GAAa,KAC3C,IAAItB,EACmB,iBAAZqB,IACTrB,EAASF,EAAQ,GAAEuB,EAAQS,wBAGf,MAAV9B,IACFA,EAASF,EAAO,UAGlB,OAAiB,MAAVE,EAAiBsB,EAAatB,CAAM,EAyE3Ce,cACAgC,SAjGgB1B,IAChB,IAAIrB,EACmB,iBAAZqB,IACTrB,EAASF,EAAQ,GAAEuB,EAAQS,2BAGf,MAAV9B,IACFA,EAASF,EAAO,aAGlB,OAAiB,MAAVE,EAAiBf,IAAee,CAAM,EAwF7CgD,QA5CcA,CAAC3B,EAAiBC,GAAa,KAC7C,IAAItB,EAASF,EAAQ,GAAEuB,EAAQS,yBACjB,MAAV9B,IACFA,EAASiD,KAAKC,UAAU5B,IAE1B,MAAqC,SAA7B,GAAEtB,IAASc,aAAwB,EAwC3CM,MACAkB,YACAJ,cACAC,WACAC,SACAC,OACAK,WACA9B,YACAoB,MACAmB,SAlFeA,CAAC9B,EAAiB+B,GAAM,KACvC,GAAuB,iBAAZ/B,EACT,IACM+B,EACFhD,aAAaiD,QACV,GAAEhC,EAAQS,sBACXmB,KAAKC,WAAU,IAGjB9C,aAAakD,WAAY,GAAEjC,EAAQS,sBAEvC,CAAE,MAAO3B,GACPK,EAAQ,GAAEa,EAAQS,sBAAuBsB,QAAOpC,EAClD,KACK,CACLoC,EAAiB,MAAX/B,GAAkBA,EACxB,IACM+B,EACFhD,aAAaiD,QAAQ,QAASJ,KAAKC,UAAUE,IAE7ChD,aAAakD,WAAW,QAE5B,CAAE,MAAOnD,GACPK,EAAO,QAAS4C,QAAOpC,EACzB,CACF,GA2DJ,EAEA,UAAejC,EAAawE,SAASvE,S,qBCtWrC,IAAMwE,MAAOC,GAAqB,EAAQ,IAGtCC,EACgB,oBAAXtF,OACHA,YACkB,IAAX,EAAAuF,EACP,EAAAA,EACgB,oBAAT9F,KACPA,KACA,CAAC,EACH+F,EAASF,EAAQF,MAEjBA,EAAQ,IAAIC,EAQhBD,EAAMK,WAAa,WACjBH,EAAQF,MAAQI,EAChB,OAAOJ,CACT,EAEAA,EAAMM,YAMNzF,EAAOC,QAAQyF,OAASP,EAAMO,OAAOC,KAAKR,GAC1CnF,EAAOC,QAAQ2F,QAAUT,EAAMS,QAAQD,KAAKR,GAC5CnF,EAAOC,QAAQ4F,OAASV,EAAMU,OAAOF,KAAKR,GAC1CnF,EAAOC,QAAQ6F,QAAUX,EAAMW,QAAQH,KAAKR,GAC5CnF,EAAOC,QAAQ8F,KAAOZ,EAAMY,KAAKJ,KAAKR,GACtCnF,EAAOC,QAAQ+F,UAAYb,EAAMa,UAAUL,KAAKR,GAChDnF,EAAOC,QAAQgG,iBAAmBd,EAAMc,iBAAiBN,KAAKR,GAC9DnF,EAAOC,QAAQiG,iBAAmBf,EAAMe,iBAAiBP,KAAKR,GAC9DnF,EAAOC,QAAQkG,eAAiBhB,EAAMgB,eAAeR,KAAKR,GAC1DnF,EAAOC,QAAQmG,kBAAoBjB,EAAMiB,kBAAkBT,KAAKR,GAChEnF,EAAOC,QAAQoG,UAAYlB,EAAMkB,UAAUV,KAAKR,GAChDnF,EAAOC,QAAQqG,eAAiBnB,EAAMmB,eAAeX,KAAKR,GAC1DnF,EAAOC,QAAQsG,gBAAkBpB,EAAMoB,gBAAgBZ,KAAKR,GAC5DnF,EAAOC,QAAQuG,eAAiBrB,EAAMqB,eAAeb,KAAKR,GAC1DnF,EAAOC,QAAQwG,aAAetB,EAAMsB,aAAad,KAAKR,GACtDnF,EAAOC,QAAQyG,WAAavB,EAAMuB,WAAWf,KAAKR,GAClDnF,EAAOC,QAAQ0G,eAAiBxB,EAAMwB,eAAehB,KAAKR,GAC1DnF,EAAOC,QAAQ2G,WAAazB,EAAMyB,WAAWjB,KAAKR,GAClDnF,EAAOC,QAAQ4G,gBAAkB1B,EAAM0B,gBAAgBlB,KAAKR,GAC5DnF,EAAOC,QAAQ6G,sBAAwB3B,EAAM2B,sBAAsBnB,KAAKR,GACxEnF,EAAOC,QAAQ8G,sBAAwB5B,EAAM4B,sBAAsBpB,KAAKR,GACxEnF,EAAOC,QAAQ+G,aAAe7B,EAAM6B,aAAarB,KAAKR,GACtDnF,EAAOC,QAAQgH,cAAgB9B,EAAM8B,cAActB,KAAKR,GACxDnF,EAAOC,QAAQiH,YAAc/B,EAAM+B,YAAYvB,KAAKR,GACpDnF,EAAOC,QAAQkH,QAAUhC,EAAMgC,QAAQxB,KAAKR,GAC5CnF,EAAOC,QAAQwF,UAAYN,EAAMM,UAAUE,KAAKR,GAChDnF,EAAOC,QAAQmH,iBAAmBjC,EAAMiC,iBAAiBzB,KAAKR,GAE9DnF,EAAOC,QAAUkF,C,6EClEjB,MAAMkC,EAAsB,EACtBC,EAAqB,GACrBC,EAAsB,CAC1B,OACA,QACA,MACA,eAEA,YAQa,SAASC,EAAiBC,GAEvC,MAAMC,EAAM,GACNC,EAAY,MAElB,IAAIC,EAAiBH,EACjBI,EAAS,EAEb,KAAOD,GAAkBC,EAASR,GAAqB,CACrD,MAAMS,EAAUC,EAAoBH,GAEpC,GAAgB,SAAZE,EACF,MAIF,GAAe,IAAXD,GAA4B,iBAAZC,EAClB,MAAO,eAIO,iBAAZA,GACFJ,EAAIM,KAAKF,GAEXD,GAAU,EAGV,IACED,EAAiBA,EAAeK,UAClC,CAAE,MAAOnG,GAEP,KACF,CACF,CAEA,OAAO4F,EAAIrE,UAAU9C,KAAKoH,EAC5B,CAMA,SAASI,EAAoBG,GAC3B,MAAMR,EAAgB,GAEtB,IAAKQ,EACH,MAAO,GAIT,IACE,IAAKA,EAAQC,QACX,MAAO,GAETT,EAAIM,KAAKE,EAAQC,QAAQ1F,cAC3B,CAAE,MAAOX,GAEP,MAAO,cACT,CAGA,IACMoG,EAAQE,IACVV,EAAIM,KAAM,IAAGE,EAAQE,KAEzB,CAAE,MAAOtG,GACP,CAIF,IAAK,MAAMuG,KAAad,EACtB,IACE,MAAMe,EAAQJ,EAAQK,aAAaF,GAC/BC,GACFZ,EAAIM,KAAM,IAAGK,MAAcC,MAE/B,CAAE,MAAOxG,GACP,CAIJ,IAAI0G,EAAgB,EAGpB,IACE,IAAK,MAAMC,KAAaP,EAAQQ,UAE9B,IAAID,EAAUE,WAAW,YAAzB,CAIA,GAAIH,EAAgBC,EAAUlF,OAAS+D,EACrC,MAGFkB,GAAiBC,EAAUlF,OAC3BmE,EAAIM,KAAM,IAAGS,IAPb,CASJ,CAAE,MAAO3G,GACP,CAGF,OAAO4F,EAAInH,KAAK,GAClB,C,YClHIqI,EAAW,EAAQ,IACnB/D,EAAY,EAAQ,IACpBgE,EAAmB,EAAQ,KAC3B,6BACFC,EAA4B,wBAC5BC,GACE,EAAQ,IAER,EAAQ,EAAQ,IAChBC,EAAU,EAAMA,QAChBC,EAAW,EAAMA,SAEjBC,GADAD,EAAW,EAAMA,SACF,EAAMC,cACrBC,EAAc,EAAMA,YACpBC,EAAa,EAAMA,WACnBC,EAAW,EAAMA,SACjBC,EAAgB,EAAMA,cACtBC,EAAO,EAAMA,KACbC,EAAc,EAAMA,YACpBC,EAAW,EAAMA,SACjBC,EAAS,EAAMA,OACfC,EAAa,EAAMA,WACnBC,EAAY,EAAMA,UAClBC,EAAQ,EAAMA,MACdC,EAAkB,EAAMA,gBACxBC,EAAmB,EAAMA,iBACzBC,EAAW,EAAMA,SACjBC,EAAO,EAAMA,KAEbC,EAAoB,iBAEpBC,EAAU,2CAA2C/G,MAAM,KAC7DgH,EAAa,gEAEf,SAASC,IACP,OAAQ,IAAIC,IACd,CAGA,IAAIjF,EACgB,oBAAXtF,OACHA,YACkB,IAAX,EAAAuF,EACP,EAAAA,EACgB,oBAAT9F,KACPA,KACA,CAAC,EACH+K,EAAYlF,EAAQH,SACpBsF,EAAanF,EAAQoF,UAEzB,SAASC,EAAqBC,EAAUC,GACtC,OAAOxB,EAAWwB,GACd,SAAUC,GACR,OAAOD,EAASC,EAAMF,EACxB,EACAC,CACN,CAKO,SAASzF,IACd2F,KAAKC,WAA8B,iBAATnG,OAAqBA,KAAKC,WAEpDiG,KAAKE,cAAgB7B,EAAYoB,GACjCO,KAAKG,eAAiB9B,EAAYqB,GAClCM,KAAKI,uBAAyB,KAC9BJ,KAAKK,UAAY,KACjBL,KAAKM,aAAe,KACpBN,KAAKO,cAAgB,KACrBP,KAAKQ,WAAa,KAClBR,KAAKS,eAAiB,KACtBT,KAAKU,eAAiB,CAAC,EACvBV,KAAKW,eAAiB,CACpBC,OAAQ,aACRC,aAAc,GACdC,WAAY,GACZC,cAAe,GACfC,aAAc,GACdC,qBAAqB,EACrBC,iBAAkB,EAGlBC,aAAc,IACdC,gBAAiB,GACjBC,iBAAiB,EACjBC,YAAY,EACZC,WAAY,EAGZC,sBAAuB,CACrB3H,SAAS,EACT4H,oBAAoB,EACpBC,sBAAsB,EACtBC,kBAAkB,EAClBC,gBAAiB,IAGrB5B,KAAK6B,eAAiB,EACtB7B,KAAK8B,mBAAoB,EACzB9B,KAAK+B,8BAAgC3J,MAAMgJ,gBAG3CpB,KAAKgC,iBAAmBzH,EAAQ0H,SAAW,CAAC,EAC5CjC,KAAKkC,wBAA0B,CAAC,EAChClC,KAAKmC,SAAW,GAChBnC,KAAKoC,WAAa7C,IAClBS,KAAKqC,iBAAmB,GACxBrC,KAAKsC,aAAe,GACpBtC,KAAKuC,mBAAqB,KAC1BvC,KAAKwC,iBACLxC,KAAKyC,UAAYlI,EAAQ1E,SACzBmK,KAAK0C,UAAY1C,KAAKyC,WAAazC,KAAKyC,UAAUE,KAClD3C,KAAK4C,gBAGL,IAAK,IAAIC,KAAU7C,KAAKgC,iBACtBhC,KAAKkC,wBAAwBW,GAAU7C,KAAKgC,iBAAiBa,EAEjE,CAQAxI,EAAMyI,UAAY,CAKhBC,QAAS,SAETpJ,OAAO,EAEPmE,SAAUA,EASVlD,OAAQ,SAAUoI,EAAKC,GACrB,IAAIvO,EAAOsL,KAEX,GAAItL,EAAK6L,cAAe,CACtBP,KAAKkD,UAAU,QAAS,4CACxB,OAAOxO,CACT,CACA,IAAKsO,EAAK,OAAOtO,EAEjB,IAAIyO,EAAgBzO,EAAKiM,eAGrBsC,GACFxE,EAAKwE,GAAS,SAAUrM,EAAK4G,GAEf,SAAR5G,GAA0B,UAARA,GAA2B,SAARA,EACvClC,EAAKgM,eAAe9J,GAAO4G,EAE3B2F,EAAcvM,GAAO4G,CAEzB,IAGF9I,EAAKqG,OAAOiI,GAIZG,EAActC,aAAa3D,KAAK,qBAChCiG,EAActC,aAAa3D,KACzB,iDAIFiG,EAActC,aAAehC,EAAWsE,EAActC,cACtDsC,EAAcrC,aAAaqC,EAAcrC,WAAWrI,QAChDoG,EAAWsE,EAAcrC,YAE7BqC,EAAcpC,gBAAgBoC,EAAcpC,cAActI,QACtDoG,EAAWsE,EAAcpC,eAE7BoC,EAAcnC,aAAenC,EAAWsE,EAAcnC,cACtDmC,EAAcC,eAAiBC,KAAKC,IAClC,EACAD,KAAKE,IAAIJ,EAAcC,gBAAkB,IAAK,MAGhD,IAAII,EAAyB,CAC3BC,KAAK,EACLxB,SAAS,EACTyB,KAAK,EACL7N,UAAU,GAGRwL,EAAkB8B,EAAc9B,gBACM,oBAAtC,CAAC,EAAEsC,SAASC,KAAKvC,GACnBA,EAAkB3C,EAAY8E,EAAwBnC,IACzB,IAApBA,IACTA,EAAkBmC,GAEpBL,EAAc9B,gBAAkBA,EAEhC,IAAIwC,EAAqB,CACvBC,UAAU,GAGRxC,EAAa6B,EAAc7B,WACM,oBAAjC,CAAC,EAAEqC,SAASC,KAAKtC,GACnBA,EAAa5C,EAAYmF,EAAoBvC,IACrB,IAAfA,IACTA,EAAauC,GAEfV,EAAc7B,WAAaA,EAE3BxD,EAASmD,sBAAwBkC,EAAclC,oBAG/C,OAAOvM,CACT,EAUAoG,QAAS,WACP,IAAIpG,EAAOsL,KACX,GAAItL,EAAK2H,YAAc3H,EAAKoN,kBAAmB,CAC7ChE,EAASiG,OAAOC,WAAU,WACxBtP,EAAKuP,wBAAwBC,MAAMxP,EAAMoE,UAC3C,IAEEpE,EAAKiM,eAAeW,YACpB5M,EAAKiM,eAAeW,WAAWwC,UAE/BpP,EAAKyP,sBAGHzP,EAAKiM,eAAeU,iBAAiB3M,EAAK0P,yBAG9C1P,EAAK2P,gBAEL3P,EAAKoN,mBAAoB,CAC3B,CAEA1J,MAAMgJ,gBAAkB1M,EAAKiM,eAAeS,gBAC5C,OAAOpB,IACT,EAOAjF,OAAQ,SAAUiI,GAChB,IAAItO,EAAOsL,KACTsE,EAAM5P,EAAK6P,UAAUvB,GACrBwB,EAAYF,EAAIG,KAAKC,YAAY,KACjCD,EAAOH,EAAIG,KAAKE,OAAO,EAAGH,GAE5B9P,EAAKkQ,KAAO5B,EACZtO,EAAK8L,WAAa8D,EAAIO,KACtBnQ,EAAKoQ,cAAgBR,EAAIS,MAAQT,EAAIS,KAAKJ,OAAO,GACjDjQ,EAAK+L,eAAiB6D,EAAIG,KAAKE,OAAOH,EAAY,GAElD9P,EAAK6L,cAAgB7L,EAAKsQ,iBAAiBV,GAE3C5P,EAAKuQ,gBACHvQ,EAAK6L,cACL,IACAkE,EACA,OACA/P,EAAK+L,eACL,UAEF/L,EAAKwQ,yBACHxQ,EAAK6L,cAAgB,+CAIvBP,KAAK4C,eACP,EAUA5H,QAAS,SAAUiI,EAASkC,EAAMC,GAChC,GAAI9G,EAAW2E,GAAU,CACvBmC,EAAOD,GAAQ,GACfA,EAAOlC,EACPA,OAAUpL,CACZ,CAEA,OAAOmI,KAAK/E,KAAKgI,EAASkC,GAAMjB,MAAMlE,KAAMoF,EAC9C,EAUAnK,KAAM,SAAUgI,EAASkC,EAAME,GAC7B,IAAI3Q,EAAOsL,KAGX,GAAI3B,EAAY8G,KAAU7G,EAAW2E,GACnC,OAAOA,EAIT,GAAI3E,EAAW2E,GAAU,CACvBkC,EAAOlC,EACPA,OAAUpL,CACZ,CAIA,IAAKyG,EAAW6G,GACd,OAAOA,EAIT,IACE,GAAIA,EAAKG,UACP,OAAOH,EAIT,GAAIA,EAAKI,kBACP,OAAOJ,EAAKI,iBAEhB,CAAE,MAAOvO,GAIP,OAAOmO,CACT,CAIA,MAAM,aAAEK,GAAiB,CACvB,YAAW,GACT,IAAIJ,EAAO,GACT5M,EAAIM,UAAUL,OACdgN,GAAQxC,GAAYA,IAA4B,IAAjBA,EAAQwC,KAErCJ,GAAW/G,EAAW+G,IACxBA,EAAQnB,MAAMlE,KAAMlH,WAKtB,KAAON,KACL4M,EAAK5M,GAAKiN,EAAO/Q,EAAKuG,KAAKgI,EAASnK,UAAUN,IAAMM,UAAUN,GAEhE,IAKE,OAAO2M,EAAKjB,MAAMlE,KAAMoF,EAC1B,CAAE,MAAOpO,GACPtC,EAAKgR,qBACLhR,EAAK0G,iBAAiBpE,EAAGiM,GACzB,MAAMjM,CACR,CACF,GAIF,IAAK,IAAI2O,KAAYR,EACfvG,EAAOuG,EAAMQ,KACfH,EAAaG,GAAYR,EAAKQ,IAGlCH,EAAa1C,UAAYqC,EAAKrC,UAE9BqC,EAAKI,kBAAoBC,EAGzBA,EAAaF,WAAY,EACzBE,EAAaI,UAAYT,EAEzB,OAAOK,CACT,EAOAtK,UAAW,WACT4C,EAASiG,OAAO7I,YAEhB8E,KAAK6F,mBAELzN,MAAMgJ,gBAAkBpB,KAAK+B,8BAC7B/B,KAAK8B,mBAAoB,EAEzB,OAAO9B,IACT,EASA7E,iBAAkB,SAAU2K,EAAW7C,EAAU,CAAC,GAEhDjD,KAAK+F,qBAAqB,qBAC1B/F,KAAK+F,qBAAqB,yBAE1B,MAAMhG,EAAO,CACXiG,QAASF,KACN7C,EACHgD,MAAO,OACPC,aAAa,GAGflG,KAAKmG,MAAMpG,GAEX,OAAOC,IACT,EASA5E,iBAAkB,SAAUgL,EAAInD,GAE9B,IAAIvO,EAAOsL,KAEX,IAAKtL,EAAM,CACTuN,QAAQoE,MACN,0MAEF,OAAOrG,IACT,CACAtL,EAAKqR,qBAAqB,qBAC1BrR,EAAKqR,qBAAqB,yBAG1B,IAAIO,GAAcpI,EAAQkI,GACtBG,GAAmBnI,EAAagI,GAChCI,EAA2BpI,EAAagI,KAAQA,EAAGC,MAEvD,GAAKC,GAAcC,GAAoBC,EACrC,OAAOxG,KAAK3E,eACV+K,EACA1H,EACE,CACE+H,eAAgB,EAChBC,YAAY,GAEdzD,IAMF7E,EAAagI,KAAKA,EAAKA,EAAGC,OAE9B,IAAIM,EAAaP,EAAGQ,MAChBD,GACFjS,EAAKmS,mBAAmBF,GAItBP,EAAGU,WACLpS,EAAK+G,gBAAgB,IAAK2K,EAAGU,YAK7B9G,KAAKW,eAAea,sBAAsB3H,SAC1CmG,KAAK+G,cAAcX,IAEnBpG,KAAKgH,mBAAmBZ,GAI1BpG,KAAKI,uBAAyBgG,EAO9B,IACE,IAAIa,EAAQnJ,EAASoJ,kBAAkBd,GACvCpG,KAAKmH,iBAAiBF,EAAOhE,EAC/B,CAAE,MAAOmE,GACP,GAAIhB,IAAOgB,EACT,MAAMA,CAEV,CAEA,OAAOpH,IACT,EASA3E,eAAgB,SAAUgM,EAAKpE,GAC7B,IAAIvO,EAAOsL,KACXtL,EAAKqR,qBAAqB,qBAC1BrR,EAAKqR,qBAAqB,yBAK1B,GACI/F,KAAKW,eAAeE,aAAaxK,MACnC2J,KAAKW,eAAeE,aAAaxK,KAAKgR,GAEtCrH,KAAKsH,cAAc,iBAAkB,CACnCrB,MAAQhD,GAAWA,EAAQgD,OAAU,cALzC,CAYA,IAOIG,EAPArG,EAAOrB,EACT,CACEsH,QAASqB,EAAM,IAJnBpE,EAAUA,GAAW,CAAC,GActB,IACE,MAAM,IAAI7K,MAAMiP,EAClB,CAAE,MAAOD,GACPhB,EAAKgB,CACP,CAGAhB,EAAGmB,KAAO,KACV,IAAIN,EAAQnJ,EAASoJ,kBAAkBd,GAGnCoB,EAAcP,EAAMA,MAAM,GAE1BQ,EAAWD,GAAeA,EAAYE,KAAQ,GAElD,KACI1H,KAAKW,eAAeG,WAAWzK,OACjC2J,KAAKW,eAAeG,WAAWzK,KAAKoR,OAMlCzH,KAAKW,eAAeI,cAAc1K,MACnC2J,KAAKW,eAAeI,cAAc1K,KAAKoR,IAF1C,CAOA,GAAIzH,KAAKW,eAAe+F,YAAezD,GAAWA,EAAQyD,WAAa,CACrEzD,EAAU,CAGR0E,YAAaN,KACVpE,EAIHwD,gBAAiBxD,EAAQwD,gBAAkB,GAAK,GAGlD,IAAImB,EAAS5H,KAAK6H,eAAeZ,EAAOhE,GACxClD,EAAK2G,WAAa,CAEhBkB,OAAQA,EAAOrP,UAEnB,CAGAyH,KAAKmG,MAAMpG,GAEX,OAAOC,IAxBP,CA3CA,CAoEF,EAEA1E,kBAAmB,SAAUwM,GAC3B,IAAIC,EAAQrJ,EACV,CACEsJ,UAAWzI,IAAQ,KAErBuI,GAGF,GAAIxJ,EAAW0B,KAAKW,eAAesH,oBAAqB,CACtD,IAAIpR,EAASmJ,KAAKW,eAAesH,mBAAmBF,GAEpD,GAAI5J,EAAStH,KAAY2H,EAAc3H,GACrCkR,EAAQlR,OACH,IAAe,IAAXA,EACT,OAAOmJ,IAEX,CAEAA,KAAKsC,aAAapF,KAAK6K,GACnB/H,KAAKsC,aAAa7J,OAASuH,KAAKW,eAAeyC,gBACjDpD,KAAKsC,aAAa4F,QAEpB,OAAOlI,IACT,EAEAzE,UAAW,SAAU4M,GACnB,IAAIC,EAAa,GAAGC,MAAMzE,KAAK9K,UAAW,GAE1CkH,KAAKmC,SAASjF,KAAK,CAACiL,EAAQC,IACxBpI,KAAK8B,mBACP9B,KAAKqE,gBAGP,OAAOrE,IACT,EAQAxE,eAAgB,SAAUqJ,GAExB7E,KAAKU,eAAemE,KAAOA,EAE3B,OAAO7E,IACT,EAQAvE,gBAAiB,SAAU6M,GACzBtI,KAAKuI,cAAc,QAASD,GAE5B,OAAOtI,IACT,EAQAtE,eAAgB,SAAU8M,GACxBxI,KAAKuI,cAAc,OAAQC,GAE3B,OAAOxI,IACT,EAOArE,aAAc,WACZqE,KAAKU,eAAiB,CAAC,EAEvB,OAAOV,IACT,EAOApE,WAAY,WAEV,OAAO9B,KAAK2O,MAAM1O,EAAUiG,KAAKU,gBACnC,EAQA7E,eAAgB,SAAU6M,GACxB1I,KAAKW,eAAe+H,YAAcA,EAElC,OAAO1I,IACT,EAQAlE,WAAY,SAAU6M,GACpB3I,KAAKW,eAAegI,QAAUA,EAE9B,OAAO3I,IACT,EASAjE,gBAAiB,SAAU+D,GACzB,IAAID,EAAWG,KAAKW,eAAeiI,aACnC5I,KAAKW,eAAeiI,aAAehJ,EAAqBC,EAAUC,GAClE,OAAOE,IACT,EASAhE,sBAAuB,SAAU8D,GAC/B,IAAID,EAAWG,KAAKW,eAAesH,mBACnCjI,KAAKW,eAAesH,mBAAqBrI,EACvCC,EACAC,GAEF,OAAOE,IACT,EASA/D,sBAAuB,SAAU6D,GAC/B,IAAID,EAAWG,KAAKW,eAAekI,mBACnC7I,KAAKW,eAAekI,mBAAqBjJ,EACvCC,EACAC,GAEF,OAAOE,IACT,EAWA9D,aAAc,SAAU4M,GACtB9I,KAAKW,eAAemI,UAAYA,EAEhC,OAAO9I,IACT,EAOA7D,cAAe,WACb,OAAO6D,KAAKI,sBACd,EAOAhE,YAAa,WACX,OAAO4D,KAAKM,YACd,EAOAjE,QAAS,WACP,IAAK2D,KAAKC,SAAU,OAAO,EAC3B,IAAKD,KAAKO,cAAe,CAClBP,KAAK+I,0BACR/I,KAAK+I,yBAA0B,GAEjC/I,KAAKkD,UAAU,QAAS,yCAExB,OAAO,CACT,CACA,OAAO,CACT,EAEAvI,UAAW,WAIT,IAAIqO,EAAczO,EAAQyO,YACtBA,GACFhJ,KAAKpF,OAAOoO,EAAYhG,IAAKgG,EAAYpO,QAAQE,SAErD,EAEAwB,iBAAkB,SAAU2G,GAC1B,GACGxD,EADH,CAOA,IAAIrD,GAFJ6G,EAAUA,GAAW,CAAC,GAEIgG,SAAWjJ,KAAK5D,cAC1C,IAAKA,EACH,MAAM,IAAI2B,EAAiB,mBAG7B,IAAIiF,EAAMC,EAAQD,KAAOhD,KAAK4E,KAC9B,IAAK5B,EACH,MAAM,IAAIjF,EAAiB,eAG7B,IAAImL,EAASC,mBACTC,EAAK,GACTA,GAAM,YAAcF,EAAO9M,GAC3BgN,GAAM,QAAUF,EAAOlG,GAEvB,IAAI6B,EAAO5B,EAAQ4B,MAAQ7E,KAAKU,eAAemE,KAC/C,GAAIA,EAAM,CACJA,EAAK0C,OAAM6B,GAAM,SAAWF,EAAOrE,EAAK0C,OACxC1C,EAAKwE,QAAOD,GAAM,UAAYF,EAAOrE,EAAKwE,OAChD,CAEA,IAAIC,EAAetJ,KAAKgF,iBAAiBhF,KAAKuE,UAAUvB,IAEpDuG,EAAS9J,EAAU+J,cAAc,UACrCD,EAAOE,OAAQ,EACfF,EAAOG,IAAMJ,EAAe,yBAA2BF,GACtD3J,EAAUkK,MAAQlK,EAAUmK,MAAMC,YAAYN,EA9BvC,CA+BV,EAGA1C,mBAAoB,SAAUF,GAC5B,IACE,IAAIjS,EAAOsL,KACP8J,EAAkBhM,EAASoJ,kBAAkBP,GAC7CoD,EAAwB/J,KAAK6H,eAAeiC,EAAiB,CAAC,GAAG5T,KAClE8T,IACQ,CACLC,KAAMD,EAAWE,SACjBC,WAAYH,EAAWI,UAAY,IACnCC,WAAYL,EAAWM,OACvBC,OAAQP,EAAWQ,UAKrBV,EAAgB9D,SAClBtR,EAAK+G,gBAAgB,CACnBgP,kBAAmBX,EAAgB9D,UAInC+D,GAAyBA,EAAsBtR,QACjD/D,EAAK+G,gBAAgB,CACnBsO,sBAAuBjQ,KAAKC,UAAUgQ,IAG5C,CAAE,MAAO3C,GACP,GAAIT,IAAeS,EACjB,MAAMA,CAEV,CACF,EAIAL,cAAe,SAAUV,GACvB,QAAKA,IAOFA,EAAML,SACLK,EAAML,QAAQ0E,UACdrE,EAAML,QAAQ0E,SAAS,qBACzB1K,KAAK2K,wBAAwBtE,IAC7BrG,KAAK4K,4BAA4BvE,GAErC,EAEAsE,wBAAyB,SAAUtE,GACjC,SAAUA,EAAMO,QAASP,EAAMO,MAAMA,MACvC,EAEAgE,4BAA6B,SAAUvE,GACrC,MAAMwE,EAAYxE,EAAMO,OAASP,EAAMO,MAAMA,MAC7C,SAEIiE,KACEA,EAAUC,aACqB,eAA/BD,EAAUC,YAAYvD,MACrBsD,EAAUC,aACsB,uBAA/BD,EAAUC,YAAYvD,MACtBsD,EAAUE,MAGpB,EAEA/D,mBAAoB,SAAUX,GAE5B,IAAKnI,EAAQmI,GACX,OAGF,MAAM2E,EAAehL,KAAKiL,qBAAqB5E,GAE/C,GAAI2E,EAAc,CAEhBhL,KAAKvE,gBAAgB,CAEnByP,iBAAkBF,EAAaG,YAC/BC,gBAAiBJ,EAAab,WAC9BkB,eAAgBL,EAAaM,UAG7BC,sBAAuBP,EAAaQ,iBACpCC,uBAAwBT,EAAaU,kBACrCC,qBAAsBX,EAAaY,gBAGnCC,eAAgBb,EAAac,UAC7BC,iBAAkBf,EAAagB,cAIjC,GAAIhM,KAAKW,eAAea,sBAAsBE,qBAC5C,IACE2E,EAAML,QAAUhG,KAAKiM,4BACnB5F,EAAML,QACNgF,EAEJ,CAAE,MAAOhU,GAEPgJ,KAAKkD,UAAU,OAAQ,yCAA0ClM,EACnE,CAEJ,CACF,EAEAiU,qBAAsB,SAAU5E,GAC9B,MAAMrL,EAAU,CAAC,EAEjB,IAEE,GAAIqL,EAAML,QAAS,CACjB,MAAMkG,EAAe7F,EAAML,QAAQmG,MAAM,8BACrCD,IACFlR,EAAQmP,WAAa+B,EAAa,GAEtC,CAGA,IAAIE,EAAe/F,EACfgG,EAAQ,EACZ,MAAMC,EACJtM,KAAKW,eAAea,sBAAsBI,gBAE5C,KAAOwK,GAAgBC,EAAQC,GACzBF,EAAaxF,OADsB,CAErCwF,EAAeA,EAAaxF,MAC5ByF,GAIJ,CAGA,MAAMxB,EAAYuB,EAGlBpR,EAAQmQ,YAAcnL,KAAKuM,oBAAoBlG,EAAOwE,GAEtD,GAAIA,GAAaA,IAAcxE,EAAO,CACpCrL,EAAQsQ,UAAYT,EAAUE,MAAQ,UACtC/P,EAAQ4Q,gBACNf,EAAU2B,mBAAqB3B,EAAU7E,QAG3C,GACG6E,EAAUC,aACsB,eAA/BD,EAAUC,YAAYvD,MACL,qBAAnBsD,EAAUE,KACV,CACA/P,EAAQwQ,iBAAmBX,EAC3B7P,EAAQsQ,UAAY,cACtB,MAAO,GACJT,EAAUC,aACsB,uBAA/BD,EAAUC,YAAYvD,MACL,kBAAnBsD,EAAUE,KACV,CACA/P,EAAQ0Q,kBACNb,EAAUE,MACTF,EAAU4B,eAAiB5B,EAAU4B,cAAc1B,KACtD/P,EAAQsQ,UAAY,gBACtB,CAGItL,KAAKW,eAAea,sBAAsBG,mBAC5C3G,EAAQ8Q,UAAYzF,EAAMY,MAE9B,CACF,CAAE,MAAOjQ,GAEPgJ,KAAKkD,UAAU,OAAQ,mCAAoClM,EAC7D,CAEA,OAAOgE,CACT,EAEAuR,oBAAqB,SAAUlG,EAAOwE,GACpC,IAIE,MAAM5D,EAAQZ,EAAMY,OAAUZ,EAAMO,OAASP,EAAMO,MAAMK,MACzD,GAAIA,EAAO,CACT,MAAMyF,EAAezF,EAAMkF,MAAM,uBACjC,GAAIO,EAAc,OAAOA,EAAa,EACxC,CAGA,OAAI7B,EAAUM,YAAoBN,EAAUM,YACxCN,EAAU3S,QAAgB2S,EAAU3S,QAEjC,iBACT,CAAE,MAAOlB,GACP,MAAO,iBACT,CACF,EAEAiV,4BAA6B,SAAUL,EAAiB5Q,GACtD,IAAI2R,EAAWf,EAEX5Q,EAAQmQ,aAAuC,oBAAxBnQ,EAAQmQ,cACjCwB,GAAY,cAAgB3R,EAAQmQ,YAAc,KAGhDnQ,EAAQmP,aACVwC,GAAY,aAAe3R,EAAQmP,WAAa,KAG9CnP,EAAQsQ,WAAmC,YAAtBtQ,EAAQsQ,YAC/BqB,GAAY,WAAa3R,EAAQsQ,UAAY,KAI7CtQ,EAAQ4Q,iBACR5Q,EAAQ4Q,kBAAoBA,IAE5Be,GAAY,cAAgB3R,EAAQ4Q,gBAAkB,KAGxD,OAAOe,CACT,EAEA5G,qBAAsB,SAAUnP,GAC9B,IAAIlC,EAAOsL,KACN3B,EAAY3J,EAAKgM,eAAe4H,eAC5B5T,EAAKgM,eAAe4H,MAAM1R,EAErC,EAEA8O,mBAAoB,WAClB,IAAIhR,EAAOsL,KACXA,KAAK6B,gBAAkB,EACvB+K,YAAW,WAETlY,EAAKmN,gBAAkB,CACzB,GACF,EAEAyF,cAAe,SAAUuF,EAAW5J,GAElC,IAAI6J,EAAKlW,EAET,GAAKoJ,KAAKE,aAAV,CAEA+C,EAAUA,GAAW,CAAC,EAEtB4J,EACE,QAAUA,EAAUlI,OAAO,EAAG,GAAGhM,cAAgBkU,EAAUlI,OAAO,GAEhElF,EAAUsN,aACZD,EAAMrN,EAAUsN,YAAY,eACxBC,UAAUH,GAAW,GAAM,IAE/BC,EAAMrN,EAAUwN,qBACZJ,UAAYA,EAGlB,IAAKjW,KAAOqM,EACNrE,EAAOqE,EAASrM,KAClBkW,EAAIlW,GAAOqM,EAAQrM,IAGvB,GAAI6I,EAAUsN,YAEZtN,EAAUyN,cAAcJ,QAIxB,IACErN,EAAU0N,UAAU,KAAOL,EAAID,UAAUlV,cAAemV,EAC1D,CAAE,MAAO9V,GAET,CA9B4B,CAgChC,EAQAoW,wBAAyB,SAAUC,GACjC,IAAI3Y,EAAOsL,KACX,OAAO,SAAU8M,GAIfpY,EAAK8N,iBAAmB,KAKxB,GAAI9N,EAAK6N,qBAAuBuK,EAAhC,CAEApY,EAAK6N,mBAAqBuK,EAM1B,IAAInQ,EACJ,IACEA,EAASD,EAAiBoQ,EAAInQ,OAChC,CAAE,MAAO3F,GACP2F,EAAS,WACX,CAEAjI,EAAK4G,kBAAkB,CACrBgS,SAAU,MAAQD,EAClBrH,QAASrJ,GAjBgC,CAmB7C,CACF,EAOA4Q,sBAAuB,WACrB,IAAI7Y,EAAOsL,KACTwN,EAAmB,IAKrB,OAAO,SAAUV,GACf,IAAInQ,EACJ,IACEA,EAASmQ,EAAInQ,MACf,CAAE,MAAO3F,GAGP,MACF,CACA,IAAIqG,EAAUV,GAAUA,EAAOU,QAK/B,GACGA,IACY,UAAZA,GACa,aAAZA,GACCV,EAAO8Q,mBAJZ,CAUA,IAAIC,EAAUhZ,EAAK8N,iBACdkL,GACHhZ,EAAK0Y,wBAAwB,QAA7B1Y,CAAsCoY,GAExCa,aAAaD,GACbhZ,EAAK8N,iBAAmBoK,YAAW,WACjClY,EAAK8N,iBAAmB,IAC1B,GAAGgL,EAXK,CAYV,CACF,EAQAI,kBAAmB,SAAUC,EAAMC,GACjC,IAAIC,EAAY7O,EAASc,KAAKyC,UAAUE,MACpCqL,EAAW9O,EAAS4O,GACpBG,EAAa/O,EAAS2O,GAK1B7N,KAAK0C,UAAYoL,EAKfC,EAAUG,WAAaF,EAASE,UAChCH,EAAU3W,OAAS4W,EAAS5W,OAE5B0W,EAAKE,EAASG,UAEdJ,EAAUG,WAAaD,EAAWC,UAClCH,EAAU3W,OAAS6W,EAAW7W,OAE9ByW,EAAOI,EAAWE,UAEpBnO,KAAK1E,kBAAkB,CACrBgS,SAAU,aACVvN,KAAM,CACJ+N,IAAI,IAAAM,0BAAyBN,GAC7BD,MAAM,IAAAO,0BAAyBP,KAGrC,EAMA1J,oBAAqB,WACnB,IAAIzP,EAAOsL,KAEPqO,EAAkB3Z,EAAK2N,iBAE3B,SAASiM,EAAWC,GAClB,OAAO,SAAUC,EAAIC,GAKnB,IADA,IAAIrJ,EAAO,IAAIsJ,MAAM5V,UAAUL,QACtBD,EAAI,EAAGA,EAAI4M,EAAK3M,SAAUD,EACjC4M,EAAK5M,GAAKM,UAAUN,GAEtB,IAAImW,EAAmBvJ,EAAK,GACxB9G,EAAWqQ,KACbvJ,EAAK,GAAK1Q,EAAKuG,KAAK0T,IAMtB,OAAIJ,EAAKrK,MACAqK,EAAKrK,MAAMlE,KAAMoF,GAEjBmJ,EAAKnJ,EAAK,GAAIA,EAAK,GAE9B,CACF,CAEA,IAAI/D,EAAkBrB,KAAKW,eAAeU,gBAE1C,SAASuN,EAAgBC,GACvB,IAAIC,EAAQvU,EAAQsU,IAAWtU,EAAQsU,GAAQ/L,UAC/C,GACEgM,GACAA,EAAMC,gBACND,EAAMC,eAAe,oBACrB,CACA5P,EACE2P,EACA,oBACA,SAAUP,GACR,OAAO,SAAUlB,EAASmB,EAAIQ,EAASC,GAErC,IACMT,GAAMA,EAAGU,cACXV,EAAGU,YAAcxa,EAAKuG,KAAKuT,EAAGU,aAElC,CAAE,MAAOC,GAET,CAIA,IAAIC,EAAQC,EAAcC,EAE1B,GACEjO,GACAA,EAAgBqC,MACJ,gBAAXmL,GAAuC,SAAXA,GAC7B,CAGAQ,EAAe3a,EAAK0Y,wBAAwB,SAC5CkC,EAAkB5a,EAAK6Y,wBACvB6B,EAAS,SAAUtC,GAIjB,GAAKA,EAAL,CAEA,IAAID,EACJ,IACEA,EAAYC,EAAI/B,IAClB,CAAE,MAAO/T,GAGP,MACF,CACA,MAAkB,UAAd6V,EAA8BwC,EAAavC,GACxB,aAAdD,EACAyC,EAAgBxC,QADpB,CAXW,CAalB,CACF,CACA,OAAOyB,EAAK3K,KACV5D,KACAqN,EACA3Y,EAAKuG,KAAKuT,OAAI3W,EAAWuX,GACzBJ,EACAC,EAEJ,CACF,GACAZ,GAEFlP,EACE2P,EACA,uBACA,SAAUP,GACR,OAAO,SAAUzB,EAAK0B,EAAIQ,EAASC,GACjC,IACET,EAAKA,IAAOA,EAAGjJ,kBAAoBiJ,EAAGjJ,kBAAoBiJ,EAC5D,CAAE,MAAOxX,GAET,CACA,OAAOuX,EAAK3K,KAAK5D,KAAM8M,EAAK0B,EAAIQ,EAASC,EAC3C,CACF,GACAZ,EAEJ,CACF,CAEAlP,EAAK5E,EAAS,aAAc+T,EAAYD,GACxClP,EAAK5E,EAAS,cAAe+T,EAAYD,GACrC9T,EAAQgV,uBACVpQ,EACE5E,EACA,yBACA,SAAUgU,GACR,OAAO,SAAUiB,GACf,OAAOjB,EAAK7Z,EAAKuG,KAAKuU,GACxB,CACF,GACAnB,GAqCJ,IA/BA,IAAIoB,EAAe,CACjB,cACA,SACA,OACA,mBACA,iBACA,oBACA,kBACA,cACA,aACA,qBACA,cACA,aACA,iBACA,eACA,kBACA,cACA,cACA,eACA,qBACA,SACA,YACA,eACA,gBACA,YACA,kBACA,SACA,iBACA,4BACA,wBAEOjX,EAAI,EAAGA,EAAIiX,EAAahX,OAAQD,IACvCoW,EAAgBa,EAAajX,GAEjC,EAWA4L,uBAAwB,WACtB,IAAI1P,EAAOsL,KACPqB,EAAkBrB,KAAKW,eAAeU,gBAEtCgN,EAAkB3Z,EAAK2N,iBAE3B,SAASqN,EAASC,EAAMlM,GAClBkM,KAAQlM,GAAOnF,EAAWmF,EAAIkM,KAChCxQ,EAAKsE,EAAKkM,GAAM,SAAUpB,GACxB,OAAO7Z,EAAKuG,KAAKsT,EACnB,GAEJ,CAEA,GAAIlN,EAAgBoC,KAAO,mBAAoBlJ,EAAS,CACtD,IAAIqV,EAAWC,eAAe/M,UAC9B3D,EACEyQ,EACA,QACA,SAAUE,GACR,OAAO,SAAUjN,EAAQ6E,IAKrBnJ,EAASmJ,IACPhT,EAAK8L,aAAgD,IAAlCkH,EAAIqI,QAAQrb,EAAK8L,cAEtCR,KAAKgQ,YAAc,CACjBnN,OAAQA,EACR6E,IAAKA,EACLuI,YAAa,OAIjB,OAAOH,EAAS5L,MAAMlE,KAAMlH,UAC9B,CACF,GACAuV,GAGFlP,EACEyQ,EACA,QACA,SAAUM,GACR,OAAO,SAAUnQ,GAEf,IAAI0D,EAAMzD,KAEV,SAASmQ,IACP,GAAI1M,EAAIuM,aAAkC,IAAnBvM,EAAI2M,WAAkB,CAC3C,IAGE3M,EAAIuM,YAAYC,YAAcxM,EAAI4M,OAClC,MAAMC,EAAgBrS,EAAwBwF,GAE1C6M,IACF7M,EAAIuM,YAAYM,cAAgBA,EAEpC,CAAE,MAAOtZ,GAET,CAEAtC,EAAK4G,kBAAkB,CACrByP,KAAM,OACNuC,SAAU,MACVvN,KAAM0D,EAAIuM,aAEd,CACF,CAGA,IADA,IAAIO,EAAQ,CAAC,SAAU,UAAW,cACzBC,EAAI,EAAGA,EAAID,EAAM9X,OAAQ+X,IAChCd,EAASa,EAAMC,GAAI/M,GAInB,uBAAwBA,GACxBnF,EAAWmF,EAAIgN,oBAEftR,EACEsE,EACA,sBACA,SAAU8K,GACR,OAAO7Z,EAAKuG,KAAKsT,OAAM1W,EAAWsY,EACpC,IAKF1M,EAAIgN,mBAAqBN,EAG3B,OAAOD,EAAShM,MAAMlE,KAAMlH,UAC9B,CACF,GACAuV,EAEJ,CAEIhN,EAAgBoC,KAAO,UAAWlJ,GACpC4E,EACE5E,EACA,SACA,SAAUmW,GAGR,MAAM,kBAAEC,GAAsB,CAC5B,kBAA4B,SAAUnC,EAAIC,GAKxC,IADA,IAAIrJ,EAAO,IAAIsJ,MAAM5V,UAAUL,QACtBD,EAAI,EAAGA,EAAI4M,EAAK3M,SAAUD,EACjC4M,EAAK5M,GAAKM,UAAUN,GAGtB,IAEIkP,EAFAkJ,EAAaxL,EAAK,GAClBvC,EAAS,MAGb,GAA0B,iBAAf+N,EACTlJ,EAAMkJ,OACD,GACL,YAAarW,GACbqW,aAAsBrW,EAAQsW,QAC9B,CACAnJ,EAAMkJ,EAAWlJ,IACbkJ,EAAW/N,SACbA,EAAS+N,EAAW/N,OAExB,MACE6E,EAAM,GAAKkJ,EAGTxL,EAAK,IAAMA,EAAK,GAAGvC,SACrBA,EAASuC,EAAK,GAAGvC,QAGnB,IAAIiO,EAAY,CACdjO,OAAQA,EACR6E,IAAKA,EACLuI,YAAa,MAGfvb,EAAK4G,kBAAkB,CACrByP,KAAM,OACNuC,SAAU,QACVvN,KAAM+Q,IAGR,OAAOJ,EAAUxM,MAAMlE,KAAMoF,GAAM2L,MAAK,SAAUC,GAChDF,EAAUb,YAAce,EAASX,OAEjC,MAAMC,EAAgBtS,EAA6BgT,GAE/CV,IACFQ,EAAUR,cAAgBA,GAG5B,OAAOU,CACT,GACF,GAEF,OAAOL,CACT,GACAtC,GAMJ,GAAIhN,EAAgBqC,KAAO1D,KAAKE,aAC9B,GAAIT,EAAUwR,iBAAkB,CAC9BxR,EAAUwR,iBACR,QACAvc,EAAK0Y,wBAAwB,UAC7B,GAEF3N,EAAUwR,iBACR,WACAvc,EAAK6Y,yBACL,EAEJ,KAAO,CAEL9N,EAAUyR,YAAY,UAAWxc,EAAK0Y,wBAAwB,UAC9D3N,EAAUyR,YAAY,aAAcxc,EAAK6Y,wBAC3C,CAOF,IAAI4D,EAAS5W,EAAQ4W,OAEjBC,IADsBD,GAAUA,EAAOE,KAAOF,EAAOE,IAAIC,UAG3D/W,EAAQgX,SACRA,QAAQC,WACRD,QAAQE,aACV,GAAIpQ,EAAgBxL,UAAYub,EAAwB,CAEtD,IAAIM,EAAgBnX,EAAQoX,WAC5BpX,EAAQoX,WAAa,WACnB,IAAIC,EAAcld,EAAK+N,UAAUE,KACjCjO,EAAKkZ,kBAAkBlZ,EAAKgO,UAAWkP,GAEvC,GAAIF,EACF,OAAOA,EAAcxN,MAAMlE,KAAMlH,UAErC,EAEA,IAAI+Y,EAA6B,SAAUC,GAGzC,OAAO,WACL,IAAIpK,EAAM5O,UAAUL,OAAS,EAAIK,UAAU,QAAKjB,EAG5C6P,GAEFhT,EAAKkZ,kBAAkBlZ,EAAKgO,UAAWgF,EAAM,IAG/C,OAAOoK,EAAiB5N,MAAMlE,KAAMlH,UACtC,CACF,EAEAqG,EAAKoS,QAAS,YAAaM,EAA4BxD,GACvDlP,EACEoS,QACA,eACAM,EACAxD,EAEJ,CAEA,GAAIhN,EAAgBY,SAAW,YAAa1H,GAAW0H,QAAQ8P,IAAK,CAElE,IAAIC,EAAwB,SAAU3K,EAAKtH,GACzCrL,EAAK4G,kBAAkB,CACrB0K,QAASqB,EACTpB,MAAOlG,EAAKkG,MACZqH,SAAU,WAEd,EAEA7O,EAAK,CAAC,QAAS,OAAQ,OAAQ,QAAS,QAAQ,SAAUwT,EAAGhM,GAC3D7G,EAAkB6C,QAASgE,EAAO+L,EACpC,GACF,CACF,EAEAnM,iBAAkB,WAGhB,IADA,IAAIqM,EACGlS,KAAKqC,iBAAiB5J,QAAQ,CAGnC,IAAIqP,GAFJoK,EAAUlS,KAAKqC,iBAAiB6F,SAEd,GAChBX,EAAO2K,EAAQ,GACf3D,EAAO2D,EAAQ,GAEjBpK,EAAIP,GAAQgH,CACd,CACF,EAEAlK,cAAe,WACb,IAAI3P,EAAOsL,KAGXvB,EAAKuB,KAAKmC,UAAU,SAAU8P,EAAG9J,GAC/B,IAAIgK,EAAYhK,EAAO,GACnB/C,EAAO+C,EAAO,GAClBgK,EAAUjO,MAAMxP,EAAM,CAACA,GAAM0d,OAAOhN,GACtC,GACF,EAEAb,UAAW,SAAU8N,GACnB,IAAIC,EAAIhT,EAAWhG,KAAK+Y,GACtBrP,EAAM,CAAC,EACPxK,EAAI,EAEN,IACE,KAAOA,KAAKwK,EAAI3D,EAAQ7G,IAAM8Z,EAAE9Z,IAAM,EACxC,CAAE,MAAOxB,GACP,MAAM,IAAI+G,EAAiB,gBAAkBsU,EAC/C,CAEA,GAAIrP,EAAI+B,OAAS/E,KAAKW,eAAe4R,eACnC,MAAM,IAAIxU,EACR,kFAIJ,OAAOiF,CACT,EAEAgC,iBAAkB,SAAUV,GAE1B,IAAIlN,EAAOkN,EAAIlN,KACXoR,EAAOxI,KAAKU,eAAe8H,KAC3B9O,EAAU8O,GAAQA,EAAa,QAAM,MACrCrR,EAAM6I,KAAKW,eAAe+H,aAAe,OAE7C,GAAiB,2BAAbpE,EAAIlN,KAAmC,CAIzCA,EAAO,aAHuB,QAAXsC,EAAmB,GAAK,IAAIA,cACvB,SAARvC,EAAiB,GAAK,GAAGA,SAG3C,CAEA,IAAImS,EAAe,KAAOlS,GAAQkN,EAAIkO,KAAO,IAAMlO,EAAIkO,KAAO,IAE1DlO,EAAI4J,WACN5E,EAAehF,EAAI4J,SAAW,IAAM5E,GAEtC,OAAOA,CACT,EAEArF,wBAAyB,WAElBjE,KAAK6B,gBACR7B,KAAKmH,iBAAiBjD,MAAMlE,KAAMlH,UAEtC,EAEAqO,iBAAkB,SAAUsL,EAAWxP,GACrC,IAAI2E,EAAS5H,KAAK6H,eAAe4K,EAAWxP,GAE5CjD,KAAKsH,cAAc,SAAU,CAC3BmL,UAAWA,EACXxP,QAASA,IAGXjD,KAAK0S,kBACHD,EAAUlL,KACVkL,EAAUzM,QACVyM,EAAU/K,IACV+K,EAAUnI,OACV1C,EACA3E,EAEJ,EAEA4E,eAAgB,SAAU4K,EAAWxP,GACnC,IAAIvO,EAAOsL,KACP4H,EAAS,GACb,GAAI6K,EAAUxL,OAASwL,EAAUxL,MAAMxO,OAAQ,CAC7CgG,EAAKgU,EAAUxL,OAAO,SAAUzO,EAAGyO,GACjC,IAAI0L,EAAQje,EAAKke,gBAAgB3L,EAAOwL,EAAU/K,KAC9CiL,GACF/K,EAAO1K,KAAKyV,EAEhB,IAGA,GAAI1P,GAAWA,EAAQwD,eACrB,IAAK,IAAI+J,EAAI,EAAGA,EAAIvN,EAAQwD,gBAAkB+J,EAAI5I,EAAOnP,OAAQ+X,IAC/D5I,EAAO4I,GAAGqC,QAAS,EAMvB,GAAIjL,EAAOkL,MAAMH,GAAUA,EAAMvI,SAASM,SAAS,kBACjD,IAAK,IAAIqI,EAAInL,EAAOnP,OAAS,EAAGsa,GAAK,EAAGA,IAAK,CAC3C,GAAInL,EAAOmL,GAAG3I,SAASM,SAAS,gBAAiB,CAC/C9C,EAAOmL,GAAGF,QAAS,EACnB,KACF,CACAjL,EAAOmL,GAAGF,QAAS,CACrB,CAGF,IAAK,IAAIG,EAAI,EAAGA,EAAIpL,EAAOnP,OAAQua,IAC7BpL,EAAOoL,GAAG5I,SAASM,SAAS,uBAC9B9C,EAAOoL,GAAGH,QAAS,EAGzB,CAGA,OADAjL,EAASA,EAAOS,MAAM,EAAGrI,KAAKW,eAAeS,gBAE/C,EAEAwR,gBAAiB,SAAUD,EAAOM,GAEhC,IAAIC,EAAa,CACfhJ,SAAUyI,EAAMjL,IAChB4C,OAAQqI,EAAMQ,KACd3I,MAAOmI,EAAMpI,OACbH,SAAUuI,EAAMxN,MAAQ,KAQrBwN,EAAMjL,MACTwL,EAAWhJ,SAAW+I,GAGxBC,EAAWL,SAIJ7S,KAAKW,eAAeK,aAAa3K,OACjC2J,KAAKW,eAAeK,aAAa3K,KAAK6c,EAAWhJ,WAEpD,qBAAqB7T,KAAK6c,EAAqB,WAInD,OAAOA,CACT,EAEAR,kBAAmB,SACjB3H,EACA/E,EACAyB,EACA6C,EACA1C,EACA3E,GAEA,IAAImQ,GAAmBrI,EAAOA,EAAO,KAAO,KAAO/E,GAAW,IAC9D,IAAIW,EACD3G,KAAKI,wBACJJ,KAAKI,uBAAuBwG,OAC5B5G,KAAKI,uBAAuBwG,MAAMZ,SACpC,GACF,GACIhG,KAAKW,eAAeE,aAAaxK,OAClC2J,KAAKW,eAAeE,aAAaxK,KAAK2P,IACrChG,KAAKW,eAAeE,aAAaxK,KAAK+c,IACtCpT,KAAKW,eAAeE,aAAaxK,KAAKsQ,IAExC3G,KAAKsH,cAAc,iBAAkB,CACnCrB,MAAQhD,GAAWA,EAAQgD,OAAU,cAPzC,CAYA,IAAIS,EAEJ,GAAIkB,GAAUA,EAAOnP,OAAQ,CAC3BgP,EAAUG,EAAO,GAAGsC,UAAYzC,EAGhCG,EAAOrP,UACPmO,EAAa,CAAEkB,OAAQA,EACzB,MAAWH,IACTf,EAAa,CACXkB,OAAQ,CACN,CACEsC,SAAUzC,EACV6C,OAAQA,EACRuI,QAAQ,MAMhB,KACI7S,KAAKW,eAAeG,WAAWzK,OACjC2J,KAAKW,eAAeG,WAAWzK,KAAKoR,OAMlCzH,KAAKW,eAAeI,cAAc1K,MACnC2J,KAAKW,eAAeI,cAAc1K,KAAKoR,IAF1C,CAOA,IAAI1H,EAAOrB,EACT,CAEE2U,UAAW,CACTC,OAAQ,CACN,CACEvI,KAAMA,EACNvN,MAAOwI,EACPU,WAAYA,KAIlB6M,QAAS9L,GAEXxE,GAIFjD,KAAKmG,MAAMpG,EApBX,CAlCA,CAuDF,EAEAyT,YAAa,SAAUzT,GAGrB,IAAIuD,EAAMtD,KAAKW,eAAeO,iBAC1BnB,EAAKiG,UACPjG,EAAKiG,QAAUrH,EAASoB,EAAKiG,QAAS1C,IAExC,GAAIvD,EAAKsT,UAAW,CAClB,IAAIA,EAAYtT,EAAKsT,UAAUC,OAAO,GACtCD,EAAU7V,MAAQmB,EAAS0U,EAAU7V,MAAO8F,EAC9C,CAEA,IAAImQ,EAAU1T,EAAK0T,QACnB,GAAIA,EAAS,CACPA,EAAQ/L,MACV+L,EAAQ/L,KAAM,IAAA0G,0BACZzP,EAAS8U,EAAQ/L,IAAK1H,KAAKW,eAAeQ,gBAG1CsS,EAAQC,UACVD,EAAQC,SAAU,IAAAtF,0BAChBzP,EAAS8U,EAAQC,QAAS1T,KAAKW,eAAeQ,eAGpD,CAEA,OAAOpB,CACT,EAEA4T,aAAc,WACZ,GAAK3T,KAAKG,eAAkBH,KAAKE,aAAjC,CACA,IAAI0T,EAAW,CAAC,EAEZ5T,KAAKG,eAAiBT,EAAWmU,YACnCD,EAASE,QAAU,CACjB,aAAcnU,UAAUkU,YAI5B,GAAI7T,KAAKE,aAAc,CACjBT,EAAU5J,UAAY4J,EAAU5J,SAAS8M,OAC3CiR,EAASlM,KAAM,IAAA0G,0BAAyB3O,EAAU5J,SAAS8M,OAE7D,GAAIlD,EAAUsU,SAAU,CACjBH,EAASE,UAASF,EAASE,QAAU,CAAC,GAC3CF,EAASE,QAAQJ,SAAU,IAAAtF,0BAAyB3O,EAAUsU,SAChE,CACF,CAEA,OAAOH,CAnB8C,CAoBvD,EAEAhR,cAAe,WACb5C,KAAKgU,iBAAmB,EACxBhU,KAAKiU,cAAgB,IACvB,EAEAC,eAAgB,WACd,OACElU,KAAKgU,kBACLzU,IAAQS,KAAKiU,cAAgBjU,KAAKgU,gBAEtC,EAWAG,cAAe,SAAUC,GAEvB,GAAIA,EAAQlO,YACV,OAAO,EAGT,IAAImO,EAAOrU,KAAKK,UAEhB,SACGgU,GACDD,EAAQpO,UAAYqO,EAAKrO,SACzBoO,EAAQb,UAAYc,EAAKd,WAKvBa,EAAQ1N,YAAc2N,EAAK3N,WACtBzH,EAAiBmV,EAAQ1N,WAAY2N,EAAK3N,aACxC0N,EAAQf,YAAagB,EAAKhB,WAE5BrU,EAAgBoV,EAAQf,UAAWgB,EAAKhB,WAInD,EAEAiB,iBAAkB,SAAUb,GAE1B,IAAIzT,KAAKkU,iBAAT,CAIA,IAAI7D,EAASoD,EAAQpD,OAKrB,GAAiB,MAAXA,GAA6B,MAAXA,GAA6B,MAAXA,EAA1C,CAEA,IAAIkE,EACJ,IAGEA,EAAQd,EAAQe,kBAAkB,eAClCD,EAA8B,IAAtBE,SAASF,EAAO,GAC1B,CAAE,MAAOvd,GAET,CAEAgJ,KAAKgU,iBAAmBO,IAII,EAAxBvU,KAAKgU,kBAAwB,KAEjChU,KAAKiU,cAAgB1U,GAlB4C,CAPjE,CA0BF,EAEAmV,+BAAgC,WAC9B,GAAI1U,KAAKsC,cAAgBtC,KAAKsC,aAAa7J,OAAS,EAIlD,IAFA,IAAIkc,EAAoB3U,KAAKsC,aAAa+F,OAAO,IAExC7P,EAAImc,EAAkBlc,OAAS,EAAGD,GAAK,EAAGA,IAAK,CACtD,IAAIoc,EAAaD,EAAkBnc,GAGnC,GACsB,SAApBoc,EAAW7J,OACc,QAAxB6J,EAAWtH,UAA8C,UAAxBsH,EAAWtH,WAC7CsH,EAAW7U,MACX6U,EAAW7U,KAAKkQ,aAChB2E,EAAW7U,KAAKuQ,eAGZsE,EAAW7U,KAAKkQ,aAAe,IACjC,OAAO2E,EAAW7U,IAGxB,CAGF,OAAO,IACT,EAEAoG,MAAO,SAAUpG,GACf,IAAIoD,EAAgBnD,KAAKW,eAErBkU,EAAW,CACX9f,QAASiL,KAAKS,eACdG,OAAQuC,EAAcvC,OACtBkU,SAAU,cAEZlB,EAAW5T,KAAK2T,eAEdC,IACFiB,EAASpB,QAAUG,GAIjB7T,EAAK0G,uBAAuB1G,EAAK0G,gBAErC1G,EAAOrB,EAAYmW,EAAU9U,IAGxByI,KAAO9J,EACVA,EAAY,CAAC,EAAGsB,KAAKU,eAAe8H,MAAQ,CAAC,GAC7CzI,EAAKyI,MAAQ,CAAC,GAEhBzI,EAAKuI,MAAQ5J,EACXA,EAAY,CAAC,EAAGsB,KAAKU,eAAe4H,OAAS,CAAC,GAC9CvI,EAAKuI,OAAS,CAAC,GAIZvI,EAAKuI,QAAOvI,EAAKuI,MAAQ,CAAC,GAC/BvI,EAAKuI,MAAM,oBAAsB/I,IAAQS,KAAKoC,WAC9CrC,EAAKuI,MAAiB,UAAI/N,EAAQ5F,SAAW4F,EAAQ5F,QAAQogB,UAG7D,IACE,GAAIxa,EAAQtD,aAAc,CACxB,IAAI+d,EAAWza,EAAQtD,aAAaF,QAAQ,UAC5C,GAAIie,EAAU,CACZ,IAAIC,EAAiBnb,KAAK2O,MAAMuM,GAC5BC,GAAkBA,EAAeC,aACnCnV,EAAKuI,MAA0B,mBAAI2M,EAAeC,WAEtD,CACF,CACF,CAAE,MAAOle,GAAI,CAGb,IACG+I,EAAKmG,aACNlG,KAAKsC,cACLtC,KAAKsC,aAAa7J,OAAS,EAC3B,CACA,IAAI0c,EAAsBnV,KAAK0U,iCAC3BS,GAAuBA,EAAoB7E,gBAC7CvQ,EAAKuI,MAAMgI,cAAgB6E,EAAoB7E,cAEnD,EAGGvQ,EAAKmG,aACNlG,KAAKsC,cACLtC,KAAKsC,aAAa7J,OAAS,IAI3BsH,EAAKqV,YAAc,CACjB9B,OAAQ,GAAGjL,MAAMzE,KAAK5D,KAAKsC,aAAc,KAKzC9D,EAAcuB,EAAKyI,cAAczI,EAAKyI,KAEtCxI,KAAKU,eAAemE,OAEtB9E,EAAK8E,KAAO7E,KAAKU,eAAemE,MAI9B1B,EAAcuF,cAAa3I,EAAK2I,YAAcvF,EAAcuF,aAG5DvF,EAAcwF,UAAS5I,EAAK4I,QAAUxF,EAAcwF,SAGpDxF,EAAckS,aAAYtV,EAAKuV,YAAcnS,EAAckS,YAE3D/W,EAAW6E,EAAcyF,gBAC3B7I,EAAOoD,EAAcyF,aAAa7I,IAASA,GAIxCA,IAAQvB,EAAcuB,KAMzBzB,EAAW6E,EAAc0F,sBACxB1F,EAAc0F,mBAAmB9I,KAOhCC,KAAKkU,iBACPlU,KAAKkD,UAAU,OAAQ,uCAAwCnD,GAIzB,iBAA7BoD,EAAc5B,WACnB8B,KAAKkS,SAAWpS,EAAc5B,YAChCvB,KAAKwV,sBAAsBzV,GAG7BC,KAAKwV,sBAAsBzV,IAE/B,EAEA0V,SAAU,WACR,OAAO1W,GACT,EAEAyW,sBAAuB,SAAUzV,EAAMD,GACrC,IAAIpL,EAAOsL,KACPmD,EAAgBnD,KAAKW,eAEzB,GAAKX,KAAK3D,UAAV,CAGA0D,EAAOC,KAAKwT,YAAYzT,GAKxB,GAAKC,KAAKW,eAAe+U,kBAAmB1V,KAAKmU,cAAcpU,GAA/D,CAQAC,KAAKM,aAAeP,EAAK4V,WAAa5V,EAAK4V,SAAW3V,KAAKyV,YAG3DzV,KAAKK,UAAYN,EAEjBC,KAAKkD,UAAU,QAAS,uBAAwBnD,GAEhD,IAAI6V,EAAO,CACTC,eAAgB,IAChBC,cAAe,YAAc9V,KAAK+C,SAGhC/C,KAAKQ,aACPoV,EAAKG,WAAa/V,KAAKQ,YAGrBR,KAAK8E,gBACP8Q,EAAKI,cAAgBhW,KAAK8E,eAG5B,IAAImR,EAAS,CAAC,EACVC,EAAgBnW,EAAKyI,MAAQzI,EAAKyI,KAAKzT,QACvCohB,EAAYD,EAEZA,IACFD,EAAOG,WAAarW,EAAKyI,KAAKzT,SAGhC,IAAIse,EAAYtT,EAAKsT,WAAatT,EAAKsT,UAAUC,OAAO,GACxDtT,KAAK1E,kBAAkB,CACrBgS,SAAUvN,EAAKmG,YAAc,YAAc,SAC3CF,QAASqN,GACJA,EAAUtI,KAAOsI,EAAUtI,KAAO,KAAO,IAAMsI,EAAU7V,MAC1DuC,EAAKiG,QACTjG,KAAMA,EAAKmG,YAAcnG,EAAKuI,WAAQzQ,EACtC8d,SAAU5V,EAAK4V,SACf1P,MAAOlG,EAAKkG,OAAS,UAGvB,IAAIyB,EAAM3H,EAAKmG,YACXlG,KAAKkF,yBACLlF,KAAKiF,iBAER9B,EAAc2F,WAAa9I,KAAKqW,cAAczS,KAAK5D,KAAM,CACxD0H,IAAKA,EACLkO,KAAMA,EACNU,MAAOH,EAAYF,OAASpe,EAC5BkI,KAAMA,EACNkD,QAASE,EACToT,UAAW,WACT7hB,EAAKkO,gBAELlO,EAAK4S,cAAc,UAAW,CAC5BvH,KAAMA,EACN2J,IAAKhC,IAEP5H,GAAYA,GACd,EACA0W,QAAS,SAAiBnQ,GACxB3R,EAAKwO,UAAU,QAAS,mCAAoCmD,GAExDA,EAAMoN,SACR/e,EAAK4f,iBAAiBjO,EAAMoN,SAG9B/e,EAAK4S,cAAc,UAAW,CAC5BvH,KAAMA,EACN2J,IAAKhC,EACLrB,UAEFA,EACEA,GACA,IAAIjO,MAAM,sDACZ0H,GAAYA,EAASuG,EACvB,GA/EF,MAFErG,KAAKkD,UAAU,OAAQ,+BAAgCnD,EAT9B,CA4F7B,EAEAsW,aAAc,SAAUI,GACtB,IAAIhD,EAAUlZ,EAAQsV,gBAAkB,IAAItV,EAAQsV,eACpD,GAAK4D,EAAL,CAMA,GAFE,oBAAqBA,GAAqC,oBAAnBiD,eAEzC,CAEA,IAAIhP,EAAM+O,EAAK/O,IAEf,GAAI,oBAAqB+L,EACvBA,EAAQhD,mBAAqB,WAC3B,GAA2B,IAAvBgD,EAAQrD,WAEL,GAAuB,MAAnBqD,EAAQpD,OACjBoG,EAAKF,WAAaE,EAAKF,iBAClB,GAAIE,EAAKD,QAAS,CACvB,IAAIrH,EAAM,IAAI/W,MAAM,sBAAwBqb,EAAQpD,QACpDlB,EAAIsE,QAAUA,EACdgD,EAAKD,QAAQrH,EACf,CACF,MACK,CACLsE,EAAU,IAAIiD,eAGdhP,EAAMA,EAAIiP,QAAQ,WAAY,IAG1BF,EAAKF,YACP9C,EAAQmD,OAASH,EAAKF,WAEpBE,EAAKD,UACP/C,EAAQoD,QAAU,WAChB,IAAI1H,EAAM,IAAI/W,MAAM,qCACpB+W,EAAIsE,QAAUA,EACdgD,EAAKD,QAAQrH,EACf,EAEJ,CAIA,IACEsE,EAAQqD,KACN,OACA,GAAGpP,KAAO5I,EAAU2X,EAAKb,QACvBa,EAAKH,MAAQ,IAAIxX,EAAU2X,EAAKH,SAAW,MAG/C7C,EAAQsD,KAAKhd,EAAU0c,EAAK1W,MAC9B,CAAE,MAAO/I,GAGP,GAAIyf,EAAKD,QAAS,CAChB,IAAIrH,EAAM,IAAI/W,MAAM,0BAA4BpB,EAAEgP,SAClDmJ,EAAIsE,QAAUA,EACdtE,EAAI6H,cAAgBhgB,EACpByf,EAAKD,QAAQrH,EACf,CACF,CAtDoB,CANA,CA6DtB,EAEAjM,UAAW,SAAU+C,GACfjG,KAAKkC,wBAAwB+D,IAAUjG,KAAKrG,OAE9Csd,SAASnU,UAAUoB,MAAMN,KACvB5D,KAAKkC,wBAAwB+D,GAC7BjG,KAAKgC,iBACL,GAAGqG,MAAMzE,KAAK9K,UAAW,GAG/B,EAEAyP,cAAe,SAAU3R,EAAKoE,GACxBqD,EAAYrD,UACPgF,KAAKU,eAAe9J,GAE3BoJ,KAAKU,eAAe9J,GAAO8H,EACzBsB,KAAKU,eAAe9J,IAAQ,CAAC,EAC7BoE,EAGN,GAIFX,EAAMyI,UAAUoU,QAAU7c,EAAMyI,UAAUtH,eAC1CnB,EAAMyI,UAAUqU,kBAAoB9c,EAAMyI,UAAUhH,U,qBCt4EpD,IAAIvB,EACgB,oBAAXtF,OACHA,YACkB,IAAX,EAAAuF,EACP,EAAAA,EACgB,oBAAT9F,KACPA,KACA,CAAC,EAEP,SAASyJ,EAASiZ,GAChB,MAAuB,iBAATA,GAA8B,OAATA,CACrC,CAIA,SAASlZ,EAAQV,GACf,OAAQ,CAAC,EAAEmG,SAASC,KAAKpG,IACvB,IAAK,iBAEL,IAAK,qBAEL,IAAK,wBACH,OAAO,EACT,QACE,OAAOA,aAAiBpF,MAE9B,CAEA,SAASgG,EAAaZ,GACpB,OACE6Z,KAAoD,wBAA5B,CAAC,EAAE1T,SAASC,KAAKpG,EAE7C,CAEA,SAASa,EAAY+Y,GACnB,YAAgB,IAATA,CACT,CAEA,SAAS9Y,EAAW8Y,GAClB,MAAuB,mBAATA,CAChB,CAEA,SAAS7Y,EAAS6Y,GAChB,MAAgD,oBAAzCphB,OAAO8M,UAAUa,SAASC,KAAKwT,EACxC,CAEA,SAAS5Y,EAAc4Y,GACrB,IAAK,IAAInF,KAAKmF,EAAM,OAAO,EAC3B,OAAO,CACT,CAEA,SAASC,IACP,IACE,IAAIC,WAAW,IACf,OAAO,CACT,CAAE,MAAOtgB,GACP,OAAO,CACT,CACF,CAEA,SAASugB,EAAgBzX,GACvB,SAAS8I,EAAa7I,EAAMF,GAC1B,IAAI2X,EAAiB1X,EAASC,IAASA,EACvC,OAAIF,GACKA,EAAS2X,IAEXA,CACT,CAEA,OAAO5O,CACT,CAEA,SAASnK,EAAKqJ,EAAKhI,GACjB,IAAItH,EAAGgY,EAEP,GAAInS,EAAYyJ,EAAIrP,QAClB,IAAKD,KAAKsP,EACJlJ,EAAOkJ,EAAKtP,IACdsH,EAAS8D,KAAK,KAAMpL,EAAGsP,EAAItP,SAK/B,GADAgY,EAAI1I,EAAIrP,OAEN,IAAKD,EAAI,EAAGA,EAAIgY,EAAGhY,IACjBsH,EAAS8D,KAAK,KAAMpL,EAAGsP,EAAItP,GAInC,CAEA,SAASkG,EAAY+Y,EAAMC,GACzB,IAAKA,EACH,OAAOD,EAEThZ,EAAKiZ,GAAM,SAAU9gB,EAAK4G,GACxBia,EAAK7gB,GAAO4G,CACd,IACA,OAAOia,CACT,CAUA,SAASE,EAAa7P,GACpB,QAAK9R,OAAO4hB,UAGL5hB,OAAO4hB,SAAS9P,EACzB,CAEA,SAASnJ,EAAS0T,EAAK/O,GACrB,OAAQA,GAAO+O,EAAI5Z,QAAU6K,EAAM+O,EAAMA,EAAI1N,OAAO,EAAGrB,GAAO,QAChE,CASA,SAAS1E,EAAOiZ,EAAQjhB,GACtB,OAAOZ,OAAO8M,UAAUiM,eAAenL,KAAKiU,EAAQjhB,EACtD,CAEA,SAASiI,EAAWiZ,GAQlB,IALA,IAGEC,EAHEC,EAAU,GACZxf,EAAI,EACJyf,EAAMH,EAASrf,OAGVD,EAAIyf,EAAKzf,IAEV+F,EADJwZ,EAAUD,EAAStf,IAIjBwf,EAAQ9a,KAAK6a,EAAQpB,QAAQ,8BAA+B,SACnDoB,GAAWA,EAAQG,QAE5BF,EAAQ9a,KAAK6a,EAAQG,QAIzB,OAAO,IAAIniB,OAAOiiB,EAAQviB,KAAK,KAAM,IACvC,CAEA,SAASqJ,EAAUqZ,GACjB,IAAIC,EAAQ,GACZ3Z,EAAK0Z,GAAG,SAAUvhB,EAAK4G,GACrB4a,EAAMlb,KAAKiM,mBAAmBvS,GAAO,IAAMuS,mBAAmB3L,GAChE,IACA,OAAO4a,EAAM3iB,KAAK,IACpB,CAKA,SAASyJ,EAASwI,GAChB,IAAIyE,EAAQzE,EAAIyE,MACd,kEAEF,IAAKA,EAAO,MAAO,CAAC,EAGpB,IAAImK,EAAQnK,EAAM,IAAM,GACpBkM,EAAWlM,EAAM,IAAM,GAC3B,MAAO,CACL+B,SAAU/B,EAAM,GAChB/U,KAAM+U,EAAM,GACZ1H,KAAM0H,EAAM,GACZgC,SAAUhC,EAAM,GAAKmK,EAAQ+B,EAEjC,CACA,SAAStZ,IACP,IAAIuZ,EAAS/d,EAAQ+d,QAAU/d,EAAQge,SAEvC,IAAKla,EAAYia,IAAWA,EAAOE,gBAAiB,CAGlD,IAAIC,EAAM,IAAIC,YAAY,GAC1BJ,EAAOE,gBAAgBC,GAGvBA,EAAI,GAAe,KAATA,EAAI,GAAc,MAE5BA,EAAI,GAAe,MAATA,EAAI,GAAe,MAE7B,IAAIE,EAAM,SAAUC,GAElB,IADA,IAAIC,EAAID,EAAIjV,SAAS,IACdkV,EAAEpgB,OAAS,GAChBogB,EAAI,IAAMA,EAEZ,OAAOA,CACT,EAEA,OACEF,EAAIF,EAAI,IACRE,EAAIF,EAAI,IACRE,EAAIF,EAAI,IACRE,EAAIF,EAAI,IACRE,EAAIF,EAAI,IACRE,EAAIF,EAAI,IACRE,EAAIF,EAAI,IACRE,EAAIF,EAAI,GAEZ,CAEE,MAAO,mCAAmC9B,QAAQ,SAAS,SAAUmC,GACnE,IAAIC,EAAqB,GAAhB1V,KAAKkS,SAAiB,EAE/B,OADY,MAANuD,EAAYC,EAAS,EAAJA,EAAW,GACzBpV,SAAS,GACpB,GAEJ,CAKA,SAASqV,EAAgBC,EAAGC,GAC1B,WAAYD,IAAMC,EACpB,CAKA,SAASla,EAAgBoI,EAAK+R,GAC5B,GAAIH,EAAgB5R,EAAK+R,GAAM,OAAO,EAEtC/R,EAAMA,EAAIkM,OAAO,GACjB6F,EAAMA,EAAI7F,OAAO,GAEjB,OAAIlM,EAAI2D,OAASoO,EAAIpO,MAAQ3D,EAAI5J,QAAU2b,EAAI3b,OAExCyB,EAAiBmI,EAAIV,WAAYyS,EAAIzS,WAC9C,CAKA,SAAS0S,EAAa3B,EAAMC,GAC1B,GAAID,IAASC,EAAM,OAAO,EAC1B,GAAY,MAARD,GAAwB,MAARC,EAAc,OAAO,EACzC,GAAIsB,EAAgBvB,EAAMC,GAAO,OAAO,EAExC,IAAI2B,EAAQrjB,OAAO8B,KAAK2f,GACpB6B,EAAQtjB,OAAO8B,KAAK4f,GAExB,GAAI2B,EAAM5gB,SAAW6gB,EAAM7gB,OAAQ,OAAO,EAE1C,IAAK,IAAID,EAAI,EAAGA,EAAI6gB,EAAM5gB,OAAQD,IAAK,CACrC,IAAI5B,EAAMyiB,EAAM7gB,GAChB,IAAKoG,EAAO8Y,EAAM9gB,GAAM,OAAO,EAC/B,GAAI6gB,EAAK7gB,KAAS8gB,EAAK9gB,GAAM,OAAO,CACtC,CAEA,OAAO,CACT,CAKA,SAASqI,EAAiBsa,EAAQC,GAChC,GAAc,MAAVD,GAA4B,MAAVC,EAAgB,OAAO,EAC7C,GAAIR,EAAgBO,EAAQC,GAAS,OAAO,EAE5C,IAWIP,EAAGC,EAXHO,EAAUF,EAAO3R,OACjB8R,EAAUF,EAAO5R,OAGrB,GAAe,MAAX6R,GAA8B,MAAXC,EAAiB,OAAON,EAAaG,EAAQC,GACpE,GAAIR,EAAgBS,EAASC,GAAU,OAAO,EAC9C,GAAsB,MAAlBD,EAAQhhB,QAAoC,MAAlBihB,EAAQjhB,OACpC,OAAO2gB,EAAaG,EAAQC,GAC9B,GAAIC,EAAQhhB,SAAWihB,EAAQjhB,OAAQ,OAAO,EAI9C,IAAK,IAAID,EAAI,EAAGA,EAAIihB,EAAQhhB,OAAQD,IAAK,CACvCygB,EAAIQ,EAAQjhB,GACZ0gB,EAAIQ,EAAQlhB,GACZ,GACEygB,EAAE/O,WAAagP,EAAEhP,UACjB+O,EAAE3O,SAAW4O,EAAE5O,QACf2O,EAAEzO,QAAU0O,EAAE1O,OACdyO,EAAY,WAAMC,EAAY,SAE9B,OAAO,CACX,CACA,OAAO,CACT,CASA,SAAS/Z,EAAK2I,EAAKP,EAAMoS,EAAaC,GACpC,IAAIrL,EAAOzG,EAAIP,GACfO,EAAIP,GAAQoS,EAAYpL,GACpBqL,GACFA,EAAM1c,KAAK,CAAC4K,EAAKP,EAAMgH,GAE3B,CAOA,SAASH,EAAyB1G,GAChC,IAAKA,GAAsB,iBAARA,EACjB,OAAOA,EAGT,IAEE,MAAMmS,EAAY,IAAIC,IAAIpS,GAGpBqS,EAAeF,EAAUE,aAC3BA,EAAaC,IAAI,QACnBD,EAAalhB,IAAI,MAAO,gBAEtBkhB,EAAaC,IAAI,UACnBD,EAAalhB,IAAI,QAAS,gBAI5B,GAAIghB,EAAUI,KAAM,CAEaJ,EAAUI,KAAKC,UAAU,GAG7BxP,SAAS,OAElCmP,EAAUI,KAAO,eAErB,CAEA,OAAOJ,EAAUlW,UACnB,CAAE,MAAO3M,GAEP,OAAO0Q,CACT,CACF,CAEAxS,EAAOC,QAAU,CACfgJ,SAAUA,EACVD,QAASA,EACTE,aAAcA,EACdC,YAAaA,EACbC,WAAYA,EACZC,SAAUA,EACVC,cAAeA,EACf6Y,mBAAoBA,EACpBE,gBAAiBA,EACjB9Y,KAAMA,EACNC,YAAaA,EACbC,SAAUA,EACVgZ,aAAcA,EACd/Y,OAAQA,EACRC,WAAYA,EACZC,UAAWA,EACXC,MAAOA,EACPqa,aAAcA,EACdpa,gBAAiBA,EACjBC,iBAAkBA,EAClBC,SAAUA,EACVC,KAAMA,EACNiP,yBAA0BA,E,qBC3X5B,IAAI+L,EAAQ,EAAQ,IAYhBrc,EAAW,CACbmD,qBAAqB,EACrBtH,OAAO,GAILY,EACgB,oBAAXtF,OACHA,YACkB,IAAX,EAAAuF,EACP,EAAAA,EACgB,oBAAT9F,KACPA,KACA,CAAC,EAGH0lB,EAAS,GAAG/R,MACZgS,EAAmB,IAGnBC,EACF,0GAEF,SAASC,IACP,MAAwB,oBAAbngB,UAAiD,MAArBA,SAASvE,SAAyB,GAElEuE,SAASvE,SAAS8M,IAC3B,CAyCA7E,EAASiG,OAAS,WAChB,IA0DIyW,EAAoBC,EA1DpBC,EAAW,GACbC,EAAW,KACXxe,EAAgB,KAChBye,EAAqB,KAMvB,SAAS5W,EAAU6W,GACjBC,IACAJ,EAASxd,KAAK2d,EAChB,CAMA,SAASE,EAAYF,GACnB,IAAK,IAAIriB,EAAIkiB,EAASjiB,OAAS,EAAGD,GAAK,IAAKA,EACtCkiB,EAASliB,KAAOqiB,GAClBH,EAASM,OAAOxiB,EAAG,EAGzB,CAKA,SAASyiB,IACPC,IACAR,EAAW,EACb,CAMA,SAASS,EAAelU,EAAOmU,GAC7B,IAAI/H,EAAY,KAChB,IAAI+H,GAAkBtd,EAASmD,oBAA/B,CAGA,IAAK,IAAIzI,KAAKkiB,EACZ,GAAIA,EAAS3L,eAAevW,GAC1B,IACEkiB,EAASliB,GAAG0L,MAAM,KAAM,CAAC+C,GAAOmL,OAAOgI,EAAOxW,KAAK9K,UAAW,IAChE,CAAE,MAAOuiB,GACPhI,EAAYgI,CACd,CAIJ,GAAIhI,EACF,MAAMA,CAZR,CAcF,CAeA,SAASiI,EAAsBtV,EAAS0B,EAAK6T,EAAQC,EAAOpV,GAG1D,GAAIwU,EAAoB,CACtB9c,EAASoJ,kBAAkBuU,oCACzBb,EACAlT,EACA6T,EACAvV,GAEF0V,GACF,MAAO,GAAItV,GAAM+T,EAAMjc,QAAQkI,GAO7B+U,EADQrd,EAASoJ,kBAAkBd,IACb,OACjB,CACL,IAAIvQ,EAAW,CACb6R,IAAKA,EACLyL,KAAMoI,EACNhR,OAAQiR,GAGNjU,OAAO1P,EACPwP,EAAMrB,EAEV,GAAkC,oBAA9B,CAAC,EAAErC,SAASC,KAAKoC,GAAgC,CACnD,IAAI2V,EACJ,GADIA,EAAS3V,EAAQmG,MAAMmO,GACf,CACV/S,EAAOoU,EAAO,GACdtU,EAAMsU,EAAO,EACf,CACF,CAEA9lB,EAASsP,KAAOkV,EAQhBc,EANQ,CACN5T,KAAMA,EACNvB,QAASqB,EACTK,IAAK6S,IACLtT,MAAO,CAACpR,KAEY,EACxB,CAEA,IACE,GAAI2kB,EACF,OAAOA,EAAmBtW,MAAMlE,KAAMlH,UAE1C,CAAE,MAAO9B,GACP,IAAIA,EAAEgP,UAAuD,IAA5ChP,EAAEgP,QAAQ+J,QAAQ,qBAKjC,MAAM/Y,CAEV,CAEA,OAAO,CACT,CAEA,SAAS8jB,IACP,IAAIL,EAAJ,CAGAD,EAAqBjgB,EAAQsc,QAC7Btc,EAAQsc,QAAUyE,EAClBb,GAA2B,CAH3B,CAIF,CAEA,SAASS,IACP,GAAKT,EAAL,CAGAlgB,EAAQsc,QAAU2D,EAClBC,GAA2B,EAC3BD,OAAqB3iB,CAHrB,CAIF,CAEA,SAAS6jB,IACP,IAAIE,EAAsBhB,EACxBiB,EAAYlB,EACdA,EAAW,KACXC,EAAqB,KACrBze,EAAgB,KAChBgf,EAAejX,MAAM,KAAM,CAAC0X,GAAqB,GAAOxJ,OAAOyJ,GACjE,CASA,SAAS9X,EAAOqC,EAAI0V,GAClB,IAAI1W,EAAOgV,EAAOxW,KAAK9K,UAAW,GAClC,GAAI8hB,EAAoB,CACtB,GAAIze,IAAkBiK,EACpB,OAEAsV,GAEJ,CAEA,IAAIzU,EAAQnJ,EAASoJ,kBAAkBd,GACvCwU,EAAqB3T,EACrB9K,EAAgBiK,EAChBuU,EAAWvV,EAMXwH,YACE,WACMzQ,IAAkBiK,GACpBsV,GAEJ,GACAzU,EAAM8U,WAAa,IAAO,GAG5B,IAAgB,IAAZD,EACF,MAAM1V,CAEV,CAEArC,EAAOC,UAAYA,EACnBD,EAAOgX,YAAcA,EACrBhX,EAAO7I,UAAY+f,EACnB,OAAOlX,CACR,CAhNiB,GAqQlBjG,EAASoJ,kBAAoB,WA4C3B,SAAS8U,EAA+B5V,GACtC,QAAwB,IAAbA,EAAGa,OAA0Bb,EAAGa,MAA3C,CAkBA,IAhBA,IAWEgV,EACA5jB,EACA+E,EAbE+T,EACA,yIACF+K,EACE,sIACFC,EACE,oHAEFC,EAAY,gDACZC,EAAa,gCACbC,EAAQlW,EAAGa,MAAM3O,MAAM,MACvB2O,EAAQ,GAMDzO,GAFK,sBAAsBc,KAAK8M,EAAGJ,SAE/B,GAAGwK,EAAI8L,EAAM7jB,OAAQD,EAAIgY,IAAKhY,EAAG,CAC5C,GAAKH,EAAQ8Y,EAAO7X,KAAKgjB,EAAM9jB,IAAM,CACnC,IAAI+jB,EAAWlkB,EAAM,IAAqC,IAA/BA,EAAM,GAAG0X,QAAQ,UAE5C,GADa1X,EAAM,IAAmC,IAA7BA,EAAM,GAAG0X,QAAQ,UAC3BkM,EAAWI,EAAW/iB,KAAKjB,EAAM,KAAM,CAEpDA,EAAM,GAAK4jB,EAAS,GACpB5jB,EAAM,GAAK4jB,EAAS,GACpB5jB,EAAM,GAAK4jB,EAAS,EACtB,CACA7e,EAAU,CACRsK,IAAM6U,EAAsB,KAAXlkB,EAAM,GACvB8M,KAAM9M,EAAM,IAAMgiB,EAClBjV,KAAMmX,EAAW,CAAClkB,EAAM,IAAM,GAC9B8a,KAAM9a,EAAM,IAAMA,EAAM,GAAK,KAC7BkS,OAAQlS,EAAM,IAAMA,EAAM,GAAK,KAEnC,MAAO,GAAKA,EAAQ8jB,EAAM7iB,KAAKgjB,EAAM9jB,IACnC4E,EAAU,CACRsK,IAAKrP,EAAM,GACX8M,KAAM9M,EAAM,IAAMgiB,EAClBjV,KAAM,GACN+N,MAAO9a,EAAM,GACbkS,OAAQlS,EAAM,IAAMA,EAAM,GAAK,UAE5B,MAAKA,EAAQ6jB,EAAM5iB,KAAKgjB,EAAM9jB,KA0BnC,SAxBA,GADaH,EAAM,IAAMA,EAAM,GAAG0X,QAAQ,YAAc,IACzCkM,EAAWG,EAAU9iB,KAAKjB,EAAM,KAAM,CAEnDA,EAAM,GAAK4jB,EAAS,GACpB5jB,EAAM,GAAK4jB,EAAS,GACpB5jB,EAAM,GAAK,IACb,MACQ,IAANG,GACCH,EAAM,SACoB,IAApB+N,EAAGoW,eAMVvV,EAAM,GAAGsD,OAASnE,EAAGoW,aAAe,GAEtCpf,EAAU,CACRsK,IAAKrP,EAAM,GACX8M,KAAM9M,EAAM,IAAMgiB,EAClBjV,KAAM/M,EAAM,GAAKA,EAAM,GAAGC,MAAM,KAAO,GACvC6a,KAAM9a,EAAM,IAAMA,EAAM,GAAK,KAC7BkS,OAAQlS,EAAM,IAAMA,EAAM,GAAK,KAInC,EAEK+E,EAAQ+H,MAAQ/H,EAAQ+V,OAC3B/V,EAAQ+H,KAAOkV,GAGjBpT,EAAM/J,KAAKE,EACb,CAEA,OAAK6J,EAAMxO,OAIJ,CACL8O,KAAMnB,EAAGmB,KACTvB,QAASI,EAAGJ,QACZ0B,IAAK6S,IACLtT,MAAOA,GAPA,IAhF+C,CAyF1D,CAeA,SAASwU,EACPhJ,EACA/K,EACA6T,EACAvV,GAEA,IAAIyW,EAAU,CACZ/U,IAAKA,EACLyL,KAAMoI,GAGR,GAAIkB,EAAQ/U,KAAO+U,EAAQtJ,KAAM,CAC/BV,EAAUsJ,YAAa,EAElBU,EAAQtX,OACXsX,EAAQtX,KAAOkV,GAGjB,GAAI5H,EAAUxL,MAAMxO,OAAS,GACvBga,EAAUxL,MAAM,GAAGS,MAAQ+U,EAAQ/U,IAAK,CAC1C,GAAI+K,EAAUxL,MAAM,GAAGkM,OAASsJ,EAAQtJ,KACtC,OAAO,EACF,IACJV,EAAUxL,MAAM,GAAGkM,MACpBV,EAAUxL,MAAM,GAAG9B,OAASsX,EAAQtX,KACpC,CACAsN,EAAUxL,MAAM,GAAGkM,KAAOsJ,EAAQtJ,KAClC,OAAO,CACT,CACF,CAGFV,EAAUxL,MAAMyV,QAAQD,GACxBhK,EAAUkK,SAAU,EACpB,OAAO,CACT,CACElK,EAAUsJ,YAAa,EAGzB,OAAO,CACT,CAWA,SAASa,EAAsCxW,EAAIiG,GAUjD,IATA,IAKEhU,EACAwkB,EANEC,EACA,qEACF7V,EAAQ,GACR8V,EAAQ,CAAC,EACTC,GAAY,EAMRC,EAAOL,EAAsCM,OACjDD,IAASD,EACTC,EAAOA,EAAKC,OAEZ,GAAID,IAAS/V,GAAqB+V,IAASnf,EAASiG,OAApD,CAKA8Y,EAAO,CACLnV,IAAK,KACLvC,KAAMkV,EACNlH,KAAM,KACN5I,OAAQ,MAGN0S,EAAK1V,KACPsV,EAAK1X,KAAO8X,EAAK1V,MACPlP,EAAQykB,EAAaxjB,KAAK2jB,EAAKtZ,eACzCkZ,EAAK1X,KAAO9M,EAAM,IAGpB,QAAyB,IAAdwkB,EAAK1X,KACd,IACE0X,EAAK1X,KAAO9M,EAAM8kB,MAAMjD,UAAU,EAAG7hB,EAAM8kB,MAAMpN,QAAQ,KAC3D,CAAE,MAAO/Y,GAAI,CAGX+lB,EAAM,GAAKE,GACbD,GAAY,EAEZD,EAAM,GAAKE,IAAQ,EAGrBhW,EAAM/J,KAAK2f,EA3BX,CA8BExQ,GAGFpF,EAAM+T,OAAO,EAAG3O,GAGlB,IAAIxV,EAAS,CACX0Q,KAAMnB,EAAGmB,KACTvB,QAASI,EAAGJ,QACZ0B,IAAK6S,IACLtT,MAAOA,GAETwU,EACE5kB,EACAuP,EAAGgX,WAAahX,EAAGiX,SACnBjX,EAAG+M,MAAQ/M,EAAGiE,WACdjE,EAAGJ,SAAWI,EAAGkX,aAEnB,OAAOzmB,CACT,CAOA,SAASqQ,EAAkBd,EAAIiG,GAC7B,IAAIpF,EAAQ,KACZoF,EAAiB,MAATA,EAAgB,GAAKA,EAE7B,IAEE,GADApF,EAAQ+U,EAA+B5V,GAErC,OAAOa,CAEX,CAAE,MAAOjQ,GACP,GAAI8G,EAASnE,MACX,MAAM3C,CAEV,CAEA,IAEE,GADAiQ,EAAQ2V,EAAsCxW,EAAIiG,EAAQ,GAExD,OAAOpF,CAEX,CAAE,MAAOjQ,GACP,GAAI8G,EAASnE,MACX,MAAM3C,CAEV,CACA,MAAO,CACLuQ,KAAMnB,EAAGmB,KACTvB,QAASI,EAAGJ,QACZ0B,IAAK6S,IAET,CAEArT,EAAkBuU,oCAChBA,EACFvU,EAAkB8U,+BAChBA,EAEF,OAAO9U,CACR,CAxT4B,GA0T7BhS,EAAOC,QAAU2I,C,oBCpoBP5I,EAAOC,QAAU4E,GACnBwjB,aAAeC,EAEvB,SAASzN,EAAQ0N,EAAUC,GACzB,IAAK,IAAIllB,EAAI,EAAGA,EAAIilB,EAAShlB,SAAUD,EACrC,GAAIilB,EAASjlB,KAAOklB,EAAQ,OAAOllB,EAErC,OAAQ,CACV,CAEA,SAASuB,EAAU+N,EAAK6V,EAAUC,EAAQC,GACxC,OAAO/jB,KAAKC,UAAU+N,EAAK0V,EAAWG,EAAUE,GAAgBD,EAClE,CAGA,SAASE,EAAetgB,GACtB,IAAI2R,EAAM,CAERlI,MAAOzJ,EAAMyJ,MACbjB,QAASxI,EAAMwI,QACfuB,KAAM/J,EAAM+J,MAGd,IAAK,IAAI/O,KAAKgF,EACRxH,OAAO8M,UAAUiM,eAAenL,KAAKpG,EAAOhF,KAC9C2W,EAAI3W,GAAKgF,EAAMhF,IAInB,OAAO2W,CACT,CAEA,SAASqO,EAAWG,EAAUE,GAC5B,IAAI5W,EAAQ,GACRnP,EAAO,GAEU,MAAjB+lB,IACFA,EAAgB,SAAUjnB,EAAK4G,GAC7B,OAAIyJ,EAAM,KAAOzJ,EACR,eAGP,eAAiB1F,EAAKuQ,MAAM,EAAG0H,EAAQ9I,EAAOzJ,IAAQ/H,KAAK,KAAO,GAEtE,GAGF,OAAO,SAAUmB,EAAK4G,GACpB,GAAIyJ,EAAMxO,OAAS,EAAG,CACpB,IAAIslB,EAAUhO,EAAQ9I,EAAOjH,OAC5B+d,EAAU9W,EAAM+T,OAAO+C,EAAU,GAAK9W,EAAM/J,KAAK8C,OACjD+d,EAAUjmB,EAAKkjB,OAAO+C,EAASC,IAAUpnB,GAAOkB,EAAKoF,KAAKtG,IAEtDmZ,EAAQ9I,EAAOzJ,KAClBA,EAAQqgB,EAAcja,KAAK5D,KAAMpJ,EAAK4G,GAE1C,MACEyJ,EAAM/J,KAAKM,GAGb,OAAmB,MAAZmgB,EACHngB,aAAiBpF,MACf0lB,EAAetgB,GACfA,EACFmgB,EAAS/Z,KAAK5D,KAAMpJ,EAAK4G,EAC/B,CACF,C,iBC7EA,SAASO,EAAiBiI,GACxBhG,KAAKuH,KAAO,mBACZvH,KAAKgG,QAAUA,CACjB,CACAjI,EAAiB+E,UAAY,IAAI1K,MACjC2F,EAAiB+E,UAAUgI,YAAc/M,EAEzC7I,EAAOC,QAAU4I,C,uMCDV,SAASkgB,EAAiCC,GAAsB,IAAAC,EACrE,MAAMC,EAAYF,EAAa5lB,MAAM,KAAKP,MAAMsmB,GACvCA,EAAMC,OAAOzgB,WAAW,WAGjC,IAAKugB,EACH,OAAO,KAGT,MAAMG,EAAaH,EAAU9lB,MAAM,KAAKP,MAAMsmB,GACrCA,EAAMC,OAAOzgB,WAAW,WAGjC,IAAK0gB,EACH,OAAO,KAGT,MAAM/gB,EAAgC,QAA3B2gB,EAAGI,EAAWjmB,MAAM,KAAK,UAAE,IAAA6lB,OAAA,EAAxBA,EAA0BG,OAExC,OAAK9gB,EAIDA,EAAMK,WAAW,MAAQL,EAAMghB,SAAS,KACnC1kB,KAAK2O,MAAMjL,GAGbA,EAPE,IAQX,CAOO,SAASS,EAAwBwF,GACtC,MAAMgb,EAAahb,EAAIib,wBAAwBpmB,MAAM,QAG/CqmB,EAA8BF,EAAW1mB,MAAM6mB,GAC5CA,EAAOjnB,cAAckG,WAAW,8BAGzC,GAAI8gB,EAA6B,CAC/B,MAAMrO,EAAgBqO,EACnBtW,MAAM,IACNiW,OACH,GAAIhO,EACF,OAAOA,CAEX,CAGA,MAAMuO,EAAqBJ,EAAW1mB,MAAM6mB,GACnCA,EAAOjnB,cAAckG,WAAW,mBAGzC,OAAKghB,EAIEZ,EACLY,EAAmBxW,MAAM,KAJlB,IAMX,CAKO,SAASrK,EAA6BgT,GAAoB,IAAA8N,EAE/D,MAAMC,EAAwB/N,EAAS8C,QAAQ7b,IAC7C,4BAEF,GAAI8mB,EACF,OAAOA,EAIT,MAAMF,EAEL,QAFuBC,EAAG,IAAI9N,EAAS8C,QAAQ7d,WAAW8B,MACzD,EAAEnB,KAA+B,kBAAtBA,EAAIe,uBAChB,IAAAmnB,OAAA,EAF0BA,EAEvB,GAEJ,OAAKD,EAIEZ,EAAiCY,GAH/B,IAIX,C,iBC9FA,IAAIG,EAAa,SAAU/c,EAASgE,EAAOnG,GACzC,IAAImf,EAAuBhd,EAAQgE,GAC/BiZ,EAAkBjd,EAEtB,GAAMgE,KAAShE,EAAf,CAIA,IAAIkd,EAAwB,SAAVlZ,EAAmB,UAAYA,EAEjDhE,EAAQgE,GAAS,WACf,IAAIb,EAAO,GAAGiD,MAAMzE,KAAK9K,WAErBuO,EAAM,GAAKjC,EAAK3P,KAAK,KACrBsK,EAAO,CACTkG,MAAOkZ,EACPve,OAAQ,UACR0H,MAAO,CAAExP,UAAWsM,IAGtB,GAAc,WAAVa,GACF,IAAgB,IAAZb,EAAK,GAAc,CAErBiC,EACE,sBAAwBjC,EAAKiD,MAAM,GAAG5S,KAAK,MAAQ,kBACrDsK,EAAKuI,MAAMxP,UAAYsM,EAAKiD,MAAM,GAClCvI,GAAYA,EAASuH,EAAKtH,EAC5B,OAEAD,GAAYA,EAASuH,EAAKtH,GAIxBkf,GAGFhI,SAASnU,UAAUoB,MAAMN,KACvBqb,EACAC,EACA9Z,EAGN,CApCA,CAqCF,EAEAlQ,EAAOC,QAAU,CACf6pB,WAAYA,E,iBCrCKI,EAIX,WAAc,aAAa,IAAIC,EAAU3Q,MAAM5L,UAAUuF,MAE/D,SAASiX,EAAYC,EAAMC,GACrBA,IACFD,EAAKzc,UAAY9M,OAAOypB,OAAOD,EAAW1c,YAE5Cyc,EAAKzc,UAAUgI,YAAcyU,CAC/B,CAEA,SAASG,EAASliB,GACd,OAAOmiB,EAAWniB,GAASA,EAAQoiB,EAAIpiB,EACzC,CAGF8hB,EAAYO,EAAeH,GACzB,SAASG,EAAcriB,GACrB,OAAOsiB,EAAQtiB,GAASA,EAAQuiB,EAASviB,EAC3C,CAGF8hB,EAAYU,EAAiBN,GAC3B,SAASM,EAAgBxiB,GACvB,OAAOyiB,EAAUziB,GAASA,EAAQ0iB,EAAW1iB,EAC/C,CAGF8hB,EAAYa,EAAaT,GACvB,SAASS,EAAY3iB,GACnB,OAAOmiB,EAAWniB,KAAW4iB,EAAc5iB,GAASA,EAAQ6iB,EAAO7iB,EACrE,CAIF,SAASmiB,EAAWW,GAClB,SAAUA,IAAiBA,EAAcC,GAC3C,CAEA,SAAST,EAAQU,GACf,SAAUA,IAAcA,EAAWC,GACrC,CAEA,SAASR,EAAUS,GACjB,SAAUA,IAAgBA,EAAaC,GACzC,CAEA,SAASP,EAAcQ,GACrB,OAAOd,EAAQc,IAAqBX,EAAUW,EAChD,CAEA,SAASC,EAAUC,GACjB,SAAUA,IAAgBA,EAAaC,GACzC,CAEArB,EAASC,WAAaA,EACtBD,EAASI,QAAUA,EACnBJ,EAASO,UAAYA,EACrBP,EAASU,cAAgBA,EACzBV,EAASmB,UAAYA,EAErBnB,EAASsB,MAAQnB,EACjBH,EAASuB,QAAUjB,EACnBN,EAASwB,IAAMf,EAGf,IAAII,EAAuB,6BACvBE,EAAoB,0BACpBE,EAAsB,4BACtBI,EAAsB,4BAGtBI,EAAS,SAGTC,EAAQ,EACRC,EAAO,GAAKD,EACZE,EAAOD,EAAO,EAIdE,EAAU,CAAC,EAGXC,EAAgB,CAAEhkB,OAAO,GACzBikB,EAAY,CAAEjkB,OAAO,GAEzB,SAASkkB,EAAQC,GACfA,EAAInkB,OAAQ,EACZ,OAAOmkB,CACT,CAEA,SAASC,EAAOD,GACdA,IAAQA,EAAInkB,OAAQ,EACtB,CAKA,SAASqkB,IAAW,CAGpB,SAASC,EAAQrJ,EAAKsJ,GACpBA,EAASA,GAAU,EAGnB,IAFA,IAAI9J,EAAM5U,KAAKC,IAAI,EAAGmV,EAAIhgB,OAASspB,GAC/BC,EAAS,IAAItT,MAAMuJ,GACdgK,EAAK,EAAGA,EAAKhK,EAAKgK,IACzBD,EAAOC,GAAMxJ,EAAIwJ,EAAKF,GAExB,OAAOC,CACT,CAEA,SAASE,EAAWC,QACAtqB,IAAdsqB,EAAKC,OACPD,EAAKC,KAAOD,EAAKE,UAAUC,IAE7B,OAAOH,EAAKC,IACd,CAEA,SAASG,EAAUJ,EAAMK,GAQvB,GAAqB,iBAAVA,EAAoB,CAC7B,IAAIC,EAAcD,IAAU,EAC5B,GAAI,GAAKC,IAAgBD,GAAyB,aAAhBC,EAChC,OAAOC,IAETF,EAAQC,CACV,CACA,OAAOD,EAAQ,EAAIN,EAAWC,GAAQK,EAAQA,CAChD,CAEA,SAASF,IACP,OAAO,CACT,CAEA,SAASK,EAAWC,EAAOC,EAAKT,GAC9B,OAAkB,IAAVQ,QAAyB/qB,IAATuqB,GAAsBQ,IAAUR,UAC7CvqB,IAARgrB,QAA+BhrB,IAATuqB,GAAsBS,GAAOT,EACxD,CAEA,SAASU,EAAaF,EAAOR,GAC3B,OAAOW,EAAaH,EAAOR,EAAM,EACnC,CAEA,SAASY,EAAWH,EAAKT,GACvB,OAAOW,EAAaF,EAAKT,EAAMA,EACjC,CAEA,SAASW,EAAaP,EAAOJ,EAAMa,GACjC,YAAiBprB,IAAV2qB,EACLS,EACAT,EAAQ,EACNnf,KAAKC,IAAI,EAAG8e,EAAOI,QACV3qB,IAATuqB,EACEI,EACAnf,KAAKE,IAAI6e,EAAMI,EACvB,CAIA,IAAIU,EAAe,EACfC,EAAiB,EACjBC,EAAkB,EAElBC,EAAyC,mBAAXC,QAAyBA,OAAOC,SAC9DC,EAAuB,aAEvBC,EAAkBJ,GAAwBG,EAG9C,SAASE,EAASC,GACd3jB,KAAK2jB,KAAOA,CACd,CAEAD,EAAS5gB,UAAUa,SAAW,WAC5B,MAAO,YACT,EAGF+f,EAASE,KAAOV,EAChBQ,EAASG,OAASV,EAClBO,EAASI,QAAUV,EAEnBM,EAAS5gB,UAAUihB,QACnBL,EAAS5gB,UAAUkhB,SAAW,WAAc,OAAOhkB,KAAK2D,UAAY,EACpE+f,EAAS5gB,UAAU2gB,GAAmB,WACpC,OAAOzjB,IACT,EAGA,SAASikB,EAAclZ,EAAMgI,EAAG8F,EAAGqL,GACjC,IAAI1mB,EAAiB,IAATuN,EAAagI,EAAa,IAAThI,EAAa8N,EAAI,CAAC9F,EAAG8F,GAClDqL,EAAkBA,EAAe1mB,MAAQA,EAAU0mB,EAAiB,CAClE1mB,MAAOA,EAAO2mB,MAAM,GAEtB,OAAOD,CACT,CAEA,SAASE,IACP,MAAO,CAAE5mB,WAAO3F,EAAWssB,MAAM,EACnC,CAEA,SAASE,EAAY/D,GACnB,QAASgE,EAAchE,EACzB,CAEA,SAASiE,EAAWC,GAClB,OAAOA,GAA+C,mBAAvBA,EAAcb,IAC/C,CAEA,SAASc,EAAYC,GACnB,IAAIC,EAAaL,EAAcI,GAC/B,OAAOC,GAAcA,EAAW/gB,KAAK8gB,EACvC,CAEA,SAASJ,EAAcI,GACrB,IAAIC,EAAaD,IACdrB,GAAwBqB,EAASrB,IAClCqB,EAASlB,IAEX,GAA0B,mBAAfmB,EACT,OAAOA,CAEX,CAEA,SAASC,EAAYpnB,GACnB,OAAOA,GAAiC,iBAAjBA,EAAM/E,MAC/B,CAEA6mB,EAAYM,EAAKF,GACf,SAASE,EAAIpiB,GACX,OAAOA,QAAwCqnB,KAC7ClF,EAAWniB,GAASA,EAAMsnB,QAAUC,GAAavnB,EACrD,CAEAoiB,EAAIoF,GAAK,WACP,OAAOpF,EAAI9mB,UACb,EAEA8mB,EAAI9c,UAAUgiB,MAAQ,WACpB,OAAO9kB,IACT,EAEA4f,EAAI9c,UAAUa,SAAW,WACvB,OAAO3D,KAAKilB,WAAW,QAAS,IAClC,EAEArF,EAAI9c,UAAUoiB,YAAc,WAC1B,IAAKllB,KAAKmlB,QAAUnlB,KAAKolB,kBAAmB,CAC1CplB,KAAKmlB,OAASnlB,KAAKqlB,WAAWC,UAC9BtlB,KAAKoiB,KAAOpiB,KAAKmlB,OAAO1sB,MAC1B,CACA,OAAOuH,IACT,EAIA4f,EAAI9c,UAAUuf,UAAY,SAAS7T,EAAIjW,GACrC,OAAOgtB,GAAWvlB,KAAMwO,EAAIjW,GAAS,EACvC,EAIAqnB,EAAI9c,UAAU0iB,WAAa,SAASza,EAAMxS,GACxC,OAAOktB,GAAYzlB,KAAM+K,EAAMxS,GAAS,EAC1C,EAIF+mB,EAAYS,EAAUH,GACpB,SAASG,EAASviB,GAChB,OAAOA,QACLqnB,KAAgBa,aAChB/F,EAAWniB,GACRsiB,EAAQtiB,GAASA,EAAMsnB,QAAUtnB,EAAMmoB,eACxCC,GAAkBpoB,EACxB,CAEAuiB,EAASjd,UAAU4iB,WAAa,WAC9B,OAAO1lB,IACT,EAIFsf,EAAYY,EAAYN,GACtB,SAASM,EAAW1iB,GAClB,OAAOA,QAAwCqnB,KAC5ClF,EAAWniB,GACZsiB,EAAQtiB,GAASA,EAAM6nB,WAAa7nB,EAAMqoB,eADrBC,GAAoBtoB,EAE7C,CAEA0iB,EAAW8E,GAAK,WACd,OAAO9E,EAAWpnB,UACpB,EAEAonB,EAAWpd,UAAU+iB,aAAe,WAClC,OAAO7lB,IACT,EAEAkgB,EAAWpd,UAAUa,SAAW,WAC9B,OAAO3D,KAAKilB,WAAW,QAAS,IAClC,EAEA/E,EAAWpd,UAAUuf,UAAY,SAAS7T,EAAIjW,GAC5C,OAAOgtB,GAAWvlB,KAAMwO,EAAIjW,GAAS,EACvC,EAEA2nB,EAAWpd,UAAU0iB,WAAa,SAASza,EAAMxS,GAC/C,OAAOktB,GAAYzlB,KAAM+K,EAAMxS,GAAS,EAC1C,EAIF+mB,EAAYe,EAAQT,GAClB,SAASS,EAAO7iB,GACd,OACEA,QAAwCqnB,KACvClF,EAAWniB,GACZsiB,EAAQtiB,GAASA,EAAM6nB,WAAa7nB,EADfsoB,GAAoBtoB,IAEzCuoB,UACJ,CAEA1F,EAAO2E,GAAK,WACV,OAAO3E,EAAOvnB,UAChB,EAEAunB,EAAOvd,UAAUijB,SAAW,WAC1B,OAAO/lB,IACT,EAIF4f,EAAIoG,MAAQA,GACZpG,EAAIoB,MAAQjB,EACZH,EAAIsB,IAAMb,EACVT,EAAIqB,QAAUf,EAEd,IA2LI+F,EA4UAC,EAqHAC,EA5nBAC,GAAkB,wBAEtBxG,EAAI9c,UAAUsjB,KAAmB,EAIjC9G,EAAY+G,GAAUnG,GACpB,SAASmG,GAASC,GAChBtmB,KAAKumB,OAASD,EACdtmB,KAAKoiB,KAAOkE,EAAM7tB,MACpB,CAEA4tB,GAASvjB,UAAU7K,IAAM,SAASuqB,EAAOgE,GACvC,OAAOxmB,KAAKga,IAAIwI,GAASxiB,KAAKumB,OAAOhE,EAAUviB,KAAMwiB,IAAUgE,CACjE,EAEAH,GAASvjB,UAAUuf,UAAY,SAAS7T,EAAIjW,GAG1C,IAFA,IAAI+tB,EAAQtmB,KAAKumB,OACbE,EAAWH,EAAM7tB,OAAS,EACrBwpB,EAAK,EAAGA,GAAMwE,EAAUxE,IAC/B,IAA0D,IAAtDzT,EAAG8X,EAAM/tB,EAAUkuB,EAAWxE,EAAKA,GAAKA,EAAIjiB,MAC9C,OAAOiiB,EAAK,EAGhB,OAAOA,CACT,EAEAoE,GAASvjB,UAAU0iB,WAAa,SAASza,EAAMxS,GAC7C,IAAI+tB,EAAQtmB,KAAKumB,OACbE,EAAWH,EAAM7tB,OAAS,EAC1BwpB,EAAK,EACT,OAAO,IAAIyB,GAAS,WACjB,OAAOzB,EAAKwE,EACXrC,IACAH,EAAclZ,EAAMkX,EAAIqE,EAAM/tB,EAAUkuB,EAAWxE,IAAOA,KAAM,GAEtE,EAIF3C,EAAYoH,GAAW3G,GACrB,SAAS2G,GAAU7O,GACjB,IAAI/f,EAAO9B,OAAO8B,KAAK+f,GACvB7X,KAAK2mB,QAAU9O,EACf7X,KAAK4mB,MAAQ9uB,EACbkI,KAAKoiB,KAAOtqB,EAAKW,MACnB,CAEAiuB,GAAU5jB,UAAU7K,IAAM,SAASrB,EAAK4vB,GACtC,YAAoB3uB,IAAhB2uB,GAA8BxmB,KAAKga,IAAIpjB,GAGpCoJ,KAAK2mB,QAAQ/vB,GAFX4vB,CAGX,EAEAE,GAAU5jB,UAAUkX,IAAM,SAASpjB,GACjC,OAAOoJ,KAAK2mB,QAAQ5X,eAAenY,EACrC,EAEA8vB,GAAU5jB,UAAUuf,UAAY,SAAS7T,EAAIjW,GAI3C,IAHA,IAAIsf,EAAS7X,KAAK2mB,QACd7uB,EAAOkI,KAAK4mB,MACZH,EAAW3uB,EAAKW,OAAS,EACpBwpB,EAAK,EAAGA,GAAMwE,EAAUxE,IAAM,CACrC,IAAIrrB,EAAMkB,EAAKS,EAAUkuB,EAAWxE,EAAKA,GACzC,IAAmC,IAA/BzT,EAAGqJ,EAAOjhB,GAAMA,EAAKoJ,MACvB,OAAOiiB,EAAK,CAEhB,CACA,OAAOA,CACT,EAEAyE,GAAU5jB,UAAU0iB,WAAa,SAASza,EAAMxS,GAC9C,IAAIsf,EAAS7X,KAAK2mB,QACd7uB,EAAOkI,KAAK4mB,MACZH,EAAW3uB,EAAKW,OAAS,EACzBwpB,EAAK,EACT,OAAO,IAAIyB,GAAS,WAClB,IAAI9sB,EAAMkB,EAAKS,EAAUkuB,EAAWxE,EAAKA,GACzC,OAAOA,IAAOwE,EACZrC,IACAH,EAAclZ,EAAMnU,EAAKihB,EAAOjhB,GACpC,GACF,EAEF8vB,GAAU5jB,UAAUie,IAAuB,EAG3CzB,EAAYuH,GAAa3G,GACvB,SAAS2G,GAAYnC,GACnB1kB,KAAK8mB,UAAYpC,EACjB1kB,KAAKoiB,KAAOsC,EAASjsB,QAAUisB,EAAStC,IAC1C,CAEAyE,GAAY/jB,UAAUsiB,kBAAoB,SAAS5W,EAAIjW,GACrD,GAAIA,EACF,OAAOyH,KAAKklB,cAAc7C,UAAU7T,EAAIjW,GAE1C,IACIgrB,EAAWkB,EADAzkB,KAAK8mB,WAEhBC,EAAa,EACjB,GAAIxC,EAAWhB,GAEb,IADA,IAAIyD,IACKA,EAAOzD,EAASI,QAAQQ,OACY,IAAvC3V,EAAGwY,EAAKxpB,MAAOupB,IAAc/mB,QAKrC,OAAO+mB,CACT,EAEAF,GAAY/jB,UAAUmkB,mBAAqB,SAASlc,EAAMxS,GACxD,GAAIA,EACF,OAAOyH,KAAKklB,cAAcM,WAAWza,EAAMxS,GAE7C,IACIgrB,EAAWkB,EADAzkB,KAAK8mB,WAEpB,IAAKvC,EAAWhB,GACd,OAAO,IAAIG,EAASU,GAEtB,IAAI2C,EAAa,EACjB,OAAO,IAAIrD,GAAS,WAClB,IAAIsD,EAAOzD,EAASI,OACpB,OAAOqD,EAAK7C,KAAO6C,EAAO/C,EAAclZ,EAAMgc,IAAcC,EAAKxpB,MACnE,GACF,EAIF8hB,EAAY4H,GAAahH,GACvB,SAASgH,GAAY3D,GACnBvjB,KAAKmnB,UAAY5D,EACjBvjB,KAAKonB,eAAiB,EACxB,CAEAF,GAAYpkB,UAAUsiB,kBAAoB,SAAS5W,EAAIjW,GACrD,GAAIA,EACF,OAAOyH,KAAKklB,cAAc7C,UAAU7T,EAAIjW,GAK1C,IAHA,IAQIyuB,EARAzD,EAAWvjB,KAAKmnB,UAChBE,EAAQrnB,KAAKonB,eACbL,EAAa,EACVA,EAAaM,EAAM5uB,QACxB,IAAkD,IAA9C+V,EAAG6Y,EAAMN,GAAaA,IAAc/mB,MACtC,OAAO+mB,EAIX,OAASC,EAAOzD,EAASI,QAAQQ,MAAM,CACrC,IAAIlqB,EAAM+sB,EAAKxpB,MACf6pB,EAAMN,GAAc9sB,EACpB,IAAoC,IAAhCuU,EAAGvU,EAAK8sB,IAAc/mB,MACxB,KAEJ,CACA,OAAO+mB,CACT,EAEAG,GAAYpkB,UAAUmkB,mBAAqB,SAASlc,EAAMxS,GACxD,GAAIA,EACF,OAAOyH,KAAKklB,cAAcM,WAAWza,EAAMxS,GAE7C,IAAIgrB,EAAWvjB,KAAKmnB,UAChBE,EAAQrnB,KAAKonB,eACbL,EAAa,EACjB,OAAO,IAAIrD,GAAS,WAClB,GAAIqD,GAAcM,EAAM5uB,OAAQ,CAC9B,IAAIuuB,EAAOzD,EAASI,OACpB,GAAIqD,EAAK7C,KACP,OAAO6C,EAETK,EAAMN,GAAcC,EAAKxpB,KAC3B,CACA,OAAOymB,EAAclZ,EAAMgc,EAAYM,EAAMN,KAC/C,GACF,EAOF,SAASf,GAAMsB,GACb,SAAUA,IAAYA,EAASlB,IACjC,CAIA,SAASvB,KACP,OAAOoB,IAAcA,EAAY,IAAII,GAAS,IAChD,CAEA,SAAST,GAAkBpoB,GACzB,IAAI+pB,EACF7Y,MAAM8Y,QAAQhqB,GAAS,IAAI6oB,GAAS7oB,GAAOmoB,eAC3CpB,EAAW/mB,GAAS,IAAI0pB,GAAY1pB,GAAOmoB,eAC3CtB,EAAY7mB,GAAS,IAAIqpB,GAAYrpB,GAAOmoB,eAC3B,iBAAVnoB,EAAqB,IAAIkpB,GAAUlpB,QAC1C3F,EACF,IAAK0vB,EACH,MAAM,IAAIE,UACR,yEACsBjqB,GAG1B,OAAO+pB,CACT,CAEA,SAASzB,GAAoBtoB,GAC3B,IAAI+pB,EAAMG,GAAyBlqB,GACnC,IAAK+pB,EACH,MAAM,IAAIE,UACR,gDAAkDjqB,GAGtD,OAAO+pB,CACT,CAEA,SAASxC,GAAavnB,GACpB,IAAI+pB,EAAMG,GAAyBlqB,IACf,iBAAVA,GAAsB,IAAIkpB,GAAUlpB,GAC9C,IAAK+pB,EACH,MAAM,IAAIE,UACR,iEAAmEjqB,GAGvE,OAAO+pB,CACT,CAEA,SAASG,GAAyBlqB,GAChC,OACEonB,EAAYpnB,GAAS,IAAI6oB,GAAS7oB,GAClC+mB,EAAW/mB,GAAS,IAAI0pB,GAAY1pB,GACpC6mB,EAAY7mB,GAAS,IAAIqpB,GAAYrpB,QACrC3F,CAEJ,CAEA,SAAS0tB,GAAWgC,EAAK/Y,EAAIjW,EAASovB,GACpC,IAAIN,EAAQE,EAAIpC,OAChB,GAAIkC,EAAO,CAET,IADA,IAAIZ,EAAWY,EAAM5uB,OAAS,EACrBwpB,EAAK,EAAGA,GAAMwE,EAAUxE,IAAM,CACrC,IAAI5D,EAAQgJ,EAAM9uB,EAAUkuB,EAAWxE,EAAKA,GAC5C,IAAmD,IAA/CzT,EAAG6P,EAAM,GAAIsJ,EAAUtJ,EAAM,GAAK4D,EAAIsF,GACxC,OAAOtF,EAAK,CAEhB,CACA,OAAOA,CACT,CACA,OAAOsF,EAAInC,kBAAkB5W,EAAIjW,EACnC,CAEA,SAASktB,GAAY8B,EAAKxc,EAAMxS,EAASovB,GACvC,IAAIN,EAAQE,EAAIpC,OAChB,GAAIkC,EAAO,CACT,IAAIZ,EAAWY,EAAM5uB,OAAS,EAC1BwpB,EAAK,EACT,OAAO,IAAIyB,GAAS,WAClB,IAAIrF,EAAQgJ,EAAM9uB,EAAUkuB,EAAWxE,EAAKA,GAC5C,OAAOA,IAAOwE,EACZrC,IACAH,EAAclZ,EAAM4c,EAAUtJ,EAAM,GAAK4D,EAAK,EAAG5D,EAAM,GAC3D,GACF,CACA,OAAOkJ,EAAIN,mBAAmBlc,EAAMxS,EACtC,CAEA,SAASqvB,GAAOC,EAAMC,GACpB,OAAOA,EACLC,GAAWD,EAAWD,EAAM,GAAI,CAAC,GAAIA,IACrCG,GAAcH,EAClB,CAEA,SAASE,GAAWD,EAAWD,EAAMjxB,EAAKqxB,GACxC,OAAIvZ,MAAM8Y,QAAQK,GACTC,EAAUlkB,KAAKqkB,EAAYrxB,EAAKspB,EAAW2H,GAAM3xB,KAAI,SAAS2iB,EAAG9F,GAAK,OAAOgV,GAAWD,EAAWjP,EAAG9F,EAAG8U,EAAK,KAEnHK,GAAWL,GACNC,EAAUlkB,KAAKqkB,EAAYrxB,EAAKmpB,EAAS8H,GAAM3xB,KAAI,SAAS2iB,EAAG9F,GAAK,OAAOgV,GAAWD,EAAWjP,EAAG9F,EAAG8U,EAAK,KAE9GA,CACT,CAEA,SAASG,GAAcH,GACrB,OAAInZ,MAAM8Y,QAAQK,GACT3H,EAAW2H,GAAM3xB,IAAI8xB,IAAeG,SAEzCD,GAAWL,GACN9H,EAAS8H,GAAM3xB,IAAI8xB,IAAeI,QAEpCP,CACT,CAGA,SAASK,GAAW1qB,GAClB,OACEA,IAC8B,mBAAtBA,EAAMsN,aACe,WAA3BtN,EAAMsN,YAAYvD,KAExB,CAwDA,SAAS8gB,GAAGC,EAAQC,GAClB,GAAID,IAAWC,GAAWD,GAAWA,GAAUC,GAAWA,EACxD,OAAO,EAET,IAAKD,IAAWC,EACd,OAAO,EAET,GAA8B,mBAAnBD,EAAOE,SACY,mBAAnBD,EAAOC,QAAwB,CAGxC,IAFAF,EAASA,EAAOE,cAChBD,EAASA,EAAOC,YACUF,GAAWA,GAAUC,GAAWA,EACxD,OAAO,EAET,IAAKD,IAAWC,EACd,OAAO,CAEX,CACA,QAA6B,mBAAlBD,EAAOG,QACW,mBAAlBF,EAAOE,SACdH,EAAOG,OAAOF,GAIpB,CAEA,SAASG,GAAUzP,EAAGC,GACpB,GAAID,IAAMC,EACR,OAAO,EAGT,IACGyG,EAAWzG,SACDrhB,IAAXohB,EAAEmJ,WAAiCvqB,IAAXqhB,EAAEkJ,MAAsBnJ,EAAEmJ,OAASlJ,EAAEkJ,WAChDvqB,IAAbohB,EAAE0P,aAAqC9wB,IAAbqhB,EAAEyP,QAAwB1P,EAAE0P,SAAWzP,EAAEyP,QACnE7I,EAAQ7G,KAAO6G,EAAQ5G,IACvB+G,EAAUhH,KAAOgH,EAAU/G,IAC3B2H,EAAU5H,KAAO4H,EAAU3H,GAE3B,OAAO,EAGT,GAAe,IAAXD,EAAEmJ,MAAyB,IAAXlJ,EAAEkJ,KACpB,OAAO,EAGT,IAAIwG,GAAkBxI,EAAcnH,GAEpC,GAAI4H,EAAU5H,GAAI,CAChB,IAAIhjB,EAAUgjB,EAAEhjB,UAChB,OAAOijB,EAAE2P,OAAM,SAAShQ,EAAG9F,GACzB,IAAIsL,EAAQpoB,EAAQ0tB,OAAOnmB,MAC3B,OAAO6gB,GAASgK,GAAGhK,EAAM,GAAIxF,KAAO+P,GAAkBP,GAAGhK,EAAM,GAAItL,GACrE,KAAM9c,EAAQ0tB,OAAOQ,IACvB,CAEA,IAAI2E,GAAU,EAEd,QAAejxB,IAAXohB,EAAEmJ,KACJ,QAAevqB,IAAXqhB,EAAEkJ,KACyB,mBAAlBnJ,EAAEiM,aACXjM,EAAEiM,kBAEC,CACL4D,GAAU,EACV,IAAI7W,EAAIgH,EACRA,EAAIC,EACJA,EAAIjH,CACN,CAGF,IAAI8W,GAAW,EACXC,EAAQ9P,EAAEmJ,WAAU,SAASxJ,EAAG9F,GAClC,GAAI6V,GAAkB3P,EAAEe,IAAInB,GACxBiQ,GAAWT,GAAGxP,EAAGI,EAAEhhB,IAAI8a,EAAGwO,KAAa8G,GAAGpP,EAAEhhB,IAAI8a,EAAGwO,GAAU1I,GAAI,CACnEkQ,GAAW,EACX,OAAO,CACT,CACF,IAEA,OAAOA,GAAY9P,EAAEmJ,OAAS4G,CAChC,CAEA1J,EAAY2J,GAAQ/I,GAElB,SAAS+I,GAAOzrB,EAAO0rB,GACrB,KAAMlpB,gBAAgBipB,IACpB,OAAO,IAAIA,GAAOzrB,EAAO0rB,GAE3BlpB,KAAKmpB,OAAS3rB,EACdwC,KAAKoiB,UAAiBvqB,IAAVqxB,EAAsBlL,IAAW3a,KAAKC,IAAI,EAAG4lB,GACzD,GAAkB,IAAdlpB,KAAKoiB,KAAY,CACnB,GAAI8D,EACF,OAAOA,EAETA,EAAelmB,IACjB,CACF,CAEAipB,GAAOnmB,UAAUa,SAAW,WAC1B,OAAkB,IAAd3D,KAAKoiB,KACA,YAEF,YAAcpiB,KAAKmpB,OAAS,IAAMnpB,KAAKoiB,KAAO,UACvD,EAEA6G,GAAOnmB,UAAU7K,IAAM,SAASuqB,EAAOgE,GACrC,OAAOxmB,KAAKga,IAAIwI,GAASxiB,KAAKmpB,OAAS3C,CACzC,EAEAyC,GAAOnmB,UAAU4H,SAAW,SAAS0e,GACnC,OAAOf,GAAGroB,KAAKmpB,OAAQC,EACzB,EAEAH,GAAOnmB,UAAUuF,MAAQ,SAASua,EAAOC,GACvC,IAAIT,EAAOpiB,KAAKoiB,KAChB,OAAOO,EAAWC,EAAOC,EAAKT,GAAQpiB,KACpC,IAAIipB,GAAOjpB,KAAKmpB,OAAQnG,EAAWH,EAAKT,GAAQU,EAAaF,EAAOR,GACxE,EAEA6G,GAAOnmB,UAAUvK,QAAU,WACzB,OAAOyH,IACT,EAEAipB,GAAOnmB,UAAUiN,QAAU,SAASqZ,GAClC,OAAIf,GAAGroB,KAAKmpB,OAAQC,GACX,GAED,CACV,EAEAH,GAAOnmB,UAAU4B,YAAc,SAAS0kB,GACtC,OAAIf,GAAGroB,KAAKmpB,OAAQC,GACXppB,KAAKoiB,MAEN,CACV,EAEA6G,GAAOnmB,UAAUuf,UAAY,SAAS7T,EAAIjW,GACxC,IAAK,IAAI0pB,EAAK,EAAGA,EAAKjiB,KAAKoiB,KAAMH,IAC/B,IAAkC,IAA9BzT,EAAGxO,KAAKmpB,OAAQlH,EAAIjiB,MACtB,OAAOiiB,EAAK,EAGhB,OAAOA,CACT,EAEAgH,GAAOnmB,UAAU0iB,WAAa,SAASza,EAAMxS,GAAU,IAAI8wB,EAASrpB,KAC9DiiB,EAAK,EACT,OAAO,IAAIyB,GAAS,WACjB,OAAOzB,EAAKoH,EAAOjH,KAAO6B,EAAclZ,EAAMkX,IAAMoH,EAAOF,QAAU/E,GAAc,GAExF,EAEA6E,GAAOnmB,UAAU2lB,OAAS,SAASa,GACjC,OAAOA,aAAiBL,GACtBZ,GAAGroB,KAAKmpB,OAAQG,EAAMH,QACtBT,GAAUY,EACd,EAKF,SAASC,GAAUC,EAAWnjB,GAC5B,IAAKmjB,EAAW,MAAM,IAAIpxB,MAAMiO,EAClC,CAEAiZ,EAAYmK,GAAOvJ,GAEjB,SAASuJ,GAAMC,EAAO7G,EAAKmE,GACzB,KAAMhnB,gBAAgBypB,IACpB,OAAO,IAAIA,GAAMC,EAAO7G,EAAKmE,GAE/BuC,GAAmB,IAATvC,EAAY,4BACtB0C,EAAQA,GAAS,OACL7xB,IAARgrB,IACFA,EAAM7E,KAERgJ,OAAgBnvB,IAATmvB,EAAqB,EAAI3jB,KAAKsmB,IAAI3C,GACrCnE,EAAM6G,IACR1C,GAAQA,GAEVhnB,KAAK4pB,OAASF,EACd1pB,KAAK6pB,KAAOhH,EACZ7iB,KAAK8pB,MAAQ9C,EACbhnB,KAAKoiB,KAAO/e,KAAKC,IAAI,EAAGD,KAAK0mB,MAAMlH,EAAM6G,GAAS1C,EAAO,GAAK,GAC9D,GAAkB,IAAdhnB,KAAKoiB,KAAY,CACnB,GAAI+D,EACF,OAAOA,EAETA,EAAcnmB,IAChB,CACF,CAEAypB,GAAM3mB,UAAUa,SAAW,WACzB,OAAkB,IAAd3D,KAAKoiB,KACA,WAEF,WACLpiB,KAAK4pB,OAAS,MAAQ5pB,KAAK6pB,MACX,IAAf7pB,KAAK8pB,MAAc,OAAS9pB,KAAK8pB,MAAQ,IAC5C,IACF,EAEAL,GAAM3mB,UAAU7K,IAAM,SAASuqB,EAAOgE,GACpC,OAAOxmB,KAAKga,IAAIwI,GACdxiB,KAAK4pB,OAASrH,EAAUviB,KAAMwiB,GAASxiB,KAAK8pB,MAC5CtD,CACJ,EAEAiD,GAAM3mB,UAAU4H,SAAW,SAAS0e,GAClC,IAAIY,GAAiBZ,EAAcppB,KAAK4pB,QAAU5pB,KAAK8pB,MACvD,OAAOE,GAAiB,GACtBA,EAAgBhqB,KAAKoiB,MACrB4H,IAAkB3mB,KAAK4mB,MAAMD,EACjC,EAEAP,GAAM3mB,UAAUuF,MAAQ,SAASua,EAAOC,GACtC,GAAIF,EAAWC,EAAOC,EAAK7iB,KAAKoiB,MAC9B,OAAOpiB,KAET4iB,EAAQE,EAAaF,EAAO5iB,KAAKoiB,MAEjC,OADAS,EAAMG,EAAWH,EAAK7iB,KAAKoiB,QAChBQ,EACF,IAAI6G,GAAM,EAAG,GAEf,IAAIA,GAAMzpB,KAAK/H,IAAI2qB,EAAO5iB,KAAK6pB,MAAO7pB,KAAK/H,IAAI4qB,EAAK7iB,KAAK6pB,MAAO7pB,KAAK8pB,MAC9E,EAEAL,GAAM3mB,UAAUiN,QAAU,SAASqZ,GACjC,IAAIc,EAAcd,EAAcppB,KAAK4pB,OACrC,GAAIM,EAAclqB,KAAK8pB,OAAU,EAAG,CAClC,IAAItH,EAAQ0H,EAAclqB,KAAK8pB,MAC/B,GAAItH,GAAS,GAAKA,EAAQxiB,KAAKoiB,KAC7B,OAAOI,CAEX,CACA,OAAQ,CACV,EAEAiH,GAAM3mB,UAAU4B,YAAc,SAAS0kB,GACrC,OAAOppB,KAAK+P,QAAQqZ,EACtB,EAEAK,GAAM3mB,UAAUuf,UAAY,SAAS7T,EAAIjW,GAIvC,IAHA,IAAIkuB,EAAWzmB,KAAKoiB,KAAO,EACvB4E,EAAOhnB,KAAK8pB,MACZtsB,EAAQjF,EAAUyH,KAAK4pB,OAASnD,EAAWO,EAAOhnB,KAAK4pB,OAClD3H,EAAK,EAAGA,GAAMwE,EAAUxE,IAAM,CACrC,IAA4B,IAAxBzT,EAAGhR,EAAOykB,EAAIjiB,MAChB,OAAOiiB,EAAK,EAEdzkB,GAASjF,GAAWyuB,EAAOA,CAC7B,CACA,OAAO/E,CACT,EAEAwH,GAAM3mB,UAAU0iB,WAAa,SAASza,EAAMxS,GAC1C,IAAIkuB,EAAWzmB,KAAKoiB,KAAO,EACvB4E,EAAOhnB,KAAK8pB,MACZtsB,EAAQjF,EAAUyH,KAAK4pB,OAASnD,EAAWO,EAAOhnB,KAAK4pB,OACvD3H,EAAK,EACT,OAAO,IAAIyB,GAAS,WAClB,IAAI7K,EAAIrb,EACRA,GAASjF,GAAWyuB,EAAOA,EAC3B,OAAO/E,EAAKwE,EAAWrC,IAAiBH,EAAclZ,EAAMkX,IAAMpJ,EACpE,GACF,EAEA4Q,GAAM3mB,UAAU2lB,OAAS,SAASa,GAChC,OAAOA,aAAiBG,GACtBzpB,KAAK4pB,SAAWN,EAAMM,QACtB5pB,KAAK6pB,OAASP,EAAMO,MACpB7pB,KAAK8pB,QAAUR,EAAMQ,MACrBpB,GAAU1oB,KAAMspB,EACpB,EAKFhK,EAAY6K,GAAYzK,GACtB,SAASyK,KACP,MAAM1C,UAAU,WAClB,CAGFnI,EAAY8K,GAAiBD,IAAY,SAASC,KAAmB,CAErE9K,EAAY+K,GAAmBF,IAAY,SAASE,KAAqB,CAEzE/K,EAAYgL,GAAeH,IAAY,SAASG,KAAiB,CAGjEH,GAAWnJ,MAAQoJ,GACnBD,GAAWlJ,QAAUoJ,GACrBF,GAAWjJ,IAAMoJ,GAEjB,IAAIC,GACmB,mBAAdlnB,KAAKknB,OAAqD,IAA9BlnB,KAAKknB,KAAK,WAAY,GACzDlnB,KAAKknB,KACL,SAActR,EAAGC,GAGf,IAAIJ,EAAQ,OAFZG,GAAQ,GAGJuR,EAAQ,OAFZtR,GAAQ,GAIR,OAAQJ,EAAI0R,IAASvR,IAAM,IAAMuR,EAAI1R,GAAKI,IAAM,KAAQ,KAAQ,GAAK,CACvE,EAMF,SAASuR,GAAIC,GACX,OAASA,IAAQ,EAAK,WAAqB,WAANA,CACvC,CAEA,SAASzQ,GAAK9B,GACZ,IAAU,IAANA,SAAeA,EACjB,OAAO,EAET,GAAyB,mBAAdA,EAAEqQ,WAED,KADVrQ,EAAIA,EAAEqQ,YACFrQ,MAAeA,GACjB,OAAO,EAGX,IAAU,IAANA,EACF,OAAO,EAET,IAAIpN,SAAcoN,EAClB,GAAa,WAATpN,EAAmB,CACrB,GAAIoN,GAAMA,GAAKA,IAAM6F,IACnB,OAAO,EAET,IAAI2M,EAAQ,EAAJxS,EACJwS,IAAMxS,IACRwS,GAAS,WAAJxS,GAEP,KAAOA,EAAI,YAETwS,GADAxS,GAAK,WAGP,OAAOsS,GAAIE,EACb,CACA,GAAa,WAAT5f,EACF,OAAOoN,EAAE1f,OAASmyB,GAA+BC,GAAiB1S,GAAK2S,GAAW3S,GAEpF,GAA0B,mBAAfA,EAAE4S,SACX,OAAO5S,EAAE4S,WAEX,GAAa,WAAThgB,EACF,OAAOigB,GAAU7S,GAEnB,GAA0B,mBAAfA,EAAExU,SACX,OAAOmnB,GAAW3S,EAAExU,YAEtB,MAAM,IAAIvL,MAAM,cAAgB2S,EAAO,qBACzC,CAEA,SAAS8f,GAAiBI,GACxB,IAAIhR,EAAOiR,GAAgBD,GAC3B,QAAapzB,IAAToiB,EAAoB,CACtBA,EAAO6Q,GAAWG,GAClB,GAAIE,KAA2BC,GAA4B,CACzDD,GAAyB,EACzBD,GAAkB,CAAC,CACrB,CACAC,KACAD,GAAgBD,GAAUhR,CAC5B,CACA,OAAOA,CACT,CAGA,SAAS6Q,GAAWG,GAQlB,IADA,IAAIhR,EAAO,EACFgI,EAAK,EAAGA,EAAKgJ,EAAOxyB,OAAQwpB,IACnChI,EAAO,GAAKA,EAAOgR,EAAOI,WAAWpJ,GAAM,EAE7C,OAAOwI,GAAIxQ,EACb,CAEA,SAAS+Q,GAAUljB,GACjB,IAAImS,EACJ,GAAIqR,SAEWzzB,KADboiB,EAAOsR,GAAQtzB,IAAI6P,IAEjB,OAAOmS,EAKX,QAAapiB,KADboiB,EAAOnS,EAAI0jB,KAET,OAAOvR,EAGT,IAAKwR,GAAmB,CAEtB,QAAa5zB,KADboiB,EAAOnS,EAAI4jB,sBAAwB5jB,EAAI4jB,qBAAqBF,KAE1D,OAAOvR,EAIT,QAAapiB,KADboiB,EAAO0R,GAAc7jB,IAEnB,OAAOmS,CAEX,CAEAA,IAAS2R,GACQ,WAAbA,KACFA,GAAa,GAGf,GAAIN,GACFC,GAAQ1yB,IAAIiP,EAAKmS,OACZ,SAAqBpiB,IAAjBg0B,KAAoD,IAAtBA,GAAa/jB,GACpD,MAAM,IAAI1P,MAAM,mDACX,GAAIqzB,GACTz1B,OAAO81B,eAAehkB,EAAK0jB,GAAc,CACvC,YAAc,EACd,cAAgB,EAChB,UAAY,EACZ,MAASvR,SAEN,QAAiCpiB,IAA7BiQ,EAAI4jB,sBACJ5jB,EAAI4jB,uBAAyB5jB,EAAIgD,YAAYhI,UAAU4oB,qBAAsB,CAKtF5jB,EAAI4jB,qBAAuB,WACzB,OAAO1rB,KAAK8K,YAAYhI,UAAU4oB,qBAAqBxnB,MAAMlE,KAAMlH,UACrE,EACAgP,EAAI4jB,qBAAqBF,IAAgBvR,CAC3C,KAAO,SAAqBpiB,IAAjBiQ,EAAIikB,SAOb,MAAM,IAAI3zB,MAAM,sDAFhB0P,EAAI0jB,IAAgBvR,CAGtB,EAEA,OAAOA,CACT,CAGA,IAAI4R,GAAe71B,OAAO61B,aAGtBJ,GAAqB,WACvB,IACEz1B,OAAO81B,eAAe,CAAC,EAAG,IAAK,CAAC,GAChC,OAAO,CACT,CAAE,MAAO90B,GACP,OAAO,CACT,CACF,CAPwB,GAWxB,SAAS20B,GAAcK,GACrB,GAAIA,GAAQA,EAAKD,SAAW,EAC1B,OAAQC,EAAKD,UACX,KAAK,EACH,OAAOC,EAAKC,SACd,KAAK,EACH,OAAOD,EAAKE,iBAAmBF,EAAKE,gBAAgBD,SAG5D,CAGA,IACIV,GADAD,GAAkC,mBAAZa,QAEtBb,KACFC,GAAU,IAAIY,SAGhB,IAAIP,GAAa,EAEbJ,GAAe,oBACG,mBAAXlI,SACTkI,GAAelI,OAAOkI,KAGxB,IAAIZ,GAA+B,GAC/BQ,GAA6B,IAC7BD,GAAyB,EACzBD,GAAkB,CAAC,EAEvB,SAASkB,GAAkBhK,GACzBmH,GACEnH,IAASpE,IACT,oDAEJ,CAEAsB,EAAY+M,GAAKjC,IAIf,SAASiC,GAAI7uB,GACX,OAAOA,QAAwC8uB,KAC7CC,GAAM/uB,KAAWqjB,EAAUrjB,GAASA,EACpC8uB,KAAWE,eAAc,SAASt2B,GAChC,IAAIisB,EAAOtC,EAAcriB,GACzB4uB,GAAkBjK,EAAKC,MACvBD,EAAKsK,SAAQ,SAAS5T,EAAG9F,GAAK,OAAO7c,EAAI2C,IAAIka,EAAG8F,EAAE,GACpD,GACJ,CAEAwT,GAAIrH,GAAK,WAAY,IAAI0H,EAAYrN,EAAQzb,KAAK9K,UAAW,GAC3D,OAAOwzB,KAAWE,eAAc,SAASt2B,GACvC,IAAK,IAAIsC,EAAI,EAAGA,EAAIk0B,EAAUj0B,OAAQD,GAAK,EAAG,CAC5C,GAAIA,EAAI,GAAKk0B,EAAUj0B,OACrB,MAAM,IAAIL,MAAM,0BAA4Bs0B,EAAUl0B,IAExDtC,EAAI2C,IAAI6zB,EAAUl0B,GAAIk0B,EAAUl0B,EAAI,GACtC,CACF,GACF,EAEA6zB,GAAIvpB,UAAUa,SAAW,WACvB,OAAO3D,KAAKilB,WAAW,QAAS,IAClC,EAIAoH,GAAIvpB,UAAU7K,IAAM,SAAS8a,EAAGyT,GAC9B,OAAOxmB,KAAK2sB,MACV3sB,KAAK2sB,MAAM10B,IAAI,OAAGJ,EAAWkb,EAAGyT,GAChCA,CACJ,EAIA6F,GAAIvpB,UAAUjK,IAAM,SAASka,EAAG8F,GAC9B,OAAO+T,GAAU5sB,KAAM+S,EAAG8F,EAC5B,EAEAwT,GAAIvpB,UAAU+pB,MAAQ,SAASC,EAASjU,GACtC,OAAO7Y,KAAK+sB,SAASD,EAASvL,GAAS,WAAa,OAAO1I,CAAC,GAC9D,EAEAwT,GAAIvpB,UAAUkqB,OAAS,SAASja,GAC9B,OAAO6Z,GAAU5sB,KAAM+S,EAAGwO,EAC5B,EAEA8K,GAAIvpB,UAAUmqB,SAAW,SAASH,GAChC,OAAO9sB,KAAK+sB,SAASD,GAAS,WAAa,OAAOvL,CAAO,GAC3D,EAEA8K,GAAIvpB,UAAUoqB,OAAS,SAASna,EAAGyT,EAAa2G,GAC9C,OAA4B,IAArBr0B,UAAUL,OACfsa,EAAE/S,MACFA,KAAK+sB,SAAS,CAACha,GAAIyT,EAAa2G,EACpC,EAEAd,GAAIvpB,UAAUiqB,SAAW,SAASD,EAAStG,EAAa2G,GACtD,IAAKA,EAAS,CACZA,EAAU3G,EACVA,OAAc3uB,CAChB,CACA,IAAIu1B,EAAeC,GACjBrtB,KACAstB,GAAcR,GACdtG,EACA2G,GAEF,OAAOC,IAAiB7L,OAAU1pB,EAAYu1B,CAChD,EAEAf,GAAIvpB,UAAUyqB,MAAQ,WACpB,GAAkB,IAAdvtB,KAAKoiB,KACP,OAAOpiB,KAET,GAAIA,KAAKwtB,UAAW,CAClBxtB,KAAKoiB,KAAO,EACZpiB,KAAK2sB,MAAQ,KACb3sB,KAAK2oB,YAAS9wB,EACdmI,KAAKytB,WAAY,EACjB,OAAOztB,IACT,CACA,OAAOssB,IACT,EAIAD,GAAIvpB,UAAU4qB,MAAQ,WACpB,OAAOC,GAAiB3tB,UAAMnI,EAAWiB,UAC3C,EAEAuzB,GAAIvpB,UAAU8qB,UAAY,SAASC,GACjC,OAAOF,GAAiB3tB,KAAM6tB,EADwBxO,EAAQzb,KAAK9K,UAAW,GAEhF,EAEAuzB,GAAIvpB,UAAUgrB,QAAU,SAAShB,GAAU,IAAIiB,EAAQ1O,EAAQzb,KAAK9K,UAAW,GAC7E,OAAOkH,KAAK+sB,SACVD,EACAR,MACA,SAASha,GAAK,MAA0B,mBAAZA,EAAEob,MAC5Bpb,EAAEob,MAAMxpB,MAAMoO,EAAGyb,GACjBA,EAAMA,EAAMt1B,OAAS,EAAE,GAE7B,EAEA4zB,GAAIvpB,UAAUkrB,UAAY,WACxB,OAAOL,GAAiB3tB,KAAMiuB,GAAYn1B,UAC5C,EAEAuzB,GAAIvpB,UAAUorB,cAAgB,SAASL,GAAS,IAAIE,EAAQ1O,EAAQzb,KAAK9K,UAAW,GAClF,OAAO60B,GAAiB3tB,KAAMmuB,GAAeN,GAASE,EACxD,EAEA1B,GAAIvpB,UAAUsrB,YAAc,SAAStB,GAAU,IAAIiB,EAAQ1O,EAAQzb,KAAK9K,UAAW,GACjF,OAAOkH,KAAK+sB,SACVD,EACAR,MACA,SAASha,GAAK,MAA8B,mBAAhBA,EAAE0b,UAC5B1b,EAAE0b,UAAU9pB,MAAMoO,EAAGyb,GACrBA,EAAMA,EAAMt1B,OAAS,EAAE,GAE7B,EAEA4zB,GAAIvpB,UAAUurB,KAAO,SAASC,GAE5B,OAAOC,GAAWC,GAAYxuB,KAAMsuB,GACtC,EAEAjC,GAAIvpB,UAAU2rB,OAAS,SAASC,EAAQJ,GAEtC,OAAOC,GAAWC,GAAYxuB,KAAMsuB,EAAYI,GAClD,EAIArC,GAAIvpB,UAAU0pB,cAAgB,SAAShe,GACrC,IAAImgB,EAAU3uB,KAAK4uB,YACnBpgB,EAAGmgB,GACH,OAAOA,EAAQE,aAAeF,EAAQG,cAAc9uB,KAAKwtB,WAAaxtB,IACxE,EAEAqsB,GAAIvpB,UAAU8rB,UAAY,WACxB,OAAO5uB,KAAKwtB,UAAYxtB,KAAOA,KAAK8uB,cAAc,IAAIjN,EACxD,EAEAwK,GAAIvpB,UAAUisB,YAAc,WAC1B,OAAO/uB,KAAK8uB,eACd,EAEAzC,GAAIvpB,UAAU+rB,WAAa,WACzB,OAAO7uB,KAAKytB,SACd,EAEApB,GAAIvpB,UAAU0iB,WAAa,SAASza,EAAMxS,GACxC,OAAO,IAAIy2B,GAAYhvB,KAAM+K,EAAMxS,EACrC,EAEA8zB,GAAIvpB,UAAUuf,UAAY,SAAS7T,EAAIjW,GAAU,IAAI8wB,EAASrpB,KACxD+mB,EAAa,EACjB/mB,KAAK2sB,OAAS3sB,KAAK2sB,MAAMsC,SAAQ,SAAS5Q,GACxC0I,IACA,OAAOvY,EAAG6P,EAAM,GAAIA,EAAM,GAAIgL,EAChC,GAAG9wB,GACH,OAAOwuB,CACT,EAEAsF,GAAIvpB,UAAUgsB,cAAgB,SAASI,GACrC,GAAIA,IAAYlvB,KAAKwtB,UACnB,OAAOxtB,KAET,IAAKkvB,EAAS,CACZlvB,KAAKwtB,UAAY0B,EACjBlvB,KAAKytB,WAAY,EACjB,OAAOztB,IACT,CACA,OAAOmvB,GAAQnvB,KAAKoiB,KAAMpiB,KAAK2sB,MAAOuC,EAASlvB,KAAK2oB,OACtD,EAGF,SAAS4D,GAAM6C,GACb,SAAUA,IAAYA,EAASC,IACjC,CAEAhD,GAAIE,MAAQA,GAEZ,IA2ZI+C,GA3ZAD,GAAkB,wBAElBE,GAAelD,GAAIvpB,UACvBysB,GAAaF,KAAmB,EAChCE,GAAapO,GAAUoO,GAAavC,OACpCuC,GAAaC,SAAWD,GAAatC,SAOnC,SAASwC,GAAaP,EAASj5B,GAC7B+J,KAAKkvB,QAAUA,EACflvB,KAAK/J,QAAUA,CACjB,CAEAw5B,GAAa3sB,UAAU7K,IAAM,SAASiQ,EAAOwnB,EAAS94B,EAAK4vB,GAEzD,IADA,IAAIvwB,EAAU+J,KAAK/J,QACVgsB,EAAK,EAAGhK,EAAMhiB,EAAQwC,OAAQwpB,EAAKhK,EAAKgK,IAC/C,GAAIoG,GAAGzxB,EAAKX,EAAQgsB,GAAI,IACtB,OAAOhsB,EAAQgsB,GAAI,GAGvB,OAAOuE,CACT,EAEAiJ,GAAa3sB,UAAUoqB,OAAS,SAASgC,EAAShnB,EAAOwnB,EAAS94B,EAAK4G,EAAOmyB,EAAeC,GAK3F,IAJA,IAAIC,EAAUryB,IAAU+jB,EAEpBtrB,EAAU+J,KAAK/J,QACf65B,EAAM,EACD7X,EAAMhiB,EAAQwC,OAAQq3B,EAAM7X,IAC/BoQ,GAAGzxB,EAAKX,EAAQ65B,GAAK,IADeA,KAK1C,IAAIC,EAASD,EAAM7X,EAEnB,GAAI8X,EAAS95B,EAAQ65B,GAAK,KAAOtyB,EAAQqyB,EACvC,OAAO7vB,KAGT4hB,EAAOgO,IACNC,IAAYE,IAAWnO,EAAO+N,GAE/B,IAAIE,GAA8B,IAAnB55B,EAAQwC,OAAvB,CAIA,IAAKs3B,IAAWF,GAAW55B,EAAQwC,QAAUu3B,GAC3C,OAAOC,GAAYf,EAASj5B,EAASW,EAAK4G,GAG5C,IAAI0yB,EAAahB,GAAWA,IAAYlvB,KAAKkvB,QACzCiB,EAAaD,EAAaj6B,EAAU6rB,EAAQ7rB,GAE5C85B,EACEF,EACFC,IAAQ7X,EAAM,EAAIkY,EAAWC,MAASD,EAAWL,GAAOK,EAAWC,MAEnED,EAAWL,GAAO,CAACl5B,EAAK4G,GAG1B2yB,EAAWjzB,KAAK,CAACtG,EAAK4G,IAGxB,GAAI0yB,EAAY,CACdlwB,KAAK/J,QAAUk6B,EACf,OAAOnwB,IACT,CAEA,OAAO,IAAIyvB,GAAaP,EAASiB,EAxBjC,CAyBF,EAKA,SAASE,GAAkBnB,EAASoB,EAAQC,GAC1CvwB,KAAKkvB,QAAUA,EACflvB,KAAKswB,OAASA,EACdtwB,KAAKuwB,MAAQA,CACf,CAEAF,GAAkBvtB,UAAU7K,IAAM,SAASiQ,EAAOwnB,EAAS94B,EAAK4vB,QAC9C3uB,IAAZ63B,IACFA,EAAUzV,GAAKrjB,IAEjB,IAAI45B,EAAO,KAAiB,IAAVtoB,EAAcwnB,EAAUA,IAAYxnB,GAASoZ,GAC3DgP,EAAStwB,KAAKswB,OAClB,OAA0B,IAAlBA,EAASE,GAAahK,EAC5BxmB,KAAKuwB,MAAME,GAASH,EAAUE,EAAM,IAAKv4B,IAAIiQ,EAAQkZ,EAAOsO,EAAS94B,EAAK4vB,EAC9E,EAEA6J,GAAkBvtB,UAAUoqB,OAAS,SAASgC,EAAShnB,EAAOwnB,EAAS94B,EAAK4G,EAAOmyB,EAAeC,QAChF/3B,IAAZ63B,IACFA,EAAUzV,GAAKrjB,IAEjB,IAAI85B,GAAyB,IAAVxoB,EAAcwnB,EAAUA,IAAYxnB,GAASoZ,EAC5DkP,EAAM,GAAKE,EACXJ,EAAStwB,KAAKswB,OACdP,EAA4B,IAAlBO,EAASE,GAEvB,IAAKT,GAAUvyB,IAAU+jB,EACvB,OAAOvhB,KAGT,IAAI8vB,EAAMW,GAASH,EAAUE,EAAM,GAC/BD,EAAQvwB,KAAKuwB,MACbvE,EAAO+D,EAASQ,EAAMT,QAAOj4B,EAC7B84B,EAAUC,GAAW5E,EAAMkD,EAAShnB,EAAQkZ,EAAOsO,EAAS94B,EAAK4G,EAAOmyB,EAAeC,GAE3F,GAAIe,IAAY3E,EACd,OAAOhsB,KAGT,IAAK+vB,GAAUY,GAAWJ,EAAM93B,QAAUo4B,GACxC,OAAOC,GAAY5B,EAASqB,EAAOD,EAAQI,EAAaC,GAG1D,GAAIZ,IAAWY,GAA4B,IAAjBJ,EAAM93B,QAAgBs4B,GAAWR,EAAY,EAANT,IAC/D,OAAOS,EAAY,EAANT,GAGf,GAAIC,GAAUY,GAA4B,IAAjBJ,EAAM93B,QAAgBs4B,GAAWJ,GACxD,OAAOA,EAGT,IAAIT,EAAahB,GAAWA,IAAYlvB,KAAKkvB,QACzC8B,EAAYjB,EAASY,EAAUL,EAASA,EAASE,EAAMF,EAASE,EAChES,EAAWlB,EAASY,EACtB9D,GAAM0D,EAAOT,EAAKa,EAAST,GAC3BgB,GAAUX,EAAOT,EAAKI,GACtBiB,GAASZ,EAAOT,EAAKa,EAAST,GAEhC,GAAIA,EAAY,CACdlwB,KAAKswB,OAASU,EACdhxB,KAAKuwB,MAAQU,EACb,OAAOjxB,IACT,CAEA,OAAO,IAAIqwB,GAAkBnB,EAAS8B,EAAWC,EACnD,EAKA,SAASG,GAAiBlC,EAASmC,EAAOd,GACxCvwB,KAAKkvB,QAAUA,EACflvB,KAAKqxB,MAAQA,EACbrxB,KAAKuwB,MAAQA,CACf,CAEAa,GAAiBtuB,UAAU7K,IAAM,SAASiQ,EAAOwnB,EAAS94B,EAAK4vB,QAC7C3uB,IAAZ63B,IACFA,EAAUzV,GAAKrjB,IAEjB,IAAIk5B,GAAiB,IAAV5nB,EAAcwnB,EAAUA,IAAYxnB,GAASoZ,EACpD0K,EAAOhsB,KAAKuwB,MAAMT,GACtB,OAAO9D,EAAOA,EAAK/zB,IAAIiQ,EAAQkZ,EAAOsO,EAAS94B,EAAK4vB,GAAeA,CACrE,EAEA4K,GAAiBtuB,UAAUoqB,OAAS,SAASgC,EAAShnB,EAAOwnB,EAAS94B,EAAK4G,EAAOmyB,EAAeC,QAC/E/3B,IAAZ63B,IACFA,EAAUzV,GAAKrjB,IAEjB,IAAIk5B,GAAiB,IAAV5nB,EAAcwnB,EAAUA,IAAYxnB,GAASoZ,EACpDuO,EAAUryB,IAAU+jB,EACpBgP,EAAQvwB,KAAKuwB,MACbvE,EAAOuE,EAAMT,GAEjB,GAAID,IAAY7D,EACd,OAAOhsB,KAGT,IAAI2wB,EAAUC,GAAW5E,EAAMkD,EAAShnB,EAAQkZ,EAAOsO,EAAS94B,EAAK4G,EAAOmyB,EAAeC,GAC3F,GAAIe,IAAY3E,EACd,OAAOhsB,KAGT,IAAIsxB,EAAWtxB,KAAKqxB,MACpB,GAAKrF,GAEE,IAAK2E,KACVW,EACeC,GACb,OAAOC,GAAUtC,EAASqB,EAAOe,EAAUxB,QAJ7CwB,IAQF,IAAIpB,EAAahB,GAAWA,IAAYlvB,KAAKkvB,QACzC+B,EAAWpE,GAAM0D,EAAOT,EAAKa,EAAST,GAE1C,GAAIA,EAAY,CACdlwB,KAAKqxB,MAAQC,EACbtxB,KAAKuwB,MAAQU,EACb,OAAOjxB,IACT,CAEA,OAAO,IAAIoxB,GAAiBlC,EAASoC,EAAUL,EACjD,EAKA,SAASQ,GAAkBvC,EAASQ,EAASz5B,GAC3C+J,KAAKkvB,QAAUA,EACflvB,KAAK0vB,QAAUA,EACf1vB,KAAK/J,QAAUA,CACjB,CAEAw7B,GAAkB3uB,UAAU7K,IAAM,SAASiQ,EAAOwnB,EAAS94B,EAAK4vB,GAE9D,IADA,IAAIvwB,EAAU+J,KAAK/J,QACVgsB,EAAK,EAAGhK,EAAMhiB,EAAQwC,OAAQwpB,EAAKhK,EAAKgK,IAC/C,GAAIoG,GAAGzxB,EAAKX,EAAQgsB,GAAI,IACtB,OAAOhsB,EAAQgsB,GAAI,GAGvB,OAAOuE,CACT,EAEAiL,GAAkB3uB,UAAUoqB,OAAS,SAASgC,EAAShnB,EAAOwnB,EAAS94B,EAAK4G,EAAOmyB,EAAeC,QAChF/3B,IAAZ63B,IACFA,EAAUzV,GAAKrjB,IAGjB,IAAIi5B,EAAUryB,IAAU+jB,EAExB,GAAImO,IAAY1vB,KAAK0vB,QAAS,CAC5B,GAAIG,EACF,OAAO7vB,KAET4hB,EAAOgO,GACPhO,EAAO+N,GACP,OAAO+B,GAAc1xB,KAAMkvB,EAAShnB,EAAOwnB,EAAS,CAAC94B,EAAK4G,GAC5D,CAIA,IAFA,IAAIvH,EAAU+J,KAAK/J,QACf65B,EAAM,EACD7X,EAAMhiB,EAAQwC,OAAQq3B,EAAM7X,IAC/BoQ,GAAGzxB,EAAKX,EAAQ65B,GAAK,IADeA,KAK1C,IAAIC,EAASD,EAAM7X,EAEnB,GAAI8X,EAAS95B,EAAQ65B,GAAK,KAAOtyB,EAAQqyB,EACvC,OAAO7vB,KAGT4hB,EAAOgO,IACNC,IAAYE,IAAWnO,EAAO+N,GAE/B,GAAIE,GAAmB,IAAR5X,EACb,OAAO,IAAI0Z,GAAUzC,EAASlvB,KAAK0vB,QAASz5B,EAAc,EAAN65B,IAGtD,IAAII,EAAahB,GAAWA,IAAYlvB,KAAKkvB,QACzCiB,EAAaD,EAAaj6B,EAAU6rB,EAAQ7rB,GAE5C85B,EACEF,EACFC,IAAQ7X,EAAM,EAAIkY,EAAWC,MAASD,EAAWL,GAAOK,EAAWC,MAEnED,EAAWL,GAAO,CAACl5B,EAAK4G,GAG1B2yB,EAAWjzB,KAAK,CAACtG,EAAK4G,IAGxB,GAAI0yB,EAAY,CACdlwB,KAAK/J,QAAUk6B,EACf,OAAOnwB,IACT,CAEA,OAAO,IAAIyxB,GAAkBvC,EAASlvB,KAAK0vB,QAASS,EACtD,EAKA,SAASwB,GAAUzC,EAASQ,EAASrR,GACnCre,KAAKkvB,QAAUA,EACflvB,KAAK0vB,QAAUA,EACf1vB,KAAKqe,MAAQA,CACf,CAEAsT,GAAU7uB,UAAU7K,IAAM,SAASiQ,EAAOwnB,EAAS94B,EAAK4vB,GACtD,OAAO6B,GAAGzxB,EAAKoJ,KAAKqe,MAAM,IAAMre,KAAKqe,MAAM,GAAKmI,CAClD,EAEAmL,GAAU7uB,UAAUoqB,OAAS,SAASgC,EAAShnB,EAAOwnB,EAAS94B,EAAK4G,EAAOmyB,EAAeC,GACxF,IAAIC,EAAUryB,IAAU+jB,EACpBqQ,EAAWvJ,GAAGzxB,EAAKoJ,KAAKqe,MAAM,IAClC,GAAIuT,EAAWp0B,IAAUwC,KAAKqe,MAAM,GAAKwR,EACvC,OAAO7vB,KAGT4hB,EAAOgO,GAEP,IAAIC,EAAJ,CAKA,GAAI+B,EAAU,CACZ,GAAI1C,GAAWA,IAAYlvB,KAAKkvB,QAAS,CACvClvB,KAAKqe,MAAM,GAAK7gB,EAChB,OAAOwC,IACT,CACA,OAAO,IAAI2xB,GAAUzC,EAASlvB,KAAK0vB,QAAS,CAAC94B,EAAK4G,GACpD,CAEAokB,EAAO+N,GACP,OAAO+B,GAAc1xB,KAAMkvB,EAAShnB,EAAO+R,GAAKrjB,GAAM,CAACA,EAAK4G,GAX5D,CAFEokB,EAAO+N,EAcX,EAMFF,GAAa3sB,UAAUmsB,QACvBwC,GAAkB3uB,UAAUmsB,QAAU,SAAUzgB,EAAIjW,GAElD,IADA,IAAItC,EAAU+J,KAAK/J,QACVgsB,EAAK,EAAGwE,EAAWxwB,EAAQwC,OAAS,EAAGwpB,GAAMwE,EAAUxE,IAC9D,IAAkD,IAA9CzT,EAAGvY,EAAQsC,EAAUkuB,EAAWxE,EAAKA,IACvC,OAAO,CAGb,EAEAoO,GAAkBvtB,UAAUmsB,QAC5BmC,GAAiBtuB,UAAUmsB,QAAU,SAAUzgB,EAAIjW,GAEjD,IADA,IAAIg4B,EAAQvwB,KAAKuwB,MACRtO,EAAK,EAAGwE,EAAW8J,EAAM93B,OAAS,EAAGwpB,GAAMwE,EAAUxE,IAAM,CAClE,IAAI+J,EAAOuE,EAAMh4B,EAAUkuB,EAAWxE,EAAKA,GAC3C,GAAI+J,IAAsC,IAA9BA,EAAKiD,QAAQzgB,EAAIjW,GAC3B,OAAO,CAEX,CACF,EAEAo5B,GAAU7uB,UAAUmsB,QAAU,SAAUzgB,EAAIjW,GAC1C,OAAOiW,EAAGxO,KAAKqe,MACjB,EAEAiB,EAAY0P,GAAatL,GAEvB,SAASsL,GAAY94B,EAAK6U,EAAMxS,GAC9ByH,KAAK6xB,MAAQ9mB,EACb/K,KAAK8xB,SAAWv5B,EAChByH,KAAK+xB,OAAS77B,EAAIy2B,OAASqF,GAAiB97B,EAAIy2B,MAClD,CAEAqC,GAAYlsB,UAAU6gB,KAAO,WAG3B,IAFA,IAAI5Y,EAAO/K,KAAK6xB,MACZ5qB,EAAQjH,KAAK+xB,OACV9qB,GAAO,CACZ,IAEIwf,EAFAuF,EAAO/kB,EAAM+kB,KACbxJ,EAAQvb,EAAMub,QAElB,GAAIwJ,EAAK3N,OACP,GAAc,IAAVmE,EACF,OAAOyP,GAAiBlnB,EAAMihB,EAAK3N,YAEhC,GAAI2N,EAAK/1B,SAEd,GAAIusB,IADJiE,EAAWuF,EAAK/1B,QAAQwC,OAAS,GAE/B,OAAOw5B,GAAiBlnB,EAAMihB,EAAK/1B,QAAQ+J,KAAK8xB,SAAWrL,EAAWjE,EAAQA,SAIhF,GAAIA,IADJiE,EAAWuF,EAAKuE,MAAM93B,OAAS,GACR,CACrB,IAAIy5B,EAAUlG,EAAKuE,MAAMvwB,KAAK8xB,SAAWrL,EAAWjE,EAAQA,GAC5D,GAAI0P,EAAS,CACX,GAAIA,EAAQ7T,MACV,OAAO4T,GAAiBlnB,EAAMmnB,EAAQ7T,OAExCpX,EAAQjH,KAAK+xB,OAASC,GAAiBE,EAASjrB,EAClD,CACA,QACF,CAEFA,EAAQjH,KAAK+xB,OAAS/xB,KAAK+xB,OAAOI,MACpC,CACA,OAAO/N,GACT,EAGF,SAAS6N,GAAiBlnB,EAAMsT,GAC9B,OAAO4F,EAAclZ,EAAMsT,EAAM,GAAIA,EAAM,GAC7C,CAEA,SAAS2T,GAAiBhG,EAAMoG,GAC9B,MAAO,CACLpG,KAAMA,EACNxJ,MAAO,EACP2P,OAAQC,EAEZ,CAEA,SAASjD,GAAQ/M,EAAMiQ,EAAMnD,EAASjV,GACpC,IAAI/jB,EAAMF,OAAOypB,OAAO8P,IACxBr5B,EAAIksB,KAAOA,EACXlsB,EAAIy2B,MAAQ0F,EACZn8B,EAAIs3B,UAAY0B,EAChBh5B,EAAIyyB,OAAS1O,EACb/jB,EAAIu3B,WAAY,EAChB,OAAOv3B,CACT,CAGA,SAASo2B,KACP,OAAOgD,KAAcA,GAAYH,GAAQ,GAC3C,CAEA,SAASvC,GAAU12B,EAAK6c,EAAG8F,GACzB,IAAIyZ,EACAC,EACJ,GAAKr8B,EAAIy2B,MAMF,CACL,IAAIgD,EAAgBjO,EAAQF,GACxBoO,EAAWlO,EAAQD,GACvB6Q,EAAU1B,GAAW16B,EAAIy2B,MAAOz2B,EAAIs3B,UAAW,OAAG31B,EAAWkb,EAAG8F,EAAG8W,EAAeC,GAClF,IAAKA,EAASpyB,MACZ,OAAOtH,EAETq8B,EAAUr8B,EAAIksB,MAAQuN,EAAcnyB,MAAQqb,IAAM0I,GAAW,EAAI,EAAI,EACvE,KAdgB,CACd,GAAI1I,IAAM0I,EACR,OAAOrrB,EAETq8B,EAAU,EACVD,EAAU,IAAI7C,GAAav5B,EAAIs3B,UAAW,CAAC,CAACza,EAAG8F,IACjD,CASA,GAAI3iB,EAAIs3B,UAAW,CACjBt3B,EAAIksB,KAAOmQ,EACXr8B,EAAIy2B,MAAQ2F,EACZp8B,EAAIyyB,YAAS9wB,EACb3B,EAAIu3B,WAAY,EAChB,OAAOv3B,CACT,CACA,OAAOo8B,EAAUnD,GAAQoD,EAASD,GAAWhG,IAC/C,CAEA,SAASsE,GAAW5E,EAAMkD,EAAShnB,EAAOwnB,EAAS94B,EAAK4G,EAAOmyB,EAAeC,GAC5E,IAAK5D,EAAM,CACT,GAAIxuB,IAAU+jB,EACZ,OAAOyK,EAETpK,EAAOgO,GACPhO,EAAO+N,GACP,OAAO,IAAIgC,GAAUzC,EAASQ,EAAS,CAAC94B,EAAK4G,GAC/C,CACA,OAAOwuB,EAAKkB,OAAOgC,EAAShnB,EAAOwnB,EAAS94B,EAAK4G,EAAOmyB,EAAeC,EACzE,CAEA,SAASmB,GAAW/E,GAClB,OAAOA,EAAKlhB,cAAgB6mB,IAAa3F,EAAKlhB,cAAgB2mB,EAChE,CAEA,SAASC,GAAc1F,EAAMkD,EAAShnB,EAAOwnB,EAASrR,GACpD,GAAI2N,EAAK0D,UAAYA,EACnB,OAAO,IAAI+B,GAAkBvC,EAASQ,EAAS,CAAC1D,EAAK3N,MAAOA,IAG9D,IAGIsS,EAHA6B,GAAkB,IAAVtqB,EAAc8jB,EAAK0D,QAAU1D,EAAK0D,UAAYxnB,GAASoZ,EAC/DmR,GAAkB,IAAVvqB,EAAcwnB,EAAUA,IAAYxnB,GAASoZ,EAOzD,OAAO,IAAI+O,GAAkBnB,EAAU,GAAKsD,EAAS,GAAKC,EAJ9CD,IAASC,EACnB,CAACf,GAAc1F,EAAMkD,EAAShnB,EAAQkZ,EAAOsO,EAASrR,KACpDsS,EAAU,IAAIgB,GAAUzC,EAASQ,EAASrR,GAASmU,EAAOC,EAAO,CAACzG,EAAM2E,GAAW,CAACA,EAAS3E,IAGnG,CAEA,SAASiE,GAAYf,EAASj5B,EAASW,EAAK4G,GACrC0xB,IACHA,EAAU,IAAIrN,GAGhB,IADA,IAAImK,EAAO,IAAI2F,GAAUzC,EAASjV,GAAKrjB,GAAM,CAACA,EAAK4G,IAC1CykB,EAAK,EAAGA,EAAKhsB,EAAQwC,OAAQwpB,IAAM,CAC1C,IAAI5D,EAAQpoB,EAAQgsB,GACpB+J,EAAOA,EAAKkB,OAAOgC,EAAS,OAAGr3B,EAAWwmB,EAAM,GAAIA,EAAM,GAC5D,CACA,OAAO2N,CACT,CAEA,SAASwF,GAAUtC,EAASqB,EAAOc,EAAOqB,GAIxC,IAHA,IAAIpC,EAAS,EACTqC,EAAW,EACXC,EAAc,IAAIlkB,MAAM2iB,GACnBpP,EAAK,EAAGuO,EAAM,EAAGvY,EAAMsY,EAAM93B,OAAQwpB,EAAKhK,EAAKgK,IAAMuO,IAAQ,EAAG,CACvE,IAAIxE,EAAOuE,EAAMtO,GACjB,QAAapqB,IAATm0B,GAAsB/J,IAAOyQ,EAAW,CAC1CpC,GAAUE,EACVoC,EAAYD,KAAc3G,CAC5B,CACF,CACA,OAAO,IAAIqE,GAAkBnB,EAASoB,EAAQsC,EAChD,CAEA,SAAS9B,GAAY5B,EAASqB,EAAOD,EAAQuC,EAAW7G,GAGtD,IAFA,IAAIqF,EAAQ,EACRyB,EAAgB,IAAIpkB,MAAM2S,GACrBY,EAAK,EAAc,IAAXqO,EAAcrO,IAAMqO,KAAY,EAC/CwC,EAAc7Q,GAAe,EAATqO,EAAaC,EAAMc,UAAWx5B,EAEpDi7B,EAAcD,GAAa7G,EAC3B,OAAO,IAAIoF,GAAiBlC,EAASmC,EAAQ,EAAGyB,EAClD,CAEA,SAASnF,GAAiBz3B,EAAK23B,EAAQkF,GAErC,IADA,IAAIhF,EAAQ,GACH9L,EAAK,EAAGA,EAAK8Q,EAAUt6B,OAAQwpB,IAAM,CAC5C,IAAIzkB,EAAQu1B,EAAU9Q,GAClBE,EAAOtC,EAAcriB,GACpBmiB,EAAWniB,KACd2kB,EAAOA,EAAKjsB,KAAI,SAAS2iB,GAAK,OAAO+O,GAAO/O,EAAE,KAEhDkV,EAAM7wB,KAAKilB,EACb,CACA,OAAO6Q,GAAwB98B,EAAK23B,EAAQE,EAC9C,CAEA,SAASE,GAAWgF,EAAUz1B,EAAO5G,GACnC,OAAOq8B,GAAYA,EAASjF,WAAarO,EAAWniB,GAClDy1B,EAASjF,UAAUxwB,GACnB6qB,GAAG4K,EAAUz1B,GAASy1B,EAAWz1B,CACrC,CAEA,SAAS2wB,GAAeN,GACtB,OAAO,SAASoF,EAAUz1B,EAAO5G,GAC/B,GAAIq8B,GAAYA,EAAS/E,eAAiBvO,EAAWniB,GACnD,OAAOy1B,EAAS/E,cAAcL,EAAQrwB,GAExC,IAAI01B,EAAYrF,EAAOoF,EAAUz1B,EAAO5G,GACxC,OAAOyxB,GAAG4K,EAAUC,GAAaD,EAAWC,CAC9C,CACF,CAEA,SAASF,GAAwBG,EAAYtF,EAAQE,GAEnD,OAAqB,KADrBA,EAAQA,EAAMqF,QAAO,SAASC,GAAK,OAAkB,IAAXA,EAAEjR,IAAU,KAC5C3pB,OACD06B,EAEe,IAApBA,EAAW/Q,MAAe+Q,EAAW3F,WAA8B,IAAjBO,EAAMt1B,OAGrD06B,EAAW3G,eAAc,SAAS2G,GAUvC,IATA,IAAIG,EAAezF,EACjB,SAASrwB,EAAO5G,GACdu8B,EAAWjG,OAAOt2B,EAAK2qB,GAAS,SAAS0R,GACtC,OAAOA,IAAa1R,EAAU/jB,EAAQqwB,EAAOoF,EAAUz1B,EAAO5G,EAAI,GAEvE,EACA,SAAS4G,EAAO5G,GACdu8B,EAAWt6B,IAAIjC,EAAK4G,EACtB,EACOykB,EAAK,EAAGA,EAAK8L,EAAMt1B,OAAQwpB,IAClC8L,EAAM9L,GAAIwK,QAAQ6G,EAEtB,IAfSH,EAAWroB,YAAYijB,EAAM,GAgBxC,CAEA,SAASV,GAAgB4F,EAAUM,EAAa/M,EAAa2G,GAC3D,IAAIqG,EAAWP,IAAa1R,EACxByF,EAAOuM,EAAY5P,OACvB,GAAIqD,EAAK7C,KAAM,CACb,IAAIsP,EAAgBD,EAAWhN,EAAcyM,EACzCS,EAAWvG,EAAQsG,GACvB,OAAOC,IAAaD,EAAgBR,EAAWS,CACjD,CACAnK,GACEiK,GAAaP,GAAYA,EAASp6B,IAClC,mBAEF,IAAIjC,EAAMowB,EAAKxpB,MACXm2B,EAAeH,EAAWjS,EAAU0R,EAASh7B,IAAIrB,EAAK2qB,GACtDqS,EAAcvG,GAChBsG,EACAJ,EACA/M,EACA2G,GAEF,OAAOyG,IAAgBD,EAAeV,EACpCW,IAAgBrS,EAAU0R,EAASjG,OAAOp2B,IACzC48B,EAAWlH,KAAa2G,GAAUp6B,IAAIjC,EAAKg9B,EAChD,CAEA,SAASnD,GAAS4C,GAGhBA,GADAA,GAAS,WADTA,GAAUA,GAAK,EAAK,cACKA,GAAK,EAAK,aACzBA,GAAK,GAAM,UACrBA,GAASA,GAAK,EAEd,OAAW,KADXA,GAASA,GAAK,GAEhB,CAEA,SAASxG,GAAMvG,EAAOwJ,EAAK71B,EAAK45B,GAC9B,IAAIC,EAAWD,EAAUvN,EAAQxE,EAAQwE,GACzCwN,EAAShE,GAAO71B,EAChB,OAAO65B,CACT,CAEA,SAAS3C,GAAS7K,EAAOwJ,EAAK71B,EAAK45B,GACjC,IAAIE,EAASzN,EAAM7tB,OAAS,EAC5B,GAAIo7B,GAAW/D,EAAM,IAAMiE,EAAQ,CACjCzN,EAAMwJ,GAAO71B,EACb,OAAOqsB,CACT,CAGA,IAFA,IAAIwN,EAAW,IAAIplB,MAAMqlB,GACrBC,EAAQ,EACH/R,EAAK,EAAGA,EAAK8R,EAAQ9R,IAC5B,GAAIA,IAAO6N,EAAK,CACdgE,EAAS7R,GAAMhoB,EACf+5B,GAAS,CACX,MACEF,EAAS7R,GAAMqE,EAAMrE,EAAK+R,GAG9B,OAAOF,CACT,CAEA,SAAS5C,GAAU5K,EAAOwJ,EAAK+D,GAC7B,IAAIE,EAASzN,EAAM7tB,OAAS,EAC5B,GAAIo7B,GAAW/D,IAAQiE,EAAQ,CAC7BzN,EAAM8J,MACN,OAAO9J,CACT,CAGA,IAFA,IAAIwN,EAAW,IAAIplB,MAAMqlB,GACrBC,EAAQ,EACH/R,EAAK,EAAGA,EAAK8R,EAAQ9R,IAAM,CAC9BA,IAAO6N,IACTkE,EAAQ,GAEVF,EAAS7R,GAAMqE,EAAMrE,EAAK+R,EAC5B,CACA,OAAOF,CACT,CAEA,IAAI9D,GAAqB3O,EAAO,EAC5BwP,GAA0BxP,EAAO,EACjCkQ,GAA0BlQ,EAAO,EAErC/B,EAAY2U,GAAM5J,IAIhB,SAAS4J,GAAKz2B,GACZ,IAAI02B,EAAQC,KACZ,GAAI32B,QACF,OAAO02B,EAET,GAAIE,GAAO52B,GACT,OAAOA,EAET,IAAI2kB,EAAOnC,EAAgBxiB,GACvB4kB,EAAOD,EAAKC,KAChB,GAAa,IAATA,EACF,OAAO8R,EAET9H,GAAkBhK,GAClB,OAAIA,EAAO,GAAKA,EAAOf,EACdgT,GAAS,EAAGjS,EAAMhB,EAAO,KAAM,IAAIkT,GAAMnS,EAAKmD,YAEhD4O,EAAM1H,eAAc,SAAS+H,GAClCA,EAAKC,QAAQpS,GACbD,EAAKsK,SAAQ,SAAS5T,EAAGrgB,GAAK,OAAO+7B,EAAK17B,IAAIL,EAAGqgB,EAAE,GACrD,GACF,CAEAob,GAAKjP,GAAK,WACR,OAAOhlB,KAAKlH,UACd,EAEAm7B,GAAKnxB,UAAUa,SAAW,WACxB,OAAO3D,KAAKilB,WAAW,SAAU,IACnC,EAIAgP,GAAKnxB,UAAU7K,IAAM,SAASuqB,EAAOgE,GAEnC,IADAhE,EAAQD,EAAUviB,KAAMwiB,KACX,GAAKA,EAAQxiB,KAAKoiB,KAAM,CAEnC,IAAI4J,EAAOyI,GAAYz0B,KADvBwiB,GAASxiB,KAAK00B,SAEd,OAAO1I,GAAQA,EAAK1F,MAAM9D,EAAQlB,EACpC,CACA,OAAOkF,CACT,EAIAyN,GAAKnxB,UAAUjK,IAAM,SAAS2pB,EAAOhlB,GACnC,OAAOm3B,GAAW30B,KAAMwiB,EAAOhlB,EACjC,EAEAy2B,GAAKnxB,UAAUkqB,OAAS,SAASxK,GAC/B,OAAQxiB,KAAKga,IAAIwI,GACL,IAAVA,EAAcxiB,KAAKkI,QACnBsa,IAAUxiB,KAAKoiB,KAAO,EAAIpiB,KAAKowB,MAC/BpwB,KAAKgb,OAAOwH,EAAO,GAHKxiB,IAI5B,EAEAi0B,GAAKnxB,UAAU8xB,OAAS,SAASpS,EAAOhlB,GACtC,OAAOwC,KAAKgb,OAAOwH,EAAO,EAAGhlB,EAC/B,EAEAy2B,GAAKnxB,UAAUyqB,MAAQ,WACrB,GAAkB,IAAdvtB,KAAKoiB,KACP,OAAOpiB,KAET,GAAIA,KAAKwtB,UAAW,CAClBxtB,KAAKoiB,KAAOpiB,KAAK00B,QAAU10B,KAAK60B,UAAY,EAC5C70B,KAAK80B,OAAS1T,EACdphB,KAAK2sB,MAAQ3sB,KAAK+0B,MAAQ,KAC1B/0B,KAAK2oB,YAAS9wB,EACdmI,KAAKytB,WAAY,EACjB,OAAOztB,IACT,CACA,OAAOm0B,IACT,EAEAF,GAAKnxB,UAAU5F,KAAO,WACpB,IAAIoW,EAASxa,UACTk8B,EAAUh1B,KAAKoiB,KACnB,OAAOpiB,KAAKwsB,eAAc,SAAS+H,GACjCU,GAAcV,EAAM,EAAGS,EAAU1hB,EAAO7a,QACxC,IAAK,IAAIwpB,EAAK,EAAGA,EAAK3O,EAAO7a,OAAQwpB,IACnCsS,EAAK17B,IAAIm8B,EAAU/S,EAAI3O,EAAO2O,GAElC,GACF,EAEAgS,GAAKnxB,UAAUstB,IAAM,WACnB,OAAO6E,GAAcj1B,KAAM,GAAI,EACjC,EAEAi0B,GAAKnxB,UAAU4Z,QAAU,WACvB,IAAIpJ,EAASxa,UACb,OAAOkH,KAAKwsB,eAAc,SAAS+H,GACjCU,GAAcV,GAAOjhB,EAAO7a,QAC5B,IAAK,IAAIwpB,EAAK,EAAGA,EAAK3O,EAAO7a,OAAQwpB,IACnCsS,EAAK17B,IAAIopB,EAAI3O,EAAO2O,GAExB,GACF,EAEAgS,GAAKnxB,UAAUoF,MAAQ,WACrB,OAAO+sB,GAAcj1B,KAAM,EAC7B,EAIAi0B,GAAKnxB,UAAU4qB,MAAQ,WACrB,OAAOwH,GAAkBl1B,UAAMnI,EAAWiB,UAC5C,EAEAm7B,GAAKnxB,UAAU8qB,UAAY,SAASC,GAClC,OAAOqH,GAAkBl1B,KAAM6tB,EADwBxO,EAAQzb,KAAK9K,UAAW,GAEjF,EAEAm7B,GAAKnxB,UAAUkrB,UAAY,WACzB,OAAOkH,GAAkBl1B,KAAMiuB,GAAYn1B,UAC7C,EAEAm7B,GAAKnxB,UAAUorB,cAAgB,SAASL,GAAS,IAAIE,EAAQ1O,EAAQzb,KAAK9K,UAAW,GACnF,OAAOo8B,GAAkBl1B,KAAMmuB,GAAeN,GAASE,EACzD,EAEAkG,GAAKnxB,UAAU0xB,QAAU,SAASpS,GAChC,OAAO6S,GAAcj1B,KAAM,EAAGoiB,EAChC,EAIA6R,GAAKnxB,UAAUuF,MAAQ,SAASua,EAAOC,GACrC,IAAIT,EAAOpiB,KAAKoiB,KAChB,OAAIO,EAAWC,EAAOC,EAAKT,GAClBpiB,KAEFi1B,GACLj1B,KACA8iB,EAAaF,EAAOR,GACpBY,EAAWH,EAAKT,GAEpB,EAEA6R,GAAKnxB,UAAU0iB,WAAa,SAASza,EAAMxS,GACzC,IAAIiqB,EAAQ,EACRlP,EAAS6hB,GAAYn1B,KAAMzH,GAC/B,OAAO,IAAImrB,GAAS,WAClB,IAAIlmB,EAAQ8V,IACZ,OAAO9V,IAAU43B,GACfhR,IACAH,EAAclZ,EAAMyX,IAAShlB,EACjC,GACF,EAEAy2B,GAAKnxB,UAAUuf,UAAY,SAAS7T,EAAIjW,GAItC,IAHA,IAEIiF,EAFAglB,EAAQ,EACRlP,EAAS6hB,GAAYn1B,KAAMzH,IAEvBiF,EAAQ8V,OAAc8hB,KACK,IAA7B5mB,EAAGhR,EAAOglB,IAASxiB,QAIzB,OAAOwiB,CACT,EAEAyR,GAAKnxB,UAAUgsB,cAAgB,SAASI,GACtC,GAAIA,IAAYlvB,KAAKwtB,UACnB,OAAOxtB,KAET,IAAKkvB,EAAS,CACZlvB,KAAKwtB,UAAY0B,EACjB,OAAOlvB,IACT,CACA,OAAOq0B,GAASr0B,KAAK00B,QAAS10B,KAAK60B,UAAW70B,KAAK80B,OAAQ90B,KAAK2sB,MAAO3sB,KAAK+0B,MAAO7F,EAASlvB,KAAK2oB,OACnG,EAGF,SAASyL,GAAOiB,GACd,SAAUA,IAAaA,EAAUC,IACnC,CAEArB,GAAKG,OAASA,GAEd,IAAIkB,GAAmB,yBAEnBC,GAAgBtB,GAAKnxB,UACzByyB,GAAcD,KAAoB,EAClCC,GAAcpU,GAAUoU,GAAcvI,OACtCuI,GAAc1I,MAAQ0C,GAAa1C,MACnC0I,GAActI,SACdsI,GAAc/F,SAAWD,GAAaC,SACtC+F,GAAcrI,OAASqC,GAAarC,OACpCqI,GAAcxI,SAAWwC,GAAaxC,SACtCwI,GAAczH,QAAUyB,GAAazB,QACrCyH,GAAcnH,YAAcmB,GAAanB,YACzCmH,GAAc/I,cAAgB+C,GAAa/C,cAC3C+I,GAAc3G,UAAYW,GAAaX,UACvC2G,GAAcxG,YAAcQ,GAAaR,YACzCwG,GAAc1G,WAAaU,GAAaV,WAItC,SAASyF,GAAMhO,EAAO4I,GACpBlvB,KAAKsmB,MAAQA,EACbtmB,KAAKkvB,QAAUA,CACjB,CAIAoF,GAAMxxB,UAAU0yB,aAAe,SAAStG,EAASjpB,EAAOuc,GACtD,GAAIA,IAAUvc,EAAQ,GAAKA,EAAmC,IAAtBjG,KAAKsmB,MAAM7tB,OACjD,OAAOuH,KAET,IAAIy1B,EAAejT,IAAUvc,EAASqb,EACtC,GAAImU,GAAez1B,KAAKsmB,MAAM7tB,OAC5B,OAAO,IAAI67B,GAAM,GAAIpF,GAEvB,IACIwG,EADAC,EAAgC,IAAhBF,EAEpB,GAAIxvB,EAAQ,EAAG,CACb,IAAI2vB,EAAW51B,KAAKsmB,MAAMmP,GAE1B,IADAC,EAAWE,GAAYA,EAASJ,aAAatG,EAASjpB,EAAQmb,EAAOoB,MACpDoT,GAAYD,EAC3B,OAAO31B,IAEX,CACA,GAAI21B,IAAkBD,EACpB,OAAO11B,KAET,IAAI61B,EAAWC,GAAc91B,KAAMkvB,GACnC,IAAKyG,EACH,IAAK,IAAI1T,EAAK,EAAGA,EAAKwT,EAAaxT,IACjC4T,EAASvP,MAAMrE,QAAMpqB,EAGrB69B,IACFG,EAASvP,MAAMmP,GAAeC,GAEhC,OAAOG,CACT,EAEAvB,GAAMxxB,UAAUizB,YAAc,SAAS7G,EAASjpB,EAAOuc,GACrD,GAAIA,KAAWvc,EAAQ,GAAKA,EAAQ,IAA4B,IAAtBjG,KAAKsmB,MAAM7tB,OACnD,OAAOuH,KAET,IAKI01B,EALAM,EAAcxT,EAAQ,IAAOvc,EAASqb,EAC1C,GAAI0U,GAAah2B,KAAKsmB,MAAM7tB,OAC1B,OAAOuH,KAIT,GAAIiG,EAAQ,EAAG,CACb,IAAI2vB,EAAW51B,KAAKsmB,MAAM0P,GAE1B,IADAN,EAAWE,GAAYA,EAASG,YAAY7G,EAASjpB,EAAQmb,EAAOoB,MACnDoT,GAAYI,IAAch2B,KAAKsmB,MAAM7tB,OAAS,EAC7D,OAAOuH,IAEX,CAEA,IAAI61B,EAAWC,GAAc91B,KAAMkvB,GACnC2G,EAASvP,MAAMtL,OAAOgb,EAAY,GAC9BN,IACFG,EAASvP,MAAM0P,GAAaN,GAE9B,OAAOG,CACT,EAIF,IA2EII,GAiWAC,GA5aAd,GAAO,CAAC,EAEZ,SAASD,GAAYZ,EAAMh8B,GACzB,IAAI49B,EAAO5B,EAAKG,QACZ0B,EAAQ7B,EAAKM,UACbwB,EAAUC,GAAcF,GACxBG,EAAOhC,EAAKQ,MAEhB,OAAOyB,EAAkBjC,EAAK5H,MAAO4H,EAAKO,OAAQ,GAElD,SAAS0B,EAAkBxK,EAAM/lB,EAAO8b,GACtC,OAAiB,IAAV9b,EACLwwB,EAAYzK,EAAMjK,GAClB2U,EAAY1K,EAAM/lB,EAAO8b,EAC7B,CAEA,SAAS0U,EAAYzK,EAAMjK,GACzB,IAAIuE,EAAQvE,IAAWsU,EAAUE,GAAQA,EAAKjQ,MAAQ0F,GAAQA,EAAK1F,MAC/DzY,EAAOkU,EAASoU,EAAO,EAAIA,EAAOpU,EAClCjU,EAAKsoB,EAAQrU,EACbjU,EAAKuT,IACPvT,EAAKuT,GAEP,OAAO,WACL,GAAIxT,IAASC,EACX,OAAOsnB,GAET,IAAItF,EAAMv3B,IAAYuV,EAAKD,IAC3B,OAAOyY,GAASA,EAAMwJ,EACxB,CACF,CAEA,SAAS4G,EAAY1K,EAAM/lB,EAAO8b,GAChC,IAAIzO,EACAgT,EAAQ0F,GAAQA,EAAK1F,MACrBzY,EAAOkU,EAASoU,EAAO,EAAKA,EAAOpU,GAAW9b,EAC9C6H,EAAmC,GAA5BsoB,EAAQrU,GAAW9b,GAC1B6H,EAAKuT,IACPvT,EAAKuT,GAEP,OAAO,WACL,OAAG,CACD,GAAI/N,EAAQ,CACV,IAAI9V,EAAQ8V,IACZ,GAAI9V,IAAU43B,GACZ,OAAO53B,EAET8V,EAAS,IACX,CACA,GAAIzF,IAASC,EACX,OAAOsnB,GAET,IAAItF,EAAMv3B,IAAYuV,EAAKD,IAC3ByF,EAASkjB,EACPlQ,GAASA,EAAMwJ,GAAM7pB,EAAQmb,EAAOW,GAAU+N,GAAO7pB,GAEzD,CACF,CACF,CACF,CAEA,SAASouB,GAASsC,EAAQC,EAAU3wB,EAAOosB,EAAMkE,EAAMrH,EAASjV,GAC9D,IAAIsa,EAAOv+B,OAAOypB,OAAO8V,IACzBhB,EAAKnS,KAAOwU,EAAWD,EACvBpC,EAAKG,QAAUiC,EACfpC,EAAKM,UAAY+B,EACjBrC,EAAKO,OAAS7uB,EACdsuB,EAAK5H,MAAQ0F,EACbkC,EAAKQ,MAAQwB,EACbhC,EAAK/G,UAAY0B,EACjBqF,EAAK5L,OAAS1O,EACdsa,EAAK9G,WAAY,EACjB,OAAO8G,CACT,CAGA,SAASJ,KACP,OAAO8B,KAAeA,GAAa5B,GAAS,EAAG,EAAGjT,GACpD,CAEA,SAASuT,GAAWJ,EAAM/R,EAAOhlB,GAG/B,IAFAglB,EAAQD,EAAUgS,EAAM/R,KAEVA,EACZ,OAAO+R,EAGT,GAAI/R,GAAS+R,EAAKnS,MAAQI,EAAQ,EAChC,OAAO+R,EAAK/H,eAAc,SAAS+H,GACjC/R,EAAQ,EACNyS,GAAcV,EAAM/R,GAAO3pB,IAAI,EAAG2E,GAClCy3B,GAAcV,EAAM,EAAG/R,EAAQ,GAAG3pB,IAAI2pB,EAAOhlB,EACjD,IAGFglB,GAAS+R,EAAKG,QAEd,IAAImC,EAAUtC,EAAKQ,MACfzC,EAAUiC,EAAK5H,MACfiD,EAAWlO,EAAQD,GACnBe,GAAS8T,GAAc/B,EAAKM,WAC9BgC,EAAUC,GAAYD,EAAStC,EAAK/G,UAAW,EAAGhL,EAAOhlB,EAAOoyB,GAEhE0C,EAAUwE,GAAYxE,EAASiC,EAAK/G,UAAW+G,EAAKO,OAAQtS,EAAOhlB,EAAOoyB,GAG5E,IAAKA,EAASpyB,MACZ,OAAO+2B,EAGT,GAAIA,EAAK/G,UAAW,CAClB+G,EAAK5H,MAAQ2F,EACbiC,EAAKQ,MAAQ8B,EACbtC,EAAK5L,YAAS9wB,EACd08B,EAAK9G,WAAY,EACjB,OAAO8G,CACT,CACA,OAAOF,GAASE,EAAKG,QAASH,EAAKM,UAAWN,EAAKO,OAAQxC,EAASuE,EACtE,CAEA,SAASC,GAAY9K,EAAMkD,EAASjpB,EAAOuc,EAAOhlB,EAAOoyB,GACvD,IAMIe,EANAb,EAAOtN,IAAUvc,EAASqb,EAC1ByV,EAAU/K,GAAQ8D,EAAM9D,EAAK1F,MAAM7tB,OACvC,IAAKs+B,QAAqBl/B,IAAV2F,EACd,OAAOwuB,EAKT,GAAI/lB,EAAQ,EAAG,CACb,IAAI+wB,EAAYhL,GAAQA,EAAK1F,MAAMwJ,GAC/BmH,EAAeH,GAAYE,EAAW9H,EAASjpB,EAAQmb,EAAOoB,EAAOhlB,EAAOoyB,GAChF,GAAIqH,IAAiBD,EACnB,OAAOhL,GAET2E,EAAUmF,GAAc9J,EAAMkD,IACtB5I,MAAMwJ,GAAOmH,EACrB,OAAOtG,CACT,CAEA,GAAIoG,GAAW/K,EAAK1F,MAAMwJ,KAAStyB,EACjC,OAAOwuB,EAGTpK,EAAOgO,GAEPe,EAAUmF,GAAc9J,EAAMkD,QAChBr3B,IAAV2F,GAAuBsyB,IAAQa,EAAQrK,MAAM7tB,OAAS,EACxDk4B,EAAQrK,MAAM8J,MAEdO,EAAQrK,MAAMwJ,GAAOtyB,EAEvB,OAAOmzB,CACT,CAEA,SAASmF,GAAc9J,EAAMkD,GAC3B,OAAIA,GAAWlD,GAAQkD,IAAYlD,EAAKkD,QAC/BlD,EAEF,IAAIsI,GAAMtI,EAAOA,EAAK1F,MAAMje,QAAU,GAAI6mB,EACnD,CAEA,SAASuF,GAAYF,EAAM2C,GACzB,GAAIA,GAAYZ,GAAc/B,EAAKM,WACjC,OAAON,EAAKQ,MAEd,GAAImC,EAAW,GAAM3C,EAAKO,OAAS1T,EAAQ,CAGzC,IAFA,IAAI4K,EAAOuI,EAAK5H,MACZ1mB,EAAQsuB,EAAKO,OACV9I,GAAQ/lB,EAAQ,GAAG,CACxB+lB,EAAOA,EAAK1F,MAAO4Q,IAAajxB,EAASqb,GACzCrb,GAASmb,CACX,CACA,OAAO4K,CACT,CACF,CAEA,SAASiJ,GAAcV,EAAM3R,EAAOC,QAGpBhrB,IAAV+qB,IACFA,GAAgB,QAEN/qB,IAARgrB,IACFA,GAAY,GAEd,IAAIsU,EAAQ5C,EAAK/G,WAAa,IAAI3L,EAC9BuV,EAAY7C,EAAKG,QACjB2C,EAAc9C,EAAKM,UACnByC,EAAYF,EAAYxU,EACxB2U,OAAsB1/B,IAARgrB,EAAoBwU,EAAcxU,EAAM,EAAIwU,EAAcxU,EAAMuU,EAAYvU,EAC9F,GAAIyU,IAAcF,GAAaG,IAAgBF,EAC7C,OAAO9C,EAIT,GAAI+C,GAAaC,EACf,OAAOhD,EAAKhH,QAQd,IALA,IAAIiK,EAAWjD,EAAKO,OAChBxC,EAAUiC,EAAK5H,MAGf8K,EAAc,EACXH,EAAYG,EAAc,GAAG,CAClCnF,EAAU,IAAIgC,GAAMhC,GAAWA,EAAQhM,MAAM7tB,OAAS,MAACZ,EAAWy6B,GAAW,GAAI6E,GAEjFM,GAAe,IADfD,GAAYpW,EAEd,CACA,GAAIqW,EAAa,CACfH,GAAaG,EACbL,GAAaK,EACbF,GAAeE,EACfJ,GAAeI,CACjB,CAMA,IAJA,IAAIC,EAAgBpB,GAAce,GAC9BM,EAAgBrB,GAAciB,GAG3BI,GAAiB,GAAMH,EAAWpW,GAAQ,CAC/CkR,EAAU,IAAIgC,GAAMhC,GAAWA,EAAQhM,MAAM7tB,OAAS,CAAC65B,GAAW,GAAI6E,GACtEK,GAAYpW,CACd,CAGA,IAAIwW,EAAUrD,EAAKQ,MACf8B,EAAUc,EAAgBD,EAC5BjD,GAAYF,EAAMgD,EAAc,GAChCI,EAAgBD,EAAgB,IAAIpD,GAAM,GAAI6C,GAASS,EAGzD,GAAIA,GAAWD,EAAgBD,GAAiBJ,EAAYD,GAAeO,EAAQtR,MAAM7tB,OAAQ,CAG/F,IADA,IAAIuzB,EADJsG,EAAUwD,GAAcxD,EAAS6E,GAExBlxB,EAAQuxB,EAAUvxB,EAAQmb,EAAOnb,GAASmb,EAAO,CACxD,IAAI0O,EAAO4H,IAAkBzxB,EAASqb,EACtC0K,EAAOA,EAAK1F,MAAMwJ,GAAOgG,GAAc9J,EAAK1F,MAAMwJ,GAAMqH,EAC1D,CACAnL,EAAK1F,MAAOoR,IAAkBtW,EAASE,GAAQsW,CACjD,CAGIL,EAAcF,IAChBR,EAAUA,GAAWA,EAAQd,YAAYoB,EAAO,EAAGI,IAIrD,GAAID,GAAaK,EAAe,CAC9BL,GAAaK,EACbJ,GAAeI,EACfH,EAAWpW,EACXkR,EAAU,KACVuE,EAAUA,GAAWA,EAAQrB,aAAa2B,EAAO,EAAGG,EAGtD,MAAO,GAAIA,EAAYF,GAAaO,EAAgBD,EAAe,CACjED,EAAc,EAGd,KAAOnF,GAAS,CACd,IAAIuF,EAAcP,IAAcE,EAAYlW,EAC5C,GAAIuW,IAAgBF,IAAkBH,EAAYlW,EAChD,MAEEuW,IACFJ,IAAgB,GAAKD,GAAYK,GAEnCL,GAAYpW,EACZkR,EAAUA,EAAQhM,MAAMuR,EAC1B,CAGIvF,GAAWgF,EAAYF,IACzB9E,EAAUA,EAAQkD,aAAa2B,EAAOK,EAAUF,EAAYG,IAE1DnF,GAAWqF,EAAgBD,IAC7BpF,EAAUA,EAAQyD,YAAYoB,EAAOK,EAAUG,EAAgBF,IAEjE,GAAIA,EAAa,CACfH,GAAaG,EACbF,GAAeE,CACjB,CACF,CAEA,GAAIlD,EAAK/G,UAAW,CAClB+G,EAAKnS,KAAOmV,EAAcD,EAC1B/C,EAAKG,QAAU4C,EACf/C,EAAKM,UAAY0C,EACjBhD,EAAKO,OAAS0C,EACdjD,EAAK5H,MAAQ2F,EACbiC,EAAKQ,MAAQ8B,EACbtC,EAAK5L,YAAS9wB,EACd08B,EAAK9G,WAAY,EACjB,OAAO8G,CACT,CACA,OAAOF,GAASiD,EAAWC,EAAaC,EAAUlF,EAASuE,EAC7D,CAEA,SAAS3B,GAAkBX,EAAM1G,EAAQkF,GAGvC,IAFA,IAAIhF,EAAQ,GACR+J,EAAU,EACL7V,EAAK,EAAGA,EAAK8Q,EAAUt6B,OAAQwpB,IAAM,CAC5C,IAAIzkB,EAAQu1B,EAAU9Q,GAClBE,EAAOnC,EAAgBxiB,GACvB2kB,EAAKC,KAAO0V,IACdA,EAAU3V,EAAKC,MAEZzC,EAAWniB,KACd2kB,EAAOA,EAAKjsB,KAAI,SAAS2iB,GAAK,OAAO+O,GAAO/O,EAAE,KAEhDkV,EAAM7wB,KAAKilB,EACb,CACI2V,EAAUvD,EAAKnS,OACjBmS,EAAOA,EAAKC,QAAQsD,IAEtB,OAAO9E,GAAwBuB,EAAM1G,EAAQE,EAC/C,CAEA,SAASuI,GAAclU,GACrB,OAAOA,EAAOf,EAAO,EAAOe,EAAO,IAAOhB,GAAUA,CACtD,CAEA9B,EAAYiP,GAAYlC,IAItB,SAASkC,GAAW/wB,GAClB,OAAOA,QAAwCu6B,KAC7CC,GAAax6B,GAASA,EACtBu6B,KAAkBvL,eAAc,SAASt2B,GACvC,IAAIisB,EAAOtC,EAAcriB,GACzB4uB,GAAkBjK,EAAKC,MACvBD,EAAKsK,SAAQ,SAAS5T,EAAG9F,GAAK,OAAO7c,EAAI2C,IAAIka,EAAG8F,EAAE,GACpD,GACJ,CAEA0V,GAAWvJ,GAAK,WACd,OAAOhlB,KAAKlH,UACd,EAEAy1B,GAAWzrB,UAAUa,SAAW,WAC9B,OAAO3D,KAAKilB,WAAW,eAAgB,IACzC,EAIAsJ,GAAWzrB,UAAU7K,IAAM,SAAS8a,EAAGyT,GACrC,IAAIhE,EAAQxiB,KAAKi4B,KAAKhgC,IAAI8a,GAC1B,YAAiBlb,IAAV2qB,EAAsBxiB,KAAKk4B,MAAMjgC,IAAIuqB,GAAO,GAAKgE,CAC1D,EAIA+H,GAAWzrB,UAAUyqB,MAAQ,WAC3B,GAAkB,IAAdvtB,KAAKoiB,KACP,OAAOpiB,KAET,GAAIA,KAAKwtB,UAAW,CAClBxtB,KAAKoiB,KAAO,EACZpiB,KAAKi4B,KAAK1K,QACVvtB,KAAKk4B,MAAM3K,QACX,OAAOvtB,IACT,CACA,OAAO+3B,IACT,EAEAxJ,GAAWzrB,UAAUjK,IAAM,SAASka,EAAG8F,GACrC,OAAOsf,GAAiBn4B,KAAM+S,EAAG8F,EACnC,EAEA0V,GAAWzrB,UAAUkqB,OAAS,SAASja,GACrC,OAAOolB,GAAiBn4B,KAAM+S,EAAGwO,EACnC,EAEAgN,GAAWzrB,UAAU+rB,WAAa,WAChC,OAAO7uB,KAAKi4B,KAAKpJ,cAAgB7uB,KAAKk4B,MAAMrJ,YAC9C,EAEAN,GAAWzrB,UAAUuf,UAAY,SAAS7T,EAAIjW,GAAU,IAAI8wB,EAASrpB,KACnE,OAAOA,KAAKk4B,MAAM7V,WAChB,SAAShE,GAAS,OAAOA,GAAS7P,EAAG6P,EAAM,GAAIA,EAAM,GAAIgL,EAAO,GAChE9wB,EAEJ,EAEAg2B,GAAWzrB,UAAU0iB,WAAa,SAASza,EAAMxS,GAC/C,OAAOyH,KAAKk4B,MAAMvS,eAAeH,WAAWza,EAAMxS,EACpD,EAEAg2B,GAAWzrB,UAAUgsB,cAAgB,SAASI,GAC5C,GAAIA,IAAYlvB,KAAKwtB,UACnB,OAAOxtB,KAET,IAAIo4B,EAASp4B,KAAKi4B,KAAKnJ,cAAcI,GACjCmJ,EAAUr4B,KAAKk4B,MAAMpJ,cAAcI,GACvC,IAAKA,EAAS,CACZlvB,KAAKwtB,UAAY0B,EACjBlvB,KAAKi4B,KAAOG,EACZp4B,KAAKk4B,MAAQG,EACb,OAAOr4B,IACT,CACA,OAAOs4B,GAAeF,EAAQC,EAASnJ,EAASlvB,KAAK2oB,OACvD,EAGF,SAASqP,GAAaO,GACpB,OAAOhM,GAAMgM,IAAoB1X,EAAU0X,EAC7C,CAEAhK,GAAWyJ,aAAeA,GAE1BzJ,GAAWzrB,UAAUie,IAAuB,EAC5CwN,GAAWzrB,UAAUqe,GAAUoN,GAAWzrB,UAAUkqB,OAIpD,SAASsL,GAAepiC,EAAKq+B,EAAMrF,EAASjV,GAC1C,IAAIue,EAAOxiC,OAAOypB,OAAO8O,GAAWzrB,WACpC01B,EAAKpW,KAAOlsB,EAAMA,EAAIksB,KAAO,EAC7BoW,EAAKP,KAAO/hC,EACZsiC,EAAKN,MAAQ3D,EACbiE,EAAKhL,UAAY0B,EACjBsJ,EAAK7P,OAAS1O,EACd,OAAOue,CACT,CAGA,SAAST,KACP,OAAO7B,KAAsBA,GAAoBoC,GAAehM,KAAY6H,MAC9E,CAEA,SAASgE,GAAiBK,EAAMzlB,EAAG8F,GACjC,IAIIuf,EACAC,EALAniC,EAAMsiC,EAAKP,KACX1D,EAAOiE,EAAKN,MACZ1/B,EAAItC,EAAI+B,IAAI8a,GACZiH,OAAYniB,IAANW,EAGV,GAAIqgB,IAAM0I,EAAS,CACjB,IAAKvH,EACH,OAAOwe,EAET,GAAIjE,EAAKnS,MAAQf,GAAQkT,EAAKnS,MAAmB,EAAXlsB,EAAIksB,KAAU,CAElDgW,GADAC,EAAU9D,EAAKnB,QAAO,SAAS/U,EAAOyR,GAAO,YAAiBj4B,IAAVwmB,GAAuB7lB,IAAMs3B,CAAG,KACnEpK,aAAaxvB,KAAI,SAASmoB,GAAS,OAAOA,EAAM,EAAE,IAAGoa,OAAOrQ,QACzEoQ,EAAKhL,YACP4K,EAAO5K,UAAY6K,EAAQ7K,UAAYgL,EAAKhL,UAEhD,KAAO,CACL4K,EAASliC,EAAI82B,OAAOja,GACpBslB,EAAU7/B,IAAM+7B,EAAKnS,KAAO,EAAImS,EAAKnE,MAAQmE,EAAK17B,IAAIL,OAAGX,EAC3D,CACF,MACE,GAAImiB,EAAK,CACP,GAAInB,IAAM0b,EAAKt8B,IAAIO,GAAG,GACpB,OAAOggC,EAETJ,EAASliC,EACTmiC,EAAU9D,EAAK17B,IAAIL,EAAG,CAACua,EAAG8F,GAC5B,KAAO,CACLuf,EAASliC,EAAI2C,IAAIka,EAAGwhB,EAAKnS,MACzBiW,EAAU9D,EAAK17B,IAAI07B,EAAKnS,KAAM,CAACrP,EAAG8F,GACpC,CAEF,GAAI2f,EAAKhL,UAAW,CAClBgL,EAAKpW,KAAOgW,EAAOhW,KACnBoW,EAAKP,KAAOG,EACZI,EAAKN,MAAQG,EACbG,EAAK7P,YAAS9wB,EACd,OAAO2gC,CACT,CACA,OAAOF,GAAeF,EAAQC,EAChC,CAEA/Y,EAAYoZ,GAAiB3Y,GAC3B,SAAS2Y,GAAgBC,EAAShR,GAChC3nB,KAAK44B,MAAQD,EACb34B,KAAK64B,SAAWlR,EAChB3nB,KAAKoiB,KAAOuW,EAAQvW,IACtB,CAEAsW,GAAgB51B,UAAU7K,IAAM,SAASrB,EAAK4vB,GAC5C,OAAOxmB,KAAK44B,MAAM3gC,IAAIrB,EAAK4vB,EAC7B,EAEAkS,GAAgB51B,UAAUkX,IAAM,SAASpjB,GACvC,OAAOoJ,KAAK44B,MAAM5e,IAAIpjB,EACxB,EAEA8hC,GAAgB51B,UAAUg2B,SAAW,WACnC,OAAO94B,KAAK44B,MAAME,UACpB,EAEAJ,GAAgB51B,UAAUvK,QAAU,WAAY,IAAI8wB,EAASrpB,KACvD+4B,EAAmBC,GAAeh5B,MAAM,GACvCA,KAAK64B,WACRE,EAAiBD,SAAW,WAAa,OAAOzP,EAAOuP,MAAM9T,QAAQvsB,SAAS,GAEhF,OAAOwgC,CACT,EAEAL,GAAgB51B,UAAU5M,IAAM,SAASw4B,EAAQ1zB,GAAU,IAAIquB,EAASrpB,KAClEi5B,EAAiBC,GAAWl5B,KAAM0uB,EAAQ1zB,GACzCgF,KAAK64B,WACRI,EAAeH,SAAW,WAAa,OAAOzP,EAAOuP,MAAM9T,QAAQ5uB,IAAIw4B,EAAQ1zB,EAAQ,GAEzF,OAAOi+B,CACT,EAEAP,GAAgB51B,UAAUuf,UAAY,SAAS7T,EAAIjW,GAAU,IACvD0pB,EAD2DoH,EAASrpB,KAExE,OAAOA,KAAK44B,MAAMvW,UAChBriB,KAAK64B,SACH,SAAShgB,EAAG9F,GAAK,OAAOvE,EAAGqK,EAAG9F,EAAGsW,EAAO,GACtCpH,EAAK1pB,EAAU4gC,GAAYn5B,MAAQ,EACnC,SAAS6Y,GAAK,OAAOrK,EAAGqK,EAAGtgB,IAAY0pB,EAAKA,IAAMoH,EAAO,GAC7D9wB,EAEJ,EAEAmgC,GAAgB51B,UAAU0iB,WAAa,SAASza,EAAMxS,GACpD,GAAIyH,KAAK64B,SACP,OAAO74B,KAAK44B,MAAMpT,WAAWza,EAAMxS,GAErC,IAAIgrB,EAAWvjB,KAAK44B,MAAMpT,WAAWrC,EAAgB5qB,GACjD0pB,EAAK1pB,EAAU4gC,GAAYn5B,MAAQ,EACvC,OAAO,IAAI0jB,GAAS,WAClB,IAAIsD,EAAOzD,EAASI,OACpB,OAAOqD,EAAK7C,KAAO6C,EACjB/C,EAAclZ,EAAMxS,IAAY0pB,EAAKA,IAAM+E,EAAKxpB,MAAOwpB,EAC3D,GACF,EAEF0R,GAAgB51B,UAAUie,IAAuB,EAGjDzB,EAAY8Z,GAAmBlZ,GAC7B,SAASkZ,GAAkBjX,GACzBniB,KAAK44B,MAAQzW,EACbniB,KAAKoiB,KAAOD,EAAKC,IACnB,CAEAgX,GAAkBt2B,UAAU4H,SAAW,SAASlN,GAC9C,OAAOwC,KAAK44B,MAAMluB,SAASlN,EAC7B,EAEA47B,GAAkBt2B,UAAUuf,UAAY,SAAS7T,EAAIjW,GAAU,IAAI8wB,EAASrpB,KACtE+mB,EAAa,EACjB,OAAO/mB,KAAK44B,MAAMvW,WAAU,SAASxJ,GAAK,OAAOrK,EAAGqK,EAAGkO,IAAcsC,EAAO,GAAG9wB,EACjF,EAEA6gC,GAAkBt2B,UAAU0iB,WAAa,SAASza,EAAMxS,GACtD,IAAIgrB,EAAWvjB,KAAK44B,MAAMpT,WAAWrC,EAAgB5qB,GACjDwuB,EAAa,EACjB,OAAO,IAAIrD,GAAS,WAClB,IAAIsD,EAAOzD,EAASI,OACpB,OAAOqD,EAAK7C,KAAO6C,EACjB/C,EAAclZ,EAAMgc,IAAcC,EAAKxpB,MAAOwpB,EAClD,GACF,EAIF1H,EAAY+Z,GAAehZ,GACzB,SAASgZ,GAAclX,GACrBniB,KAAK44B,MAAQzW,EACbniB,KAAKoiB,KAAOD,EAAKC,IACnB,CAEAiX,GAAcv2B,UAAUkX,IAAM,SAASpjB,GACrC,OAAOoJ,KAAK44B,MAAMluB,SAAS9T,EAC7B,EAEAyiC,GAAcv2B,UAAUuf,UAAY,SAAS7T,EAAIjW,GAAU,IAAI8wB,EAASrpB,KACtE,OAAOA,KAAK44B,MAAMvW,WAAU,SAASxJ,GAAK,OAAOrK,EAAGqK,EAAGA,EAAGwQ,EAAO,GAAG9wB,EACtE,EAEA8gC,GAAcv2B,UAAU0iB,WAAa,SAASza,EAAMxS,GAClD,IAAIgrB,EAAWvjB,KAAK44B,MAAMpT,WAAWrC,EAAgB5qB,GACrD,OAAO,IAAImrB,GAAS,WAClB,IAAIsD,EAAOzD,EAASI,OACpB,OAAOqD,EAAK7C,KAAO6C,EACjB/C,EAAclZ,EAAMic,EAAKxpB,MAAOwpB,EAAKxpB,MAAOwpB,EAChD,GACF,EAIF1H,EAAYga,GAAqBvZ,GAC/B,SAASuZ,GAAoBrjC,GAC3B+J,KAAK44B,MAAQ3iC,EACb+J,KAAKoiB,KAAOnsB,EAAQmsB,IACtB,CAEAkX,GAAoBx2B,UAAUuiB,SAAW,WACvC,OAAOrlB,KAAK44B,MAAM9T,OACpB,EAEAwU,GAAoBx2B,UAAUuf,UAAY,SAAS7T,EAAIjW,GAAU,IAAI8wB,EAASrpB,KAC5E,OAAOA,KAAK44B,MAAMvW,WAAU,SAAShE,GAGnC,GAAIA,EAAO,CACTkb,GAAclb,GACd,IAAImb,EAAkB7Z,EAAWtB,GACjC,OAAO7P,EACLgrB,EAAkBnb,EAAMpmB,IAAI,GAAKomB,EAAM,GACvCmb,EAAkBnb,EAAMpmB,IAAI,GAAKomB,EAAM,GACvCgL,EAEJ,CACF,GAAG9wB,EACL,EAEA+gC,GAAoBx2B,UAAU0iB,WAAa,SAASza,EAAMxS,GACxD,IAAIgrB,EAAWvjB,KAAK44B,MAAMpT,WAAWrC,EAAgB5qB,GACrD,OAAO,IAAImrB,GAAS,WAClB,OAAa,CACX,IAAIsD,EAAOzD,EAASI,OACpB,GAAIqD,EAAK7C,KACP,OAAO6C,EAET,IAAI3I,EAAQ2I,EAAKxpB,MAGjB,GAAI6gB,EAAO,CACTkb,GAAclb,GACd,IAAImb,EAAkB7Z,EAAWtB,GACjC,OAAO4F,EACLlZ,EACAyuB,EAAkBnb,EAAMpmB,IAAI,GAAKomB,EAAM,GACvCmb,EAAkBnb,EAAMpmB,IAAI,GAAKomB,EAAM,GACvC2I,EAEJ,CACF,CACF,GACF,EAGFoS,GAAkBt2B,UAAUoiB,YAC5BwT,GAAgB51B,UAAUoiB,YAC1BmU,GAAcv2B,UAAUoiB,YACxBoU,GAAoBx2B,UAAUoiB,YAC5BuU,GAGF,SAASC,GAAYhV,GACnB,IAAIiV,EAAeC,GAAalV,GAChCiV,EAAaf,MAAQlU,EACrBiV,EAAavX,KAAOsC,EAAStC,KAC7BuX,EAAalB,KAAO,WAAa,OAAO/T,CAAQ,EAChDiV,EAAaphC,QAAU,WACrB,IAAIwgC,EAAmBrU,EAASnsB,QAAQ2L,MAAMlE,MAC9C+4B,EAAiBN,KAAO,WAAa,OAAO/T,EAASnsB,SAAS,EAC9D,OAAOwgC,CACT,EACAY,EAAa3f,IAAM,SAASpjB,GAAO,OAAO8tB,EAASha,SAAS9T,EAAI,EAChE+iC,EAAajvB,SAAW,SAAS9T,GAAO,OAAO8tB,EAAS1K,IAAIpjB,EAAI,EAChE+iC,EAAazU,YAAcuU,GAC3BE,EAAavU,kBAAoB,SAAU5W,EAAIjW,GAAU,IAAI8wB,EAASrpB,KACpE,OAAO0kB,EAASrC,WAAU,SAASxJ,EAAG9F,GAAK,OAA4B,IAArBvE,EAAGuE,EAAG8F,EAAGwQ,EAAiB,GAAG9wB,EACjF,EACAohC,EAAa1S,mBAAqB,SAASlc,EAAMxS,GAC/C,GAAIwS,IAASqY,EAAiB,CAC5B,IAAIG,EAAWmB,EAASc,WAAWza,EAAMxS,GACzC,OAAO,IAAImrB,GAAS,WAClB,IAAIsD,EAAOzD,EAASI,OACpB,IAAKqD,EAAK7C,KAAM,CACd,IAAIpR,EAAIiU,EAAKxpB,MAAM,GACnBwpB,EAAKxpB,MAAM,GAAKwpB,EAAKxpB,MAAM,GAC3BwpB,EAAKxpB,MAAM,GAAKuV,CAClB,CACA,OAAOiU,CACT,GACF,CACA,OAAOtC,EAASc,WACdza,IAASoY,EAAiBD,EAAeC,EACzC5qB,EAEJ,EACA,OAAOohC,CACT,CAGA,SAAST,GAAWxU,EAAUgK,EAAQ1zB,GACpC,IAAIi+B,EAAiBW,GAAalV,GAClCuU,EAAe7W,KAAOsC,EAAStC,KAC/B6W,EAAejf,IAAM,SAASpjB,GAAO,OAAO8tB,EAAS1K,IAAIpjB,EAAI,EAC7DqiC,EAAehhC,IAAM,SAASrB,EAAK4vB,GACjC,IAAI3N,EAAI6L,EAASzsB,IAAIrB,EAAK2qB,GAC1B,OAAO1I,IAAM0I,EACXiF,EACAkI,EAAO9qB,KAAK5I,EAAS6d,EAAGjiB,EAAK8tB,EACjC,EACAuU,EAAe7T,kBAAoB,SAAU5W,EAAIjW,GAAU,IAAI8wB,EAASrpB,KACtE,OAAO0kB,EAASrC,WACd,SAASxJ,EAAG9F,EAAG+F,GAAK,OAAwD,IAAjDtK,EAAGkgB,EAAO9qB,KAAK5I,EAAS6d,EAAG9F,EAAG+F,GAAI/F,EAAGsW,EAAiB,GACjF9wB,EAEJ,EACA0gC,EAAehS,mBAAqB,SAAUlc,EAAMxS,GAClD,IAAIgrB,EAAWmB,EAASc,WAAWpC,EAAiB7qB,GACpD,OAAO,IAAImrB,GAAS,WAClB,IAAIsD,EAAOzD,EAASI,OACpB,GAAIqD,EAAK7C,KACP,OAAO6C,EAET,IAAI3I,EAAQ2I,EAAKxpB,MACb5G,EAAMynB,EAAM,GAChB,OAAO4F,EACLlZ,EACAnU,EACA83B,EAAO9qB,KAAK5I,EAASqjB,EAAM,GAAIznB,EAAK8tB,GACpCsC,EAEJ,GACF,EACA,OAAOiS,CACT,CAGA,SAASD,GAAetU,EAAUiD,GAChC,IAAIoR,EAAmBa,GAAalV,GACpCqU,EAAiBH,MAAQlU,EACzBqU,EAAiB3W,KAAOsC,EAAStC,KACjC2W,EAAiBxgC,QAAU,WAAa,OAAOmsB,CAAQ,EACnDA,EAAS+T,OACXM,EAAiBN,KAAO,WACtB,IAAIkB,EAAeD,GAAYhV,GAC/BiV,EAAaphC,QAAU,WAAa,OAAOmsB,EAAS+T,MAAM,EAC1D,OAAOkB,CACT,GAEFZ,EAAiB9gC,IAAM,SAASrB,EAAK4vB,GAClC,OAAO9B,EAASzsB,IAAI0vB,EAAU/wB,GAAO,EAAIA,EAAK4vB,EAAY,EAC7DuS,EAAiB/e,IAAM,SAASpjB,GAC7B,OAAO8tB,EAAS1K,IAAI2N,EAAU/wB,GAAO,EAAIA,EAAI,EAChDmiC,EAAiBruB,SAAW,SAASlN,GAAS,OAAOknB,EAASha,SAASlN,EAAM,EAC7Eu7B,EAAiB7T,YAAcuU,GAC/BV,EAAiB1W,UAAY,SAAU7T,EAAIjW,GAAU,IAAI8wB,EAASrpB,KAChE,OAAO0kB,EAASrC,WAAU,SAASxJ,EAAG9F,GAAK,OAAOvE,EAAGqK,EAAG9F,EAAGsW,EAAO,IAAI9wB,EACxE,EACAwgC,EAAiBvT,WACf,SAASza,EAAMxS,GAAW,OAAOmsB,EAASc,WAAWza,GAAOxS,EAAQ,EACtE,OAAOwgC,CACT,CAGA,SAASc,GAAcnV,EAAUoV,EAAW9+B,EAAS2sB,GACnD,IAAIoS,EAAiBH,GAAalV,GAClC,GAAIiD,EAAS,CACXoS,EAAe/f,IAAM,SAASpjB,GAC5B,IAAIiiB,EAAI6L,EAASzsB,IAAIrB,EAAK2qB,GAC1B,OAAO1I,IAAM0I,KAAauY,EAAUl2B,KAAK5I,EAAS6d,EAAGjiB,EAAK8tB,EAC5D,EACAqV,EAAe9hC,IAAM,SAASrB,EAAK4vB,GACjC,IAAI3N,EAAI6L,EAASzsB,IAAIrB,EAAK2qB,GAC1B,OAAO1I,IAAM0I,GAAWuY,EAAUl2B,KAAK5I,EAAS6d,EAAGjiB,EAAK8tB,GACtD7L,EAAI2N,CACR,CACF,CACAuT,EAAe3U,kBAAoB,SAAU5W,EAAIjW,GAAU,IAAI8wB,EAASrpB,KAClE+mB,EAAa,EACjBrC,EAASrC,WAAU,SAASxJ,EAAG9F,EAAG+F,GAChC,GAAIghB,EAAUl2B,KAAK5I,EAAS6d,EAAG9F,EAAG+F,GAAI,CACpCiO,IACA,OAAOvY,EAAGqK,EAAG8O,EAAU5U,EAAIgU,EAAa,EAAGsC,EAC7C,CACF,GAAG9wB,GACH,OAAOwuB,CACT,EACAgT,EAAe9S,mBAAqB,SAAUlc,EAAMxS,GAClD,IAAIgrB,EAAWmB,EAASc,WAAWpC,EAAiB7qB,GAChDwuB,EAAa,EACjB,OAAO,IAAIrD,GAAS,WAClB,OAAa,CACX,IAAIsD,EAAOzD,EAASI,OACpB,GAAIqD,EAAK7C,KACP,OAAO6C,EAET,IAAI3I,EAAQ2I,EAAKxpB,MACb5G,EAAMynB,EAAM,GACZ7gB,EAAQ6gB,EAAM,GAClB,GAAIyb,EAAUl2B,KAAK5I,EAASwC,EAAO5G,EAAK8tB,GACtC,OAAOT,EAAclZ,EAAM4c,EAAU/wB,EAAMmwB,IAAcvpB,EAAOwpB,EAEpE,CACF,GACF,EACA,OAAO+S,CACT,CAGA,SAASC,GAAetV,EAAUuV,EAASj/B,GACzC,IAAI2gB,EAAS0Q,KAAMuC,YACnBlK,EAASrC,WAAU,SAASxJ,EAAG9F,GAC7B4I,EAAOuR,OACL+M,EAAQr2B,KAAK5I,EAAS6d,EAAG9F,EAAG2R,GAC5B,GACA,SAASzL,GAAK,OAAOA,EAAI,CAAC,GAE9B,IACA,OAAO0C,EAAOoT,aAChB,CAGA,SAASmL,GAAexV,EAAUuV,EAASj/B,GACzC,IAAIm/B,EAAcra,EAAQ4E,GACtB/I,GAAUkF,EAAU6D,GAAY6J,KAAelC,MAAOuC,YAC1DlK,EAASrC,WAAU,SAASxJ,EAAG9F,GAC7B4I,EAAOuR,OACL+M,EAAQr2B,KAAK5I,EAAS6d,EAAG9F,EAAG2R,IAC5B,SAASzL,GAAK,OAAQA,EAAIA,GAAK,IAAM/b,KAAKi9B,EAAc,CAACpnB,EAAG8F,GAAKA,GAAII,CAAE,GAE3E,IACA,IAAImhB,EAASC,GAAc3V,GAC3B,OAAO/I,EAAOzlB,KAAI,SAASuiB,GAAO,OAAO6hB,GAAM5V,EAAU0V,EAAO3hB,GAAK,GACvE,CAGA,SAAS8hB,GAAa7V,EAAU9B,EAAOC,EAAK8E,GAC1C,IAAI6S,EAAe9V,EAAStC,UAIdvqB,IAAV+qB,IACFA,GAAgB,QAEN/qB,IAARgrB,IACEA,IAAQ7E,IACV6E,EAAM2X,EAEN3X,GAAY,GAIhB,GAAIF,EAAWC,EAAOC,EAAK2X,GACzB,OAAO9V,EAGT,IAAI+V,EAAgB3X,EAAaF,EAAO4X,GACpCE,EAAc1X,EAAWH,EAAK2X,GAKlC,GAAIC,GAAkBA,GAAiBC,GAAgBA,EACrD,OAAOH,GAAa7V,EAASI,QAAQI,cAAetC,EAAOC,EAAK8E,GAOlE,IACIgT,EADAC,EAAeF,EAAcD,EAE7BG,GAAiBA,IACnBD,EAAYC,EAAe,EAAI,EAAIA,GAGrC,IAAIC,EAAWjB,GAAalV,GAI5BmW,EAASzY,KAAqB,IAAduY,EAAkBA,EAAYjW,EAAStC,MAAQuY,QAAa9iC,GAEvE8vB,GAAW3B,GAAMtB,IAAaiW,GAAa,IAC9CE,EAAS5iC,IAAM,SAAUuqB,EAAOgE,GAE9B,OADAhE,EAAQD,EAAUviB,KAAMwiB,KACR,GAAKA,EAAQmY,EAC3BjW,EAASzsB,IAAIuqB,EAAQiY,EAAejU,GACpCA,CACJ,GAGFqU,EAASzV,kBAAoB,SAAS5W,EAAIjW,GAAU,IAAI8wB,EAASrpB,KAC/D,GAAkB,IAAd26B,EACF,OAAO,EAET,GAAIpiC,EACF,OAAOyH,KAAKklB,cAAc7C,UAAU7T,EAAIjW,GAE1C,IAAIuiC,EAAU,EACVC,GAAa,EACbhU,EAAa,EACjBrC,EAASrC,WAAU,SAASxJ,EAAG9F,GAC7B,IAAMgoB,KAAeA,EAAaD,IAAYL,GAAiB,CAC7D1T,IACA,OAAuD,IAAhDvY,EAAGqK,EAAG8O,EAAU5U,EAAIgU,EAAa,EAAGsC,IACpCtC,IAAe4T,CACxB,CACF,IACA,OAAO5T,CACT,EAEA8T,EAAS5T,mBAAqB,SAASlc,EAAMxS,GAC3C,GAAkB,IAAdoiC,GAAmBpiC,EACrB,OAAOyH,KAAKklB,cAAcM,WAAWza,EAAMxS,GAG7C,IAAIgrB,EAAyB,IAAdoX,GAAmBjW,EAASc,WAAWza,EAAMxS,GACxDuiC,EAAU,EACV/T,EAAa,EACjB,OAAO,IAAIrD,GAAS,WAClB,KAAOoX,IAAYL,GACjBlX,EAASI,OAEX,KAAMoD,EAAa4T,EACjB,OAAOvW,IAET,IAAI4C,EAAOzD,EAASI,OACpB,OAAIgE,GAAW5c,IAASoY,EACf6D,EAEA/C,EAAclZ,EAAMgc,EAAa,EAD/Bhc,IAASmY,OACyBrrB,EAEAmvB,EAAKxpB,MAAM,GAFAwpB,EAI1D,GACF,EAEA,OAAO6T,CACT,CAGA,SAASG,GAAiBtW,EAAUoV,EAAW9+B,GAC7C,IAAIigC,EAAerB,GAAalV,GAChCuW,EAAa7V,kBAAoB,SAAS5W,EAAIjW,GAAU,IAAI8wB,EAASrpB,KACnE,GAAIzH,EACF,OAAOyH,KAAKklB,cAAc7C,UAAU7T,EAAIjW,GAE1C,IAAIwuB,EAAa,EACjBrC,EAASrC,WAAU,SAASxJ,EAAG9F,EAAG+F,GAC/B,OAAOghB,EAAUl2B,KAAK5I,EAAS6d,EAAG9F,EAAG+F,MAAQiO,GAAcvY,EAAGqK,EAAG9F,EAAGsW,EAAO,IAE9E,OAAOtC,CACT,EACAkU,EAAahU,mBAAqB,SAASlc,EAAMxS,GAAU,IAAI8wB,EAASrpB,KACtE,GAAIzH,EACF,OAAOyH,KAAKklB,cAAcM,WAAWza,EAAMxS,GAE7C,IAAIgrB,EAAWmB,EAASc,WAAWpC,EAAiB7qB,GAChD2iC,GAAY,EAChB,OAAO,IAAIxX,GAAS,WAClB,IAAKwX,EACH,OAAO9W,IAET,IAAI4C,EAAOzD,EAASI,OACpB,GAAIqD,EAAK7C,KACP,OAAO6C,EAET,IAAI3I,EAAQ2I,EAAKxpB,MACbuV,EAAIsL,EAAM,GACVxF,EAAIwF,EAAM,GACd,IAAKyb,EAAUl2B,KAAK5I,EAAS6d,EAAG9F,EAAGsW,GAAS,CAC1C6R,GAAY,EACZ,OAAO9W,GACT,CACA,OAAOrZ,IAASqY,EAAkB4D,EAChC/C,EAAclZ,EAAMgI,EAAG8F,EAAGmO,EAC9B,GACF,EACA,OAAOiU,CACT,CAGA,SAASE,GAAiBzW,EAAUoV,EAAW9+B,EAAS2sB,GACtD,IAAIyT,EAAexB,GAAalV,GAChC0W,EAAahW,kBAAoB,SAAU5W,EAAIjW,GAAU,IAAI8wB,EAASrpB,KACpE,GAAIzH,EACF,OAAOyH,KAAKklB,cAAc7C,UAAU7T,EAAIjW,GAE1C,IAAIwiC,GAAa,EACbhU,EAAa,EACjBrC,EAASrC,WAAU,SAASxJ,EAAG9F,EAAG+F,GAChC,IAAMiiB,KAAeA,EAAajB,EAAUl2B,KAAK5I,EAAS6d,EAAG9F,EAAG+F,IAAM,CACpEiO,IACA,OAAOvY,EAAGqK,EAAG8O,EAAU5U,EAAIgU,EAAa,EAAGsC,EAC7C,CACF,IACA,OAAOtC,CACT,EACAqU,EAAanU,mBAAqB,SAASlc,EAAMxS,GAAU,IAAI8wB,EAASrpB,KACtE,GAAIzH,EACF,OAAOyH,KAAKklB,cAAcM,WAAWza,EAAMxS,GAE7C,IAAIgrB,EAAWmB,EAASc,WAAWpC,EAAiB7qB,GAChD8iC,GAAW,EACXtU,EAAa,EACjB,OAAO,IAAIrD,GAAS,WAClB,IAAIsD,EAAMjU,EAAG8F,EACb,EAAG,CAED,IADAmO,EAAOzD,EAASI,QACPQ,KACP,OAAIwD,GAAW5c,IAASoY,EACf6D,EAEA/C,EAAclZ,EAAMgc,IADlBhc,IAASmY,OACuBrrB,EAEAmvB,EAAKxpB,MAAM,GAFAwpB,GAKxD,IAAI3I,EAAQ2I,EAAKxpB,MACjBuV,EAAIsL,EAAM,GACVxF,EAAIwF,EAAM,GACVgd,IAAaA,EAAWvB,EAAUl2B,KAAK5I,EAAS6d,EAAG9F,EAAGsW,GACxD,OAASgS,GACT,OAAOtwB,IAASqY,EAAkB4D,EAChC/C,EAAclZ,EAAMgI,EAAG8F,EAAGmO,EAC9B,GACF,EACA,OAAOoU,CACT,CAGA,SAASE,GAAc5W,EAAUpR,GAC/B,IAAIioB,EAAkBzb,EAAQ4E,GAC1BqJ,EAAQ,CAACrJ,GAAUtS,OAAOkB,GAAQpd,KAAI,SAAS2iB,GAC5C8G,EAAW9G,GAIL0iB,IACT1iB,EAAIgH,EAAchH,IAJlBA,EAAI0iB,EACF3V,GAAkB/M,GAClBiN,GAAoBpX,MAAM8Y,QAAQ3O,GAAKA,EAAI,CAACA,IAIhD,OAAOA,CACT,IAAGua,QAAO,SAASva,GAAK,OAAkB,IAAXA,EAAEuJ,IAAU,IAE3C,GAAqB,IAAjB2L,EAAMt1B,OACR,OAAOisB,EAGT,GAAqB,IAAjBqJ,EAAMt1B,OAAc,CACtB,IAAI+iC,EAAYzN,EAAM,GACtB,GAAIyN,IAAc9W,GACd6W,GAAmBzb,EAAQ0b,IAC3Bvb,EAAUyE,IAAazE,EAAUub,GACnC,OAAOA,CAEX,CAEA,IAAIC,EAAY,IAAIpV,GAAS0H,GACzBwN,EACFE,EAAYA,EAAU/V,aACZzF,EAAUyE,KACpB+W,EAAYA,EAAU1V,aAExB0V,EAAYA,EAAUC,SAAQ,IACpBtZ,KAAO2L,EAAM4N,QACrB,SAASC,EAAKrU,GACZ,QAAY1vB,IAAR+jC,EAAmB,CACrB,IAAIxZ,EAAOmF,EAAInF,KACf,QAAavqB,IAATuqB,EACF,OAAOwZ,EAAMxZ,CAEjB,CACF,GACA,GAEF,OAAOqZ,CACT,CAGA,SAASI,GAAenX,EAAUrY,EAAOsb,GACvC,IAAImU,EAAelC,GAAalV,GAChCoX,EAAa1W,kBAAoB,SAAS5W,EAAIjW,GAC5C,IAAIwuB,EAAa,EACbgV,GAAU,EACd,SAASC,EAAS7Z,EAAM8Z,GAAe,IAAI5S,EAASrpB,KAClDmiB,EAAKE,WAAU,SAASxJ,EAAG9F,KACnB1G,GAAS4vB,EAAe5vB,IAAUsT,EAAW9G,GACjDmjB,EAASnjB,EAAGojB,EAAe,IAC4B,IAA9CztB,EAAGqK,EAAG8O,EAAU5U,EAAIgU,IAAcsC,KAC3C0S,GAAU,GAEZ,OAAQA,CACV,GAAGxjC,EACL,CACAyjC,EAAStX,EAAU,GACnB,OAAOqC,CACT,EACA+U,EAAa7U,mBAAqB,SAASlc,EAAMxS,GAC/C,IAAIgrB,EAAWmB,EAASc,WAAWza,EAAMxS,GACrC0O,EAAQ,GACR8f,EAAa,EACjB,OAAO,IAAIrD,GAAS,WAClB,KAAOH,GAAU,CACf,IAAIyD,EAAOzD,EAASI,OACpB,IAAkB,IAAdqD,EAAK7C,KAAT,CAIA,IAAItL,EAAImO,EAAKxpB,MACTuN,IAASqY,IACXvK,EAAIA,EAAE,IAER,GAAMxM,KAASpF,EAAMxO,OAAS4T,KAAUsT,EAAW9G,GAIjD,OAAO8O,EAAUX,EAAO/C,EAAclZ,EAAMgc,IAAclO,EAAGmO,GAH7D/f,EAAM/J,KAAKqmB,GACXA,EAAW1K,EAAE2M,WAAWza,EAAMxS,EAPhC,MAFEgrB,EAAWtc,EAAMmpB,KAarB,CACA,OAAOhM,GACT,GACF,EACA,OAAO0X,CACT,CAGA,SAASI,GAAexX,EAAUgK,EAAQ1zB,GACxC,IAAIo/B,EAASC,GAAc3V,GAC3B,OAAOA,EAASI,QAAQ5uB,KACtB,SAAS2iB,EAAG9F,GAAK,OAAOqnB,EAAO1L,EAAO9qB,KAAK5I,EAAS6d,EAAG9F,EAAG2R,GAAU,IACpEgX,SAAQ,EACZ,CAGA,SAASS,GAAiBzX,EAAU7nB,GAClC,IAAIu/B,EAAqBxC,GAAalV,GACtC0X,EAAmBha,KAAOsC,EAAStC,MAAwB,EAAhBsC,EAAStC,KAAU,EAC9Dga,EAAmBhX,kBAAoB,SAAS5W,EAAIjW,GAAU,IAAI8wB,EAASrpB,KACrE+mB,EAAa,EACjBrC,EAASrC,WAAU,SAASxJ,EAAG9F,GAC5B,QAASgU,IAAsD,IAAxCvY,EAAG3R,EAAWkqB,IAAcsC,MACpB,IAAhC7a,EAAGqK,EAAGkO,IAAcsC,EAAiB,GACrC9wB,GAEF,OAAOwuB,CACT,EACAqV,EAAmBnV,mBAAqB,SAASlc,EAAMxS,GACrD,IAEIyuB,EAFAzD,EAAWmB,EAASc,WAAWrC,EAAgB5qB,GAC/CwuB,EAAa,EAEjB,OAAO,IAAIrD,GAAS,WAClB,QAAKsD,GAAQD,EAAa,KACxBC,EAAOzD,EAASI,QACPQ,KACA6C,EAGJD,EAAa,EAClB9C,EAAclZ,EAAMgc,IAAclqB,GAClConB,EAAclZ,EAAMgc,IAAcC,EAAKxpB,MAAOwpB,EAClD,GACF,EACA,OAAOoV,CACT,CAGA,SAAS5N,GAAY9J,EAAU4J,EAAYI,GACpCJ,IACHA,EAAa+N,IAEf,IAAId,EAAkBzb,EAAQ4E,GAC1BlC,EAAQ,EACRvsB,EAAUyuB,EAASI,QAAQ5uB,KAC7B,SAAS2iB,EAAG9F,GAAK,MAAO,CAACA,EAAG8F,EAAG2J,IAASkM,EAASA,EAAO7V,EAAG9F,EAAG2R,GAAY7L,EAAE,IAC5EyM,UACFrvB,EAAQo4B,MAAK,SAASpV,EAAGC,GAAK,OAAOoV,EAAWrV,EAAE,GAAIC,EAAE,KAAOD,EAAE,GAAKC,EAAE,EAAE,IAAGuT,QAC3E8O,EACA,SAAS1iB,EAAGrgB,GAAMvC,EAAQuC,GAAGC,OAAS,CAAG,EACzC,SAASogB,EAAGrgB,GAAMvC,EAAQuC,GAAKqgB,EAAE,EAAI,GAEvC,OAAO0iB,EAAkBxb,EAAS9pB,GAChCgqB,EAAUyE,GAAYxE,EAAWjqB,GACjCoqB,EAAOpqB,EACX,CAGA,SAASqmC,GAAW5X,EAAU4J,EAAYI,GACnCJ,IACHA,EAAa+N,IAEf,GAAI3N,EAAQ,CACV,IAAIrQ,EAAQqG,EAASI,QAClB5uB,KAAI,SAAS2iB,EAAG9F,GAAK,MAAO,CAAC8F,EAAG6V,EAAO7V,EAAG9F,EAAG2R,GAAU,IACvDiX,QAAO,SAAS1iB,EAAGC,GAAK,OAAOqjB,GAAWjO,EAAYrV,EAAE,GAAIC,EAAE,IAAMA,EAAID,CAAC,IAC5E,OAAOoF,GAASA,EAAM,EACxB,CACE,OAAOqG,EAASiX,QAAO,SAAS1iB,EAAGC,GAAK,OAAOqjB,GAAWjO,EAAYrV,EAAGC,GAAKA,EAAID,CAAC,GAEvF,CAEA,SAASsjB,GAAWjO,EAAYrV,EAAGC,GACjC,IAAIsjB,EAAOlO,EAAWpV,EAAGD,GAGzB,OAAiB,IAATujB,GAActjB,IAAMD,IAAMC,SAAiCA,GAAMA,IAAOsjB,EAAO,CACzF,CAGA,SAASC,GAAeC,EAASC,EAAQ5O,GACvC,IAAI6O,EAAchD,GAAa8C,GAC/BE,EAAYxa,KAAO,IAAIiE,GAAS0H,GAAO73B,KAAI,SAASsC,GAAK,OAAOA,EAAE4pB,IAAI,IAAG7e,MAGzEq5B,EAAYva,UAAY,SAAS7T,EAAIjW,GAiBnC,IAHA,IACIyuB,EADAzD,EAAWvjB,KAAKwlB,WAAWrC,EAAgB5qB,GAE3CwuB,EAAa,IACRC,EAAOzD,EAASI,QAAQQ,OACY,IAAvC3V,EAAGwY,EAAKxpB,MAAOupB,IAAc/mB,QAInC,OAAO+mB,CACT,EACA6V,EAAY3V,mBAAqB,SAASlc,EAAMxS,GAC9C,IAAIskC,EAAY9O,EAAM73B,KAAI,SAASsC,GAChC,OAAQA,EAAIknB,EAASlnB,GAAIisB,EAAYlsB,EAAUC,EAAED,UAAYC,EAAG,IAE/DuuB,EAAa,EACb+V,GAAS,EACb,OAAO,IAAIpZ,GAAS,WAClB,IAAIqZ,EACJ,IAAKD,EAAQ,CACXC,EAAQF,EAAU3mC,KAAI,SAASsC,GAAK,OAAOA,EAAEmrB,MAAM,IACnDmZ,EAASC,EAAMjqB,MAAK,SAASkqB,GAAK,OAAOA,EAAE7Y,IAAI,GACjD,CACA,OAAI2Y,EACK1Y,IAEFH,EACLlZ,EACAgc,IACA4V,EAAOz4B,MAAM,KAAM64B,EAAM7mC,KAAI,SAAS8mC,GAAK,OAAOA,EAAEx/B,KAAK,KAE7D,GACF,EACA,OAAOo/B,CACT,CAKA,SAAStC,GAAMnY,EAAMoF,GACnB,OAAOvB,GAAM7D,GAAQoF,EAAMpF,EAAKrX,YAAYyc,EAC9C,CAEA,SAASgS,GAAclb,GACrB,GAAIA,IAAUroB,OAAOqoB,GACnB,MAAM,IAAIoJ,UAAU,0BAA4BpJ,EAEpD,CAEA,SAAS8a,GAAYhX,GACnBiK,GAAkBjK,EAAKC,MACvB,OAAOF,EAAWC,EACpB,CAEA,SAASkY,GAAc3V,GACrB,OAAO5E,EAAQ4E,GAAY7E,EACzBI,EAAUyE,GAAY1E,EACtBG,CACJ,CAEA,SAASyZ,GAAalV,GACpB,OAAO1uB,OAAOypB,QAEVK,EAAQ4E,GAAY3E,EACpBE,EAAUyE,GAAYxE,EACtBG,GACAvd,UAEN,CAEA,SAAS22B,KACP,GAAIz5B,KAAK44B,MAAM1T,YAAa,CAC1BllB,KAAK44B,MAAM1T,cACXllB,KAAKoiB,KAAOpiB,KAAK44B,MAAMxW,KACvB,OAAOpiB,IACT,CACE,OAAO4f,EAAI9c,UAAUoiB,YAAYthB,KAAK5D,KAE1C,CAEA,SAASq8B,GAAkBpjB,EAAGC,GAC5B,OAAOD,EAAIC,EAAI,EAAID,EAAIC,GAAK,EAAI,CAClC,CAEA,SAASoU,GAAcR,GACrB,IAAI3K,EAAOsC,EAAYqI,GACvB,IAAK3K,EAAM,CAGT,IAAKyC,EAAYkI,GACf,MAAM,IAAIrF,UAAU,oCAAsCqF,GAE5D3K,EAAOsC,EAAY/E,EAASoN,GAC9B,CACA,OAAO3K,CACT,CAEA7C,EAAY2d,GAAQ7S,IAElB,SAAS6S,GAAOC,EAAe31B,GAC7B,IAAI41B,EAEAC,EAAa,SAAgB9pB,GAC/B,GAAIA,aAAkB8pB,EACpB,OAAO9pB,EAET,KAAMtT,gBAAgBo9B,GACpB,OAAO,IAAIA,EAAW9pB,GAExB,IAAK6pB,EAAgB,CACnBA,GAAiB,EACjB,IAAIrlC,EAAO9B,OAAO8B,KAAKolC,GACvBG,GAASC,EAAqBxlC,GAC9BwlC,EAAoBlb,KAAOtqB,EAAKW,OAChC6kC,EAAoBC,MAAQh2B,EAC5B+1B,EAAoB1W,MAAQ9uB,EAC5BwlC,EAAoBE,eAAiBN,CACvC,CACAl9B,KAAKi4B,KAAO5L,GAAI/Y,EAClB,EAEIgqB,EAAsBF,EAAWt6B,UAAY9M,OAAOypB,OAAOge,IAC/DH,EAAoBxyB,YAAcsyB,EAElC,OAAOA,CACT,CAEAH,GAAOn6B,UAAUa,SAAW,WAC1B,OAAO3D,KAAKilB,WAAWyY,GAAW19B,MAAQ,KAAM,IAClD,EAIAi9B,GAAOn6B,UAAUkX,IAAM,SAASjH,GAC9B,OAAO/S,KAAKw9B,eAAezuB,eAAegE,EAC5C,EAEAkqB,GAAOn6B,UAAU7K,IAAM,SAAS8a,EAAGyT,GACjC,IAAKxmB,KAAKga,IAAIjH,GACZ,OAAOyT,EAET,IAAIruB,EAAa6H,KAAKw9B,eAAezqB,GACrC,OAAO/S,KAAKi4B,KAAOj4B,KAAKi4B,KAAKhgC,IAAI8a,EAAG5a,GAAcA,CACpD,EAIA8kC,GAAOn6B,UAAUyqB,MAAQ,WACvB,GAAIvtB,KAAKwtB,UAAW,CAClBxtB,KAAKi4B,MAAQj4B,KAAKi4B,KAAK1K,QACvB,OAAOvtB,IACT,CACA,IAAIo9B,EAAap9B,KAAK8K,YACtB,OAAOsyB,EAAWO,SAAWP,EAAWO,OAASC,GAAW59B,KAAMssB,MACpE,EAEA2Q,GAAOn6B,UAAUjK,IAAM,SAASka,EAAG8F,GACjC,IAAK7Y,KAAKga,IAAIjH,GACZ,MAAM,IAAI3a,MAAM,2BAA6B2a,EAAI,QAAU2qB,GAAW19B,OAExE,GAAIA,KAAKi4B,OAASj4B,KAAKi4B,KAAKje,IAAIjH,IAE1B8F,IADa7Y,KAAKw9B,eAAezqB,GAEnC,OAAO/S,KAGX,IAAIo4B,EAASp4B,KAAKi4B,MAAQj4B,KAAKi4B,KAAKp/B,IAAIka,EAAG8F,GAC3C,OAAI7Y,KAAKwtB,WAAa4K,IAAWp4B,KAAKi4B,KAC7Bj4B,KAEF49B,GAAW59B,KAAMo4B,EAC1B,EAEA6E,GAAOn6B,UAAUkqB,OAAS,SAASja,GACjC,IAAK/S,KAAKga,IAAIjH,GACZ,OAAO/S,KAET,IAAIo4B,EAASp4B,KAAKi4B,MAAQj4B,KAAKi4B,KAAKjL,OAAOja,GAC3C,OAAI/S,KAAKwtB,WAAa4K,IAAWp4B,KAAKi4B,KAC7Bj4B,KAEF49B,GAAW59B,KAAMo4B,EAC1B,EAEA6E,GAAOn6B,UAAU+rB,WAAa,WAC5B,OAAO7uB,KAAKi4B,KAAKpJ,YACnB,EAEAoO,GAAOn6B,UAAU0iB,WAAa,SAASza,EAAMxS,GAAU,IAAI8wB,EAASrpB,KAClE,OAAO6f,EAAc7f,KAAKw9B,gBAAgBtnC,KAAI,SAAS+b,EAAGc,GAAK,OAAOsW,EAAOpxB,IAAI8a,EAAE,IAAGyS,WAAWza,EAAMxS,EACzG,EAEA0kC,GAAOn6B,UAAUuf,UAAY,SAAS7T,EAAIjW,GAAU,IAAI8wB,EAASrpB,KAC/D,OAAO6f,EAAc7f,KAAKw9B,gBAAgBtnC,KAAI,SAAS+b,EAAGc,GAAK,OAAOsW,EAAOpxB,IAAI8a,EAAE,IAAGsP,UAAU7T,EAAIjW,EACtG,EAEA0kC,GAAOn6B,UAAUgsB,cAAgB,SAASI,GACxC,GAAIA,IAAYlvB,KAAKwtB,UACnB,OAAOxtB,KAET,IAAIo4B,EAASp4B,KAAKi4B,MAAQj4B,KAAKi4B,KAAKnJ,cAAcI,GAClD,IAAKA,EAAS,CACZlvB,KAAKwtB,UAAY0B,EACjBlvB,KAAKi4B,KAAOG,EACZ,OAAOp4B,IACT,CACA,OAAO49B,GAAW59B,KAAMo4B,EAAQlJ,EAClC,EAGF,IAAIuO,GAAkBR,GAAOn6B,UAC7B26B,GAAgBtc,GAAUsc,GAAgBzQ,OAC1CyQ,GAAgBxQ,SAChBwQ,GAAgBjO,SAAWD,GAAaC,SACxCiO,GAAgB/P,MAAQ6B,GAAa7B,MACrC+P,GAAgB7P,UAAY2B,GAAa3B,UACzC6P,GAAgB3P,QAAUyB,GAAazB,QACvC2P,GAAgBzP,UAAYuB,GAAavB,UACzCyP,GAAgBvP,cAAgBqB,GAAarB,cAC7CuP,GAAgBrP,YAAcmB,GAAanB,YAC3CqP,GAAgB5Q,MAAQ0C,GAAa1C,MACrC4Q,GAAgBvQ,OAASqC,GAAarC,OACtCuQ,GAAgB1Q,SAAWwC,GAAaxC,SACxC0Q,GAAgBjR,cAAgB+C,GAAa/C,cAC7CiR,GAAgB7O,UAAYW,GAAaX,UACzC6O,GAAgB1O,YAAcQ,GAAaR,YAG3C,SAAS6O,GAAWC,EAAY3nC,EAAKg5B,GACnC,IAAI4O,EAAS9nC,OAAOypB,OAAOzpB,OAAO+nC,eAAeF,IACjDC,EAAO7F,KAAO/hC,EACd4nC,EAAOtQ,UAAY0B,EACnB,OAAO4O,CACT,CAEA,SAASJ,GAAWI,GAClB,OAAOA,EAAOP,OAASO,EAAOhzB,YAAYvD,MAAQ,QACpD,CAEA,SAAS81B,GAASv6B,EAAWk7B,GAC3B,IACEA,EAAMvR,QAAQwR,GAAQpjC,UAAKhD,EAAWiL,GACxC,CAAE,MAAOuD,GAET,CACF,CAEA,SAAS43B,GAAQn7B,EAAWyE,GAC1BvR,OAAO81B,eAAehpB,EAAWyE,EAAM,CACrCtP,IAAK,WACH,OAAO+H,KAAK/H,IAAIsP,EAClB,EACA1O,IAAK,SAAS2E,GACZ+rB,GAAUvpB,KAAKwtB,UAAW,sCAC1BxtB,KAAKnH,IAAI0O,EAAM/J,EACjB,GAEJ,CAEA8hB,EAAY4B,GAAKoJ,IAIf,SAASpJ,GAAI1jB,GACX,OAAOA,QAAwC0gC,KAC7CC,GAAM3gC,KAAWqjB,EAAUrjB,GAASA,EACpC0gC,KAAW1R,eAAc,SAAS3zB,GAChC,IAAIspB,EAAOhC,EAAY3iB,GACvB4uB,GAAkBjK,EAAKC,MACvBD,EAAKsK,SAAQ,SAAS5T,GAAK,OAAOhgB,EAAIulC,IAAIvlB,EAAE,GAC9C,GACJ,CAEAqI,GAAI8D,GAAK,WACP,OAAOhlB,KAAKlH,UACd,EAEAooB,GAAImd,SAAW,SAAS7gC,GACtB,OAAOwC,KAAK6f,EAAcriB,GAAO8gC,SACnC,EAEApd,GAAIpe,UAAUa,SAAW,WACvB,OAAO3D,KAAKilB,WAAW,QAAS,IAClC,EAIA/D,GAAIpe,UAAUkX,IAAM,SAASxc,GAC3B,OAAOwC,KAAKi4B,KAAKje,IAAIxc,EACvB,EAIA0jB,GAAIpe,UAAUs7B,IAAM,SAAS5gC,GAC3B,OAAO+gC,GAAUv+B,KAAMA,KAAKi4B,KAAKp/B,IAAI2E,GAAO,GAC9C,EAEA0jB,GAAIpe,UAAUkqB,OAAS,SAASxvB,GAC9B,OAAO+gC,GAAUv+B,KAAMA,KAAKi4B,KAAKjL,OAAOxvB,GAC1C,EAEA0jB,GAAIpe,UAAUyqB,MAAQ,WACpB,OAAOgR,GAAUv+B,KAAMA,KAAKi4B,KAAK1K,QACnC,EAIArM,GAAIpe,UAAU07B,MAAQ,WAAY,IAAIzQ,EAAQ1O,EAAQzb,KAAK9K,UAAW,GAEpE,OAAqB,KADrBi1B,EAAQA,EAAMqF,QAAO,SAASC,GAAK,OAAkB,IAAXA,EAAEjR,IAAU,KAC5C3pB,OACDuH,KAES,IAAdA,KAAKoiB,MAAepiB,KAAKwtB,WAA8B,IAAjBO,EAAMt1B,OAGzCuH,KAAKwsB,eAAc,SAAS3zB,GACjC,IAAK,IAAIopB,EAAK,EAAGA,EAAK8L,EAAMt1B,OAAQwpB,IAClC9B,EAAY4N,EAAM9L,IAAKwK,SAAQ,SAASjvB,GAAS,OAAO3E,EAAIulC,IAAI5gC,EAAM,GAE1E,IANSwC,KAAK8K,YAAYijB,EAAM,GAOlC,EAEA7M,GAAIpe,UAAU27B,UAAY,WAAY,IAAI1Q,EAAQ1O,EAAQzb,KAAK9K,UAAW,GACxE,GAAqB,IAAjBi1B,EAAMt1B,OACR,OAAOuH,KAET+tB,EAAQA,EAAM73B,KAAI,SAASisB,GAAQ,OAAOhC,EAAYgC,EAAK,IAC3D,IAAIuc,EAAc1+B,KAClB,OAAOA,KAAKwsB,eAAc,SAAS3zB,GACjC6lC,EAAYjS,SAAQ,SAASjvB,GACtBuwB,EAAMlF,OAAM,SAAS1G,GAAQ,OAAOA,EAAKzX,SAASlN,EAAM,KAC3D3E,EAAIm0B,OAAOxvB,EAEf,GACF,GACF,EAEA0jB,GAAIpe,UAAU67B,SAAW,WAAY,IAAI5Q,EAAQ1O,EAAQzb,KAAK9K,UAAW,GACvE,GAAqB,IAAjBi1B,EAAMt1B,OACR,OAAOuH,KAET+tB,EAAQA,EAAM73B,KAAI,SAASisB,GAAQ,OAAOhC,EAAYgC,EAAK,IAC3D,IAAIuc,EAAc1+B,KAClB,OAAOA,KAAKwsB,eAAc,SAAS3zB,GACjC6lC,EAAYjS,SAAQ,SAASjvB,GACvBuwB,EAAMjb,MAAK,SAASqP,GAAQ,OAAOA,EAAKzX,SAASlN,EAAM,KACzD3E,EAAIm0B,OAAOxvB,EAEf,GACF,GACF,EAEA0jB,GAAIpe,UAAU4qB,MAAQ,WACpB,OAAO1tB,KAAKw+B,MAAMt6B,MAAMlE,KAAMlH,UAChC,EAEAooB,GAAIpe,UAAU8qB,UAAY,SAASC,GAAS,IAAIE,EAAQ1O,EAAQzb,KAAK9K,UAAW,GAC9E,OAAOkH,KAAKw+B,MAAMt6B,MAAMlE,KAAM+tB,EAChC,EAEA7M,GAAIpe,UAAUurB,KAAO,SAASC,GAE5B,OAAOsQ,GAAWpQ,GAAYxuB,KAAMsuB,GACtC,EAEApN,GAAIpe,UAAU2rB,OAAS,SAASC,EAAQJ,GAEtC,OAAOsQ,GAAWpQ,GAAYxuB,KAAMsuB,EAAYI,GAClD,EAEAxN,GAAIpe,UAAU+rB,WAAa,WACzB,OAAO7uB,KAAKi4B,KAAKpJ,YACnB,EAEA3N,GAAIpe,UAAUuf,UAAY,SAAS7T,EAAIjW,GAAU,IAAI8wB,EAASrpB,KAC5D,OAAOA,KAAKi4B,KAAK5V,WAAU,SAASpQ,EAAGc,GAAK,OAAOvE,EAAGuE,EAAGA,EAAGsW,EAAO,GAAG9wB,EACxE,EAEA2oB,GAAIpe,UAAU0iB,WAAa,SAASza,EAAMxS,GACxC,OAAOyH,KAAKi4B,KAAK/hC,KAAI,SAAS+b,EAAGc,GAAK,OAAOA,CAAC,IAAGyS,WAAWza,EAAMxS,EACpE,EAEA2oB,GAAIpe,UAAUgsB,cAAgB,SAASI,GACrC,GAAIA,IAAYlvB,KAAKwtB,UACnB,OAAOxtB,KAET,IAAIo4B,EAASp4B,KAAKi4B,KAAKnJ,cAAcI,GACrC,IAAKA,EAAS,CACZlvB,KAAKwtB,UAAY0B,EACjBlvB,KAAKi4B,KAAOG,EACZ,OAAOp4B,IACT,CACA,OAAOA,KAAK6+B,OAAOzG,EAAQlJ,EAC7B,EAGF,SAASiP,GAAMW,GACb,SAAUA,IAAYA,EAASC,IACjC,CAEA7d,GAAIid,MAAQA,GAEZ,IAiCIa,GAjCAD,GAAkB,wBAElBE,GAAe/d,GAAIpe,UACvBm8B,GAAaF,KAAmB,EAChCE,GAAa9d,GAAU8d,GAAajS,OACpCiS,GAAajR,UAAYiR,GAAavR,MACtCuR,GAAa/Q,cAAgB+Q,GAAarR,UAC1CqR,GAAazS,cAAgB+C,GAAa/C,cAC1CyS,GAAarQ,UAAYW,GAAaX,UACtCqQ,GAAalQ,YAAcQ,GAAaR,YAExCkQ,GAAaC,QAAUhB,GACvBe,GAAaJ,OAASM,GAEtB,SAASZ,GAAU1lC,EAAKu/B,GACtB,GAAIv/B,EAAI20B,UAAW,CACjB30B,EAAIupB,KAAOgW,EAAOhW,KAClBvpB,EAAIo/B,KAAOG,EACX,OAAOv/B,CACT,CACA,OAAOu/B,IAAWv/B,EAAIo/B,KAAOp/B,EACX,IAAhBu/B,EAAOhW,KAAavpB,EAAIqmC,UACxBrmC,EAAIgmC,OAAOzG,EACf,CAEA,SAAS+G,GAAQjpC,EAAKg5B,GACpB,IAAIr2B,EAAM7C,OAAOypB,OAAOwf,IACxBpmC,EAAIupB,KAAOlsB,EAAMA,EAAIksB,KAAO,EAC5BvpB,EAAIo/B,KAAO/hC,EACX2C,EAAI20B,UAAY0B,EAChB,OAAOr2B,CACT,CAGA,SAASqlC,KACP,OAAOc,KAAcA,GAAYG,GAAQ7S,MAC3C,CAEAhN,EAAYsf,GAAY1d,IAItB,SAAS0d,GAAWphC,GAClB,OAAOA,QAAwC4hC,KAC7CC,GAAa7hC,GAASA,EACtB4hC,KAAkB5S,eAAc,SAAS3zB,GACvC,IAAIspB,EAAOhC,EAAY3iB,GACvB4uB,GAAkBjK,EAAKC,MACvBD,EAAKsK,SAAQ,SAAS5T,GAAK,OAAOhgB,EAAIulC,IAAIvlB,EAAE,GAC9C,GACJ,CAEA+lB,GAAW5Z,GAAK,WACd,OAAOhlB,KAAKlH,UACd,EAEA8lC,GAAWP,SAAW,SAAS7gC,GAC7B,OAAOwC,KAAK6f,EAAcriB,GAAO8gC,SACnC,EAEAM,GAAW97B,UAAUa,SAAW,WAC9B,OAAO3D,KAAKilB,WAAW,eAAgB,IACzC,EAGF,SAASoa,GAAaC,GACpB,OAAOnB,GAAMmB,IAAoBze,EAAUye,EAC7C,CAEAV,GAAWS,aAAeA,GAE1B,IAcIE,GAdAC,GAAsBZ,GAAW97B,UACrC08B,GAAoBze,IAAuB,EAE3Cye,GAAoBN,QAAUE,GAC9BI,GAAoBX,OAASY,GAE7B,SAASA,GAAevpC,EAAKg5B,GAC3B,IAAIr2B,EAAM7C,OAAOypB,OAAO+f,IACxB3mC,EAAIupB,KAAOlsB,EAAMA,EAAIksB,KAAO,EAC5BvpB,EAAIo/B,KAAO/hC,EACX2C,EAAI20B,UAAY0B,EAChB,OAAOr2B,CACT,CAGA,SAASumC,KACP,OAAOG,KAAsBA,GAAoBE,GAAe1H,MAClE,CAEAzY,EAAYogB,GAAOrV,IAIjB,SAASqV,GAAMliC,GACb,OAAOA,QAAwCmiC,KAC7CC,GAAQpiC,GAASA,EACjBmiC,KAAaE,WAAWriC,EAC5B,CAEAkiC,GAAM1a,GAAK,WACT,OAAOhlB,KAAKlH,UACd,EAEA4mC,GAAM58B,UAAUa,SAAW,WACzB,OAAO3D,KAAKilB,WAAW,UAAW,IACpC,EAIAya,GAAM58B,UAAU7K,IAAM,SAASuqB,EAAOgE,GACpC,IAAI7c,EAAO3J,KAAK8/B,MAChBtd,EAAQD,EAAUviB,KAAMwiB,GACxB,KAAO7Y,GAAQ6Y,KACb7Y,EAAOA,EAAKga,KAEd,OAAOha,EAAOA,EAAKnM,MAAQgpB,CAC7B,EAEAkZ,GAAM58B,UAAUi9B,KAAO,WACrB,OAAO//B,KAAK8/B,OAAS9/B,KAAK8/B,MAAMtiC,KAClC,EAIAkiC,GAAM58B,UAAU5F,KAAO,WACrB,GAAyB,IAArBpE,UAAUL,OACZ,OAAOuH,KAIT,IAFA,IAAIuyB,EAAUvyB,KAAKoiB,KAAOtpB,UAAUL,OAChCkR,EAAO3J,KAAK8/B,MACP7d,EAAKnpB,UAAUL,OAAS,EAAGwpB,GAAM,EAAGA,IAC3CtY,EAAO,CACLnM,MAAO1E,UAAUmpB,GACjB0B,KAAMha,GAGV,GAAI3J,KAAKwtB,UAAW,CAClBxtB,KAAKoiB,KAAOmQ,EACZvyB,KAAK8/B,MAAQn2B,EACb3J,KAAK2oB,YAAS9wB,EACdmI,KAAKytB,WAAY,EACjB,OAAOztB,IACT,CACA,OAAOggC,GAAUzN,EAAS5oB,EAC5B,EAEA+1B,GAAM58B,UAAUm9B,QAAU,SAAS9d,GAEjC,GAAkB,KADlBA,EAAOnC,EAAgBmC,IACdC,KACP,OAAOpiB,KAETosB,GAAkBjK,EAAKC,MACvB,IAAImQ,EAAUvyB,KAAKoiB,KACfzY,EAAO3J,KAAK8/B,MAChB3d,EAAK5pB,UAAUk0B,SAAQ,SAASjvB,GAC9B+0B,IACA5oB,EAAO,CACLnM,MAAOA,EACPmmB,KAAMha,EAEV,IACA,GAAI3J,KAAKwtB,UAAW,CAClBxtB,KAAKoiB,KAAOmQ,EACZvyB,KAAK8/B,MAAQn2B,EACb3J,KAAK2oB,YAAS9wB,EACdmI,KAAKytB,WAAY,EACjB,OAAOztB,IACT,CACA,OAAOggC,GAAUzN,EAAS5oB,EAC5B,EAEA+1B,GAAM58B,UAAUstB,IAAM,WACpB,OAAOpwB,KAAKqI,MAAM,EACpB,EAEAq3B,GAAM58B,UAAU4Z,QAAU,WACxB,OAAO1c,KAAK9C,KAAKgH,MAAMlE,KAAMlH,UAC/B,EAEA4mC,GAAM58B,UAAU+8B,WAAa,SAAS1d,GACpC,OAAOniB,KAAKigC,QAAQ9d,EACtB,EAEAud,GAAM58B,UAAUoF,MAAQ,WACtB,OAAOlI,KAAKowB,IAAIlsB,MAAMlE,KAAMlH,UAC9B,EAEA4mC,GAAM58B,UAAUyqB,MAAQ,WACtB,GAAkB,IAAdvtB,KAAKoiB,KACP,OAAOpiB,KAET,GAAIA,KAAKwtB,UAAW,CAClBxtB,KAAKoiB,KAAO,EACZpiB,KAAK8/B,WAAQjoC,EACbmI,KAAK2oB,YAAS9wB,EACdmI,KAAKytB,WAAY,EACjB,OAAOztB,IACT,CACA,OAAO2/B,IACT,EAEAD,GAAM58B,UAAUuF,MAAQ,SAASua,EAAOC,GACtC,GAAIF,EAAWC,EAAOC,EAAK7iB,KAAKoiB,MAC9B,OAAOpiB,KAET,IAAIy6B,EAAgB3X,EAAaF,EAAO5iB,KAAKoiB,MAE7C,GADkBY,EAAWH,EAAK7iB,KAAKoiB,QACnBpiB,KAAKoiB,KAEvB,OAAOiI,GAAkBvnB,UAAUuF,MAAMzE,KAAK5D,KAAM4iB,EAAOC,GAI7D,IAFA,IAAI0P,EAAUvyB,KAAKoiB,KAAOqY,EACtB9wB,EAAO3J,KAAK8/B,MACTrF,KACL9wB,EAAOA,EAAKga,KAEd,GAAI3jB,KAAKwtB,UAAW,CAClBxtB,KAAKoiB,KAAOmQ,EACZvyB,KAAK8/B,MAAQn2B,EACb3J,KAAK2oB,YAAS9wB,EACdmI,KAAKytB,WAAY,EACjB,OAAOztB,IACT,CACA,OAAOggC,GAAUzN,EAAS5oB,EAC5B,EAIA+1B,GAAM58B,UAAUgsB,cAAgB,SAASI,GACvC,GAAIA,IAAYlvB,KAAKwtB,UACnB,OAAOxtB,KAET,IAAKkvB,EAAS,CACZlvB,KAAKwtB,UAAY0B,EACjBlvB,KAAKytB,WAAY,EACjB,OAAOztB,IACT,CACA,OAAOggC,GAAUhgC,KAAKoiB,KAAMpiB,KAAK8/B,MAAO5Q,EAASlvB,KAAK2oB,OACxD,EAIA+W,GAAM58B,UAAUuf,UAAY,SAAS7T,EAAIjW,GACvC,GAAIA,EACF,OAAOyH,KAAKzH,UAAU8pB,UAAU7T,GAIlC,IAFA,IAAIuY,EAAa,EACbiF,EAAOhsB,KAAK8/B,MACT9T,IACsC,IAAvCxd,EAAGwd,EAAKxuB,MAAOupB,IAAc/mB,OAGjCgsB,EAAOA,EAAKrI,KAEd,OAAOoD,CACT,EAEA2Y,GAAM58B,UAAU0iB,WAAa,SAASza,EAAMxS,GAC1C,GAAIA,EACF,OAAOyH,KAAKzH,UAAUitB,WAAWza,GAEnC,IAAIgc,EAAa,EACbiF,EAAOhsB,KAAK8/B,MAChB,OAAO,IAAIpc,GAAS,WAClB,GAAIsI,EAAM,CACR,IAAIxuB,EAAQwuB,EAAKxuB,MACjBwuB,EAAOA,EAAKrI,KACZ,OAAOM,EAAclZ,EAAMgc,IAAcvpB,EAC3C,CACA,OAAO4mB,GACT,GACF,EAGF,SAASwb,GAAQM,GACf,SAAUA,IAAcA,EAAWC,IACrC,CAEAT,GAAME,QAAUA,GAEhB,IAoBIQ,GApBAD,GAAoB,0BAEpBE,GAAiBX,GAAM58B,UAC3Bu9B,GAAeF,KAAqB,EACpCE,GAAe7T,cAAgB+C,GAAa/C,cAC5C6T,GAAezR,UAAYW,GAAaX,UACxCyR,GAAetR,YAAcQ,GAAaR,YAC1CsR,GAAexR,WAAaU,GAAaV,WAGzC,SAASmR,GAAU5d,EAAMzY,EAAMulB,EAASjV,GACtC,IAAI/jB,EAAMF,OAAOypB,OAAO4gB,IACxBnqC,EAAIksB,KAAOA,EACXlsB,EAAI4pC,MAAQn2B,EACZzT,EAAIs3B,UAAY0B,EAChBh5B,EAAIyyB,OAAS1O,EACb/jB,EAAIu3B,WAAY,EAChB,OAAOv3B,CACT,CAGA,SAASypC,KACP,OAAOS,KAAgBA,GAAcJ,GAAU,GACjD,CAKA,SAASM,GAAM/gB,EAAMghB,GACnB,IAAIC,EAAY,SAAS5pC,GAAQ2oB,EAAKzc,UAAUlM,GAAO2pC,EAAQ3pC,EAAM,EACrEZ,OAAO8B,KAAKyoC,GAAS9T,QAAQ+T,GAC7BxqC,OAAOyqC,uBACLzqC,OAAOyqC,sBAAsBF,GAAS9T,QAAQ+T,GAChD,OAAOjhB,CACT,CAEAG,EAASgE,SAAWA,EAEpB4c,GAAM5gB,EAAU,CAId4F,QAAS,WACP8G,GAAkBpsB,KAAKoiB,MACvB,IAAIkE,EAAQ,IAAI5X,MAAM1O,KAAKoiB,MAAQ,GACnCpiB,KAAK84B,WAAWzW,WAAU,SAASxJ,EAAGrgB,GAAM8tB,EAAM9tB,GAAKqgB,CAAG,IAC1D,OAAOyN,CACT,EAEAT,aAAc,WACZ,OAAO,IAAIuT,GAAkBp5B,KAC/B,EAEA0gC,KAAM,WACJ,OAAO1gC,KAAK8kB,QAAQ5uB,KAClB,SAASsH,GAAS,OAAOA,GAA+B,mBAAfA,EAAMkjC,KAAsBljC,EAAMkjC,OAASljC,CAAK,IACzFmjC,QACJ,EAEAC,OAAQ,WACN,OAAO5gC,KAAK8kB,QAAQ5uB,KAClB,SAASsH,GAAS,OAAOA,GAAiC,mBAAjBA,EAAMojC,OAAwBpjC,EAAMojC,SAAWpjC,CAAK,IAC7FmjC,QACJ,EAEAjb,WAAY,WACV,OAAO,IAAIgT,GAAgB14B,MAAM,EACnC,EAEAooB,MAAO,WAEL,OAAOiE,GAAIrsB,KAAK0lB,aAClB,EAEAmb,SAAU,WACRzU,GAAkBpsB,KAAKoiB,MACvB,IAAIvK,EAAS,CAAC,EACd7X,KAAKqiB,WAAU,SAASxJ,EAAG9F,GAAM8E,EAAO9E,GAAK8F,CAAG,IAChD,OAAOhB,CACT,EAEAipB,aAAc,WAEZ,OAAOvS,GAAWvuB,KAAK0lB,aACzB,EAEAqb,aAAc,WAEZ,OAAOnC,GAAW9e,EAAQ9f,MAAQA,KAAK84B,WAAa94B,KACtD,EAEAghC,MAAO,WAEL,OAAO9f,GAAIpB,EAAQ9f,MAAQA,KAAK84B,WAAa94B,KAC/C,EAEA+lB,SAAU,WACR,OAAO,IAAIsT,GAAcr5B,KAC3B,EAEA8kB,MAAO,WACL,OAAO7E,EAAUjgB,MAAQA,KAAK6lB,eAC5B/F,EAAQ9f,MAAQA,KAAK0lB,aACrB1lB,KAAK+lB,UACT,EAEAkb,QAAS,WAEP,OAAOvB,GAAM5f,EAAQ9f,MAAQA,KAAK84B,WAAa94B,KACjD,EAEAmoB,OAAQ,WAEN,OAAO8L,GAAKnU,EAAQ9f,MAAQA,KAAK84B,WAAa94B,KAChD,EAKA2D,SAAU,WACR,MAAO,YACT,EAEAshB,WAAY,SAAStb,EAAM4sB,GACzB,OAAkB,IAAdv2B,KAAKoiB,KACAzY,EAAO4sB,EAET5sB,EAAO,IAAM3J,KAAK8kB,QAAQ5uB,IAAI8J,KAAKkhC,kBAAkBzrC,KAAK,MAAQ,IAAM8gC,CACjF,EAKAnkB,OAAQ,WACN,OAAOkoB,GAAMt6B,KAAMs7B,GAAct7B,KADFqf,EAAQzb,KAAK9K,UAAW,IAEzD,EAEA4R,SAAU,SAAS0e,GACjB,OAAOppB,KAAK8S,MAAK,SAAStV,GAAS,OAAO6qB,GAAG7qB,EAAO4rB,EAAY,GAClE,EAEAnzB,QAAS,WACP,OAAO+J,KAAKwlB,WAAWpC,EACzB,EAEAyF,MAAO,SAASiR,EAAW9+B,GACzBoxB,GAAkBpsB,KAAKoiB,MACvB,IAAI+e,GAAc,EAClBnhC,KAAKqiB,WAAU,SAASxJ,EAAG9F,EAAG+F,GAC5B,IAAKghB,EAAUl2B,KAAK5I,EAAS6d,EAAG9F,EAAG+F,GAAI,CACrCqoB,GAAc,EACd,OAAO,CACT,CACF,IACA,OAAOA,CACT,EAEA/N,OAAQ,SAAS0G,EAAW9+B,GAC1B,OAAOs/B,GAAMt6B,KAAM65B,GAAc75B,KAAM85B,EAAW9+B,GAAS,GAC7D,EAEAjD,KAAM,SAAS+hC,EAAW9+B,EAASwrB,GACjC,IAAInI,EAAQre,KAAKohC,UAAUtH,EAAW9+B,GACtC,OAAOqjB,EAAQA,EAAM,GAAKmI,CAC5B,EAEAiG,QAAS,SAAS4U,EAAYrmC,GAC5BoxB,GAAkBpsB,KAAKoiB,MACvB,OAAOpiB,KAAKqiB,UAAUrnB,EAAUqmC,EAAWxmC,KAAKG,GAAWqmC,EAC7D,EAEA5rC,KAAM,SAASoH,GACbuvB,GAAkBpsB,KAAKoiB,MACvBvlB,OAA0BhF,IAAdgF,EAA0B,GAAKA,EAAY,IACvD,IAAIykC,EAAS,GACTC,GAAU,EACdvhC,KAAKqiB,WAAU,SAASxJ,GACtB0oB,EAAWA,GAAU,EAAUD,GAAUzkC,EACzCykC,GAAUzoB,QAAgCA,EAAElV,WAAa,EAC3D,IACA,OAAO29B,CACT,EAEAxpC,KAAM,WACJ,OAAOkI,KAAKwlB,WAAWtC,EACzB,EAEAhtB,IAAK,SAASw4B,EAAQ1zB,GACpB,OAAOs/B,GAAMt6B,KAAMk5B,GAAWl5B,KAAM0uB,EAAQ1zB,GAC9C,EAEA2gC,OAAQ,SAAS6F,EAASC,EAAkBzmC,GAC1CoxB,GAAkBpsB,KAAKoiB,MACvB,IAAIsf,EACAC,EACA7oC,UAAUL,OAAS,EACrBkpC,GAAW,EAEXD,EAAYD,EAEdzhC,KAAKqiB,WAAU,SAASxJ,EAAG9F,EAAG+F,GAC5B,GAAI6oB,EAAU,CACZA,GAAW,EACXD,EAAY7oB,CACd,MACE6oB,EAAYF,EAAQ59B,KAAK5I,EAAS0mC,EAAW7oB,EAAG9F,EAAG+F,EAEvD,IACA,OAAO4oB,CACT,EAEAE,YAAa,SAASJ,EAASC,EAAkBzmC,GAC/C,IAAI6mC,EAAW7hC,KAAK0lB,aAAantB,UACjC,OAAOspC,EAASlG,OAAOz3B,MAAM29B,EAAU/oC,UACzC,EAEAP,QAAS,WACP,OAAO+hC,GAAMt6B,KAAMg5B,GAAeh5B,MAAM,GAC1C,EAEAqI,MAAO,SAASua,EAAOC,GACrB,OAAOyX,GAAMt6B,KAAMu6B,GAAav6B,KAAM4iB,EAAOC,GAAK,GACpD,EAEA/P,KAAM,SAASgnB,EAAW9+B,GACxB,OAAQgF,KAAK6oB,MAAMiZ,GAAIhI,GAAY9+B,EACrC,EAEAqzB,KAAM,SAASC,GACb,OAAOgM,GAAMt6B,KAAMwuB,GAAYxuB,KAAMsuB,GACvC,EAEAhb,OAAQ,WACN,OAAOtT,KAAKwlB,WAAWrC,EACzB,EAKA4e,QAAS,WACP,OAAO/hC,KAAKqI,MAAM,GAAI,EACxB,EAEA25B,QAAS,WACP,YAAqBnqC,IAAdmI,KAAKoiB,KAAmC,IAAdpiB,KAAKoiB,MAAcpiB,KAAK8S,MAAK,WAAa,OAAO,CAAI,GACxF,EAEAue,MAAO,SAASyI,EAAW9+B,GACzB,OAAOknB,EACL4X,EAAY95B,KAAK8kB,QAAQsO,OAAO0G,EAAW9+B,GAAWgF,KAE1D,EAEAiiC,QAAS,SAAShI,EAASj/B,GACzB,OAAOg/B,GAAeh6B,KAAMi6B,EAASj/B,EACvC,EAEAytB,OAAQ,SAASa,GACf,OAAOZ,GAAU1oB,KAAMspB,EACzB,EAEAjE,SAAU,WACR,IAAIX,EAAW1kB,KACf,GAAI0kB,EAASS,OAEX,OAAO,IAAIkB,GAAS3B,EAASS,QAE/B,IAAI+c,EAAkBxd,EAASI,QAAQ5uB,IAAIisC,IAAatc,eACxDqc,EAAgBvc,aAAe,WAAa,OAAOjB,EAASI,OAAO,EACnE,OAAOod,CACT,EAEAE,UAAW,SAAStI,EAAW9+B,GAC7B,OAAOgF,KAAKozB,OAAO0O,GAAIhI,GAAY9+B,EACrC,EAEAomC,UAAW,SAAStH,EAAW9+B,EAASwrB,GACtC,IAAI6b,EAAQ7b,EACZxmB,KAAKqiB,WAAU,SAASxJ,EAAG9F,EAAG+F,GAC5B,GAAIghB,EAAUl2B,KAAK5I,EAAS6d,EAAG9F,EAAG+F,GAAI,CACpCupB,EAAQ,CAACtvB,EAAG8F,GACZ,OAAO,CACT,CACF,IACA,OAAOwpB,CACT,EAEAC,QAAS,SAASxI,EAAW9+B,GAC3B,IAAIqjB,EAAQre,KAAKohC,UAAUtH,EAAW9+B,GACtC,OAAOqjB,GAASA,EAAM,EACxB,EAEAkkB,SAAU,SAASzI,EAAW9+B,EAASwrB,GACrC,OAAOxmB,KAAK0lB,aAAantB,UAAUR,KAAK+hC,EAAW9+B,EAASwrB,EAC9D,EAEAgc,cAAe,SAAS1I,EAAW9+B,EAASwrB,GAC1C,OAAOxmB,KAAK0lB,aAAantB,UAAU6oC,UAAUtH,EAAW9+B,EAASwrB,EACnE,EAEAic,YAAa,SAAS3I,EAAW9+B,GAC/B,OAAOgF,KAAK0lB,aAAantB,UAAU+pC,QAAQxI,EAAW9+B,EACxD,EAEA0nC,MAAO,WACL,OAAO1iC,KAAKjI,KAAKuqB,EACnB,EAEAqgB,QAAS,SAASjU,EAAQ1zB,GACxB,OAAOs/B,GAAMt6B,KAAMk8B,GAAel8B,KAAM0uB,EAAQ1zB,GAClD,EAEA0gC,QAAS,SAASrvB,GAChB,OAAOiuB,GAAMt6B,KAAM67B,GAAe77B,KAAMqM,GAAO,GACjD,EAEAsZ,aAAc,WACZ,OAAO,IAAI2T,GAAoBt5B,KACjC,EAEA/H,IAAK,SAAS2qC,EAAWpc,GACvB,OAAOxmB,KAAKjI,MAAK,SAASka,EAAGrb,GAAO,OAAOyxB,GAAGzxB,EAAKgsC,EAAU,QAAG/qC,EAAW2uB,EAC7E,EAEAqc,MAAO,SAASC,EAAetc,GAM7B,IALA,IAIIQ,EAJA+b,EAAS/iC,KAGTmiB,EAAOmL,GAAcwV,KAEhB9b,EAAO7E,EAAKwB,QAAQQ,MAAM,CACjC,IAAIvtB,EAAMowB,EAAKxpB,MAEf,IADAulC,EAASA,GAAUA,EAAO9qC,IAAM8qC,EAAO9qC,IAAIrB,EAAK2qB,GAAWA,KAC5CA,EACb,OAAOiF,CAEX,CACA,OAAOuc,CACT,EAEAC,QAAS,SAAS/I,EAASj/B,GACzB,OAAOk/B,GAAel6B,KAAMi6B,EAASj/B,EACvC,EAEAgf,IAAK,SAAS4oB,GACZ,OAAO5iC,KAAK/H,IAAI2qC,EAAWrhB,KAAaA,CAC1C,EAEA0hB,MAAO,SAASH,GACd,OAAO9iC,KAAK6iC,MAAMC,EAAevhB,KAAaA,CAChD,EAEA2hB,SAAU,SAAS/gB,GACjBA,EAAgC,mBAAlBA,EAAKzX,SAA0ByX,EAAOzC,EAASyC,GAC7D,OAAOniB,KAAK6oB,OAAM,SAASrrB,GAAS,OAAO2kB,EAAKzX,SAASlN,EAAM,GACjE,EAEA2lC,WAAY,SAAShhB,GAEnB,OADAA,EAAgC,mBAAlBA,EAAK+gB,SAA0B/gB,EAAOzC,EAASyC,IACjD+gB,SAASljC,KACvB,EAEAojC,MAAO,SAASha,GACd,OAAOppB,KAAKsiC,SAAQ,SAAS9kC,GAAS,OAAO6qB,GAAG7qB,EAAO4rB,EAAY,GACrE,EAEAkV,OAAQ,WACN,OAAOt+B,KAAK8kB,QAAQ5uB,IAAImtC,IAAWxd,cACrC,EAEAxR,KAAM,WACJ,OAAOrU,KAAK8kB,QAAQvsB,UAAUmqC,OAChC,EAEAY,UAAW,SAASla,GAClB,OAAOppB,KAAK0lB,aAAantB,UAAU6qC,MAAMha,EAC3C,EAEA9lB,IAAK,SAASgrB,GACZ,OAAOgO,GAAWt8B,KAAMsuB,EAC1B,EAEAiV,MAAO,SAAS7U,EAAQJ,GACtB,OAAOgO,GAAWt8B,KAAMsuB,EAAYI,EACtC,EAEAnrB,IAAK,SAAS+qB,GACZ,OAAOgO,GAAWt8B,KAAMsuB,EAAakV,GAAIlV,GAAcmV,GACzD,EAEAC,MAAO,SAAShV,EAAQJ,GACtB,OAAOgO,GAAWt8B,KAAMsuB,EAAakV,GAAIlV,GAAcmV,GAAsB/U,EAC/E,EAEAiV,KAAM,WACJ,OAAO3jC,KAAKqI,MAAM,EACpB,EAEAu7B,KAAM,SAASC,GACb,OAAO7jC,KAAKqI,MAAMhF,KAAKC,IAAI,EAAGugC,GAChC,EAEAC,SAAU,SAASD,GACjB,OAAOvJ,GAAMt6B,KAAMA,KAAK8kB,QAAQvsB,UAAUqrC,KAAKC,GAAQtrC,UACzD,EAEAwrC,UAAW,SAASjK,EAAW9+B,GAC7B,OAAOs/B,GAAMt6B,KAAMm7B,GAAiBn7B,KAAM85B,EAAW9+B,GAAS,GAChE,EAEAgpC,UAAW,SAASlK,EAAW9+B,GAC7B,OAAOgF,KAAK+jC,UAAUjC,GAAIhI,GAAY9+B,EACxC,EAEAyzB,OAAQ,SAASC,EAAQJ,GACvB,OAAOgM,GAAMt6B,KAAMwuB,GAAYxuB,KAAMsuB,EAAYI,GACnD,EAEAuV,KAAM,SAASJ,GACb,OAAO7jC,KAAKqI,MAAM,EAAGhF,KAAKC,IAAI,EAAGugC,GACnC,EAEAK,SAAU,SAASL,GACjB,OAAOvJ,GAAMt6B,KAAMA,KAAK8kB,QAAQvsB,UAAU0rC,KAAKJ,GAAQtrC,UACzD,EAEA4rC,UAAW,SAASrK,EAAW9+B,GAC7B,OAAOs/B,GAAMt6B,KAAMg7B,GAAiBh7B,KAAM85B,EAAW9+B,GACvD,EAEAopC,UAAW,SAAStK,EAAW9+B,GAC7B,OAAOgF,KAAKmkC,UAAUrC,GAAIhI,GAAY9+B,EACxC,EAEA89B,SAAU,WACR,OAAO94B,KAAK6lB,cACd,EAKAkF,SAAU,WACR,OAAO/qB,KAAK2oB,SAAW3oB,KAAK2oB,OAAS0b,GAAarkC,MACpD,IAeF,IAAIskC,GAAoB5kB,EAAS5c,UACjCwhC,GAAkB/jB,IAAwB,EAC1C+jB,GAAkB7gB,GAAmB6gB,GAAkBhxB,OACvDgxB,GAAkB3D,OAAS2D,GAAkBhf,QAC7Cgf,GAAkBpD,iBAAmBqD,GACrCD,GAAkBvgB,QAClBugB,GAAkBtgB,SAAW,WAAa,OAAOhkB,KAAK2D,UAAY,EAClE2gC,GAAkBE,MAAQF,GAAkB3B,QAC5C2B,GAAkBG,SAAWH,GAAkB55B,SAE/C41B,GAAMzgB,EAAe,CAInB4Y,KAAM,WACJ,OAAO6B,GAAMt6B,KAAM05B,GAAY15B,MACjC,EAEA0kC,WAAY,SAAShW,EAAQ1zB,GAAU,IAAIquB,EAASrpB,KAC9C+mB,EAAa,EACjB,OAAOuT,GAAMt6B,KACXA,KAAK8kB,QAAQ5uB,KACX,SAAS2iB,EAAG9F,GAAK,OAAO2b,EAAO9qB,KAAK5I,EAAS,CAAC+X,EAAG8F,GAAIkO,IAAcsC,EAAO,IAC1E1D,eAEN,EAEAgf,QAAS,SAASjW,EAAQ1zB,GAAU,IAAIquB,EAASrpB,KAC/C,OAAOs6B,GAAMt6B,KACXA,KAAK8kB,QAAQ2T,OAAOviC,KAClB,SAAS6c,EAAG8F,GAAK,OAAO6V,EAAO9qB,KAAK5I,EAAS+X,EAAG8F,EAAGwQ,EAAO,IAC1DoP,OAEN,IAIF,IAAImM,GAAyB/kB,EAAc/c,UAC3C8hC,GAAuBnkB,IAAqB,EAC5CmkB,GAAuBnhB,GAAmB6gB,GAAkBruC,QAC5D2uC,GAAuBjE,OAAS2D,GAAkBzD,SAClD+D,GAAuB1D,iBAAmB,SAASroB,EAAG9F,GAAK,OAAOjZ,KAAKC,UAAUgZ,GAAK,KAAOwxB,GAAY1rB,EAAE,EAI3GynB,GAAMtgB,EAAiB,CAIrB0F,WAAY,WACV,OAAO,IAAIgT,GAAgB14B,MAAM,EACnC,EAKAozB,OAAQ,SAAS0G,EAAW9+B,GAC1B,OAAOs/B,GAAMt6B,KAAM65B,GAAc75B,KAAM85B,EAAW9+B,GAAS,GAC7D,EAEA6pC,UAAW,SAAS/K,EAAW9+B,GAC7B,IAAIqjB,EAAQre,KAAKohC,UAAUtH,EAAW9+B,GACtC,OAAOqjB,EAAQA,EAAM,IAAM,CAC7B,EAEAtO,QAAS,SAASqZ,GAChB,IAAIxyB,EAAMoJ,KAAKojC,MAAMha,GACrB,YAAevxB,IAARjB,GAAqB,EAAIA,CAClC,EAEA8N,YAAa,SAAS0kB,GACpB,IAAIxyB,EAAMoJ,KAAKsjC,UAAUla,GACzB,YAAevxB,IAARjB,GAAqB,EAAIA,CAClC,EAEA2B,QAAS,WACP,OAAO+hC,GAAMt6B,KAAMg5B,GAAeh5B,MAAM,GAC1C,EAEAqI,MAAO,SAASua,EAAOC,GACrB,OAAOyX,GAAMt6B,KAAMu6B,GAAav6B,KAAM4iB,EAAOC,GAAK,GACpD,EAEA7H,OAAQ,SAASwH,EAAOsiB,GACtB,IAAIC,EAAUjsC,UAAUL,OACxBqsC,EAAYzhC,KAAKC,IAAgB,EAAZwhC,EAAe,GACpC,GAAgB,IAAZC,GAA8B,IAAZA,IAAkBD,EACtC,OAAO9kC,KAKTwiB,EAAQM,EAAaN,EAAOA,EAAQ,EAAIxiB,KAAKqxB,QAAUrxB,KAAKoiB,MAC5D,IAAI4iB,EAAUhlC,KAAKqI,MAAM,EAAGma,GAC5B,OAAO8X,GACLt6B,KACY,IAAZ+kC,EACEC,EACAA,EAAQ5yB,OAAO0P,EAAQhpB,UAAW,GAAIkH,KAAKqI,MAAMma,EAAQsiB,IAE/D,EAKAG,cAAe,SAASnL,EAAW9+B,GACjC,IAAIqjB,EAAQre,KAAKwiC,cAAc1I,EAAW9+B,GAC1C,OAAOqjB,EAAQA,EAAM,IAAM,CAC7B,EAEAqkB,MAAO,WACL,OAAO1iC,KAAK/H,IAAI,EAClB,EAEAyjC,QAAS,SAASrvB,GAChB,OAAOiuB,GAAMt6B,KAAM67B,GAAe77B,KAAMqM,GAAO,GACjD,EAEApU,IAAK,SAASuqB,EAAOgE,GAEnB,OADAhE,EAAQD,EAAUviB,KAAMwiB,IACR,GAAMxiB,KAAKoiB,OAASpE,UACjBnmB,IAAdmI,KAAKoiB,MAAsBI,EAAQxiB,KAAKoiB,KAC3CoE,EACAxmB,KAAKjI,MAAK,SAASka,EAAGrb,GAAO,OAAOA,IAAQ4rB,CAAK,QAAG3qB,EAAW2uB,EACnE,EAEAxM,IAAK,SAASwI,GAEZ,OADAA,EAAQD,EAAUviB,KAAMwiB,KACR,SAAoB3qB,IAAdmI,KAAKoiB,KACzBpiB,KAAKoiB,OAASpE,KAAYwE,EAAQxiB,KAAKoiB,MACd,IAAzBpiB,KAAK+P,QAAQyS,GAEjB,EAEA0iB,UAAW,SAASroC,GAClB,OAAOy9B,GAAMt6B,KAAMm8B,GAAiBn8B,KAAMnD,GAC5C,EAEAsoC,WAAY,WACV,IAAIpS,EAAY,CAAC/yB,MAAMoS,OAAO0P,EAAQhpB,YAClCssC,EAAS3I,GAAez8B,KAAK8kB,QAAS5E,EAAW8E,GAAI+N,GACrDsS,EAAcD,EAAO1J,SAAQ,GAC7B0J,EAAOhjB,OACTijB,EAAYjjB,KAAOgjB,EAAOhjB,KAAO2Q,EAAUt6B,QAE7C,OAAO6hC,GAAMt6B,KAAMqlC,EACrB,EAEA/G,OAAQ,WACN,OAAO7U,GAAM,EAAGzpB,KAAKoiB,KACvB,EAEA/N,KAAM,WACJ,OAAOrU,KAAK/H,KAAK,EACnB,EAEA8rC,UAAW,SAASjK,EAAW9+B,GAC7B,OAAOs/B,GAAMt6B,KAAMm7B,GAAiBn7B,KAAM85B,EAAW9+B,GAAS,GAChE,EAEAsqC,IAAK,WAEH,OAAOhL,GAAMt6B,KAAMy8B,GAAez8B,KAAMulC,GADxB,CAACvlC,MAAMoS,OAAO0P,EAAQhpB,aAExC,EAEA0sC,QAAS,SAAS7I,GAChB,IAAI5J,EAAYjR,EAAQhpB,WACxBi6B,EAAU,GAAK/yB,KACf,OAAOs6B,GAAMt6B,KAAMy8B,GAAez8B,KAAM28B,EAAQ5J,GAClD,IAIF/S,EAAgBld,UAAU6d,IAAuB,EACjDX,EAAgBld,UAAUie,IAAuB,EAIjDuf,GAAMngB,EAAa,CAIjBloB,IAAK,SAASuF,EAAOgpB,GACnB,OAAOxmB,KAAKga,IAAIxc,GAASA,EAAQgpB,CACnC,EAEA9b,SAAU,SAASlN,GACjB,OAAOwC,KAAKga,IAAIxc,EAClB,EAKA8gC,OAAQ,WACN,OAAOt+B,KAAK84B,UACd,IAIF3Y,EAAYrd,UAAUkX,IAAMsqB,GAAkB55B,SAC9CyV,EAAYrd,UAAU2hC,SAAWtkB,EAAYrd,UAAU4H,SAKvD41B,GAAMvgB,EAAUF,EAAc/c,WAC9Bw9B,GAAMpgB,EAAYF,EAAgBld,WAClCw9B,GAAMjgB,EAAQF,EAAYrd,WAE1Bw9B,GAAMlW,GAAiBvK,EAAc/c,WACrCw9B,GAAMjW,GAAmBrK,EAAgBld,WACzCw9B,GAAMhW,GAAenK,EAAYrd,WAKjC,SAASugC,GAAUxqB,EAAG9F,GACpB,OAAOA,CACT,CAEA,SAASovB,GAAYtpB,EAAG9F,GACtB,MAAO,CAACA,EAAG8F,EACb,CAEA,SAASipB,GAAIhI,GACX,OAAO,WACL,OAAQA,EAAU51B,MAAMlE,KAAMlH,UAChC,CACF,CAEA,SAAS0qC,GAAI1J,GACX,OAAO,WACL,OAAQA,EAAU51B,MAAMlE,KAAMlH,UAChC,CACF,CAEA,SAASyrC,GAAY/mC,GACnB,MAAwB,iBAAVA,EAAqB1D,KAAKC,UAAUyD,GAASioC,OAAOjoC,EACpE,CAEA,SAAS+nC,KACP,OAAOzjB,EAAQhpB,UACjB,CAEA,SAAS2qC,GAAqBxqB,EAAGC,GAC/B,OAAOD,EAAIC,EAAI,EAAID,EAAIC,GAAK,EAAI,CAClC,CAEA,SAASmrB,GAAa3f,GACpB,GAAIA,EAAStC,OAASpE,IACpB,OAAO,EAET,IAAI0nB,EAAU7kB,EAAU6D,GACpBihB,EAAQ7lB,EAAQ4E,GAChBiG,EAAI+a,EAAU,EAAI,EAUtB,OAAOE,GATIlhB,EAASrC,UAClBsjB,EACED,EACE,SAAS7sB,EAAG9F,GAAM4X,EAAI,GAAKA,EAAIkb,GAAU5rB,GAAKpB,GAAIoB,GAAKlH,IAAM,CAAG,EAChE,SAAS8F,EAAG9F,GAAM4X,EAAIA,EAAIkb,GAAU5rB,GAAKpB,GAAIoB,GAAKlH,IAAM,CAAG,EAC7D2yB,EACE,SAAS7sB,GAAM8R,EAAI,GAAKA,EAAI1Q,GAAKpB,GAAK,CAAG,EACzC,SAASA,GAAM8R,EAAIA,EAAI1Q,GAAKpB,GAAK,CAAG,GAEZ8R,EAChC,CAEA,SAASib,GAAiBxjB,EAAMuI,GAC9BA,EAAIJ,GAAKI,EAAG,YACZA,EAAIJ,GAAKI,GAAK,GAAKA,KAAO,GAAI,WAC9BA,EAAIJ,GAAKI,GAAK,GAAKA,KAAO,GAAI,GAE9BA,EAAIJ,IADJI,GAAKA,EAAI,WAAa,GAAKvI,GACduI,IAAM,GAAI,YAGvB,OADAA,EAAIF,IADJE,EAAIJ,GAAKI,EAAIA,IAAM,GAAI,aACXA,IAAM,GAEpB,CAEA,SAASkb,GAAU5sB,EAAGC,GACpB,OAAOD,EAAIC,EAAI,YAAcD,GAAK,IAAMA,GAAK,GAAK,CACpD,CAEA,IAAI6sB,GAAY,CAEdpmB,SAAUA,EAEVE,IAAKA,EACLuK,WAAYA,GACZkC,IAAKA,GACLkC,WAAYA,GACZ0F,KAAMA,GACNyL,MAAOA,GACPxe,IAAKA,GACL0d,WAAYA,GAEZ3B,OAAQA,GACRxT,MAAOA,GACPR,OAAQA,GAERZ,GAAIA,GACJT,OAAQA,KAKV,WACE,IACE5xB,OAAO81B,eAAewY,GAAmB,SAAU,CACjDrsC,IAAK,WACH,OAAO+H,KAAKoiB,IACd,GAEJ,CAAE,MAAOprB,GAAI,CACd,CARD,GAUA,OAAO8uC,EACT,EAv3JiE5wC,EAAOC,QAAUiqB,IADjF,IAAkBA,C,GCRf2mB,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBpuC,IAAjBquC,EACH,OAAOA,EAAa/wC,QAGrB,IAAID,EAAS6wC,EAAyBE,GAAY,CAGjD9wC,QAAS,CAAC,GAIXgxC,EAAoBF,GAAUriC,KAAK1O,EAAOC,QAASD,EAAQA,EAAOC,QAAS6wC,GAG3E,OAAO9wC,EAAOC,OACf,CCrBA6wC,EAAoBI,EAAI,SAASlxC,GAChC,IAAImxC,EAASnxC,GAAUA,EAAOoxC,WAC7B,WAAa,OAAOpxC,EAAgB,OAAG,EACvC,WAAa,OAAOA,CAAQ,EAC7B8wC,EAAoBxb,EAAE6b,EAAQ,CAAEptB,EAAGotB,IACnC,OAAOA,CACR,ECNAL,EAAoBxb,EAAI,SAASr1B,EAASoxC,GACzC,IAAI,IAAI3vC,KAAO2vC,EACXP,EAAoB7tB,EAAEouB,EAAY3vC,KAASovC,EAAoB7tB,EAAEhjB,EAASyB,IAC5EZ,OAAO81B,eAAe32B,EAASyB,EAAK,CAAE4vC,YAAY,EAAMvuC,IAAKsuC,EAAW3vC,IAG3E,ECPAovC,EAAoBxrC,EAAI,WACvB,GAA0B,iBAAfisC,WAAyB,OAAOA,WAC3C,IACC,OAAOzmC,MAAQ,IAAIiX,SAAS,cAAb,EAChB,CAAE,MAAOjgB,GACR,GAAsB,iBAAX/B,OAAqB,OAAOA,MACxC,CACA,CAPuB,GCAxB+wC,EAAoB7tB,EAAI,SAASrQ,EAAK6H,GAAQ,OAAO3Z,OAAO8M,UAAUiM,eAAenL,KAAKkE,EAAK6H,EAAO,ECCtGq2B,EAAoBjtB,EAAI,SAAS5jB,GACX,oBAAXmuB,QAA0BA,OAAOojB,aAC1C1wC,OAAO81B,eAAe32B,EAASmuB,OAAOojB,YAAa,CAAElpC,MAAO,WAE7DxH,OAAO81B,eAAe32B,EAAS,aAAc,CAAEqI,OAAO,GACvD,G,iCCJA,EAAe9I,KAAa,SCA5B,SCIA,GACE4I,GAAI,KACJqpC,UAAW,uCACXC,gBAAiB,0BACjBC,mBAAAA,CAAoBC,GAClB,GAAI1sC,SAAU,CACC,MAAT0sC,IACFA,EAAQ9mC,KAAK2mC,WAEf,OAAO3mC,KAAK+mC,wBAAwB3sC,SAASvE,SAASmxC,SAAUF,EAClE,CACF,EACAG,yBAAAA,GACE,GAAI7sC,SACF,OAAO4F,KAAK+mC,wBACV3sC,SAASvE,SAASqxC,OAClBlnC,KAAK4mC,gBAGX,EACAG,uBAAAA,CAAwB9b,EAAgB6b,GACtC,MAAMK,EAAOL,EAAMxtC,KAAK2xB,GAClBmc,EAAmB,MAARD,EAAeA,EAAK,QAAKtvC,EAC1C,OAAOuvC,GAAYA,OAAWvvC,CAChC,EACAI,GAAAA,CAAIgL,GACa,MAAXA,IACFA,EAAU,CAAC,GAEb,GAAIjD,KAAK1C,KAAO2F,EAAQokC,QACtB,OAAOrnC,KAAK1C,GAEd,MAAMA,EACJ0C,KAAK6mC,oBAAoB5jC,EAAQ6jC,QACjC9mC,KAAKinC,4BACP,IAAKhkC,EAAQqkC,iBAAkB,CACP,MAAlBryC,OAAON,UACTM,OAAON,QAAU,CAAC,GAES,MAAzBM,OAAON,QAAQ4yC,SACjBtyC,OAAON,QAAQ4yC,OAAS,CAAC,GAEK,MAA5BtyC,OAAON,QAAQ4yC,OAAOjqC,KACxBrI,OAAON,QAAQ4yC,OAAOjqC,GAAKA,GAEzBA,IACF0C,KAAK1C,GAAKA,EAEd,CACA,OAAOA,CACT,GCtDkBrI,OAAO6hB,KAApB,MAEM3F,EAASlc,OAAOkc,O,qBCD7B,MAAMq2B,EAAoB,IACpBC,EAAe,CAEnB,SACA,cAGA,OACA,UAWWC,EAAqBrhC,IAChC,IAAKA,GAA0B,iBAAVA,EAAoB,OAAO,KAChD,MAAMvO,EAAO9B,OAAO8B,KAAKuO,GAAO+sB,QAAQx8B,IAAS6wC,EAAa/8B,SAAS9T,KACvE,OAAKkB,EAAKW,OAEHX,EAAK6jC,QAAO,CAACgM,EAAK/wC,KACvB,cAAeyP,EAAMzP,IACnB,IAAK,UACL,IAAK,SAEH+wC,EAAI/wC,GAAOyP,EAAMzP,GACjB,MAGF,IAAK,SAAU,CACb,MAAMgxC,EAASvhC,EAAMzP,GAAK6B,OAAS+uC,EAAoB,MAAQ,GAE/DG,EAAI/wC,GAAQ,GAAEyP,EAAMzP,GAAK+N,OAAO,EAAG6iC,KAAqBI,IACxD,KACF,CAEA,IAAK,WAEHD,EAAI/wC,GAAO,wCACX,MAGF,IAAK,SACgB,OAAfyP,EAAMzP,GAER+wC,EAAI/wC,GAAOyP,EAAMzP,GAGjB+wC,EAAI/wC,GAAO,wCASjB,OAAO+wC,CAAG,GACT,CAAC,GAxCqB,IAwCnB,EChER,MAAME,EAmBJ/8B,WAAAA,GACE9K,KAAK8nC,gBACP,CAEAA,cAAAA,GACE9nC,KAAK+R,IAAM/R,KAAK+nC,UAAU,MAAOF,EAAOG,OAAOj2B,KAC/C/R,KAAKrG,MAAQqG,KAAK+nC,UAAU,QAASF,EAAOG,OAAOruC,OACnDqG,KAAKioC,KAAOjoC,KAAK+nC,UAAU,OAAQF,EAAOG,OAAOC,MACjDjoC,KAAKkoC,KAAOloC,KAAK+nC,UAAU,OAAQF,EAAOG,OAAOE,MACjDloC,KAAKmoC,QAAUnoC,KAAKkoC,KACpBloC,KAAKqG,MAAQrG,KAAK+nC,UAAU,QAASF,EAAOG,OAAO3hC,OACnDrG,KAAKooC,MAAQpoC,KAAKqG,KACpB,CAEA0hC,SAAAA,CAAUllC,EAAuBoD,GAC/B,IAAKjG,KAAKqoC,WAAWxlC,EAAQoD,GAC3B,MAAO,OAGT,MAAMqiC,EAEJT,EAAOU,WAAW1lC,IAAWglC,EAAOU,WAAWx2B,KAAO,MAAS,GAEjE,OAAO,YAAkC3M,GACvC,MAAMojC,EAAc,IAAI95B,MAAMtJ,EAAK3M,OAAS,GAE5C+vC,EAAY,GAAK,kBAEjB,IAAK,IAAIhwC,EAAI,EAAGA,EAAI4M,EAAK3M,OAAQD,IAAK,CACpC,MAAMiwC,EAAMrjC,EAAK5M,GACjBgwC,EAAYhwC,EAAI,GAAKwH,KAAK0oC,aAAaD,EACzC,CAEA,OAAOzoC,KAAK2oC,WAAWL,EAAOE,EAChC,EAAE3tC,KAAKmF,KACT,CAEA2oC,UAAAA,CAAWL,EAAsBljC,GAC/B,OAAOkjC,EAAMpkC,MAAM2jC,EAAOU,WAAYnjC,EACxC,CAEAijC,UAAAA,CAAWxlC,EAAuBoD,GAChC,OAAOjG,KAAK4oC,qBAAqB3iC,EACnC,CAEA2iC,oBAAAA,CAAqB3iC,GACnB,OAAOA,GAAS4hC,EAAOG,OAAOj2B,GAChC,CAEA22B,YAAAA,CAAaD,GACX,OAAMA,aAAerwC,MAIjBqwC,EAAIxhC,MACFwhC,EAAIziC,UAA+C,IAApCyiC,EAAIxhC,MAAM8I,QAAQ04B,EAAIziC,SAC/B,UAASyiC,EAAIziC,YAAYyiC,EAAIxhC,QAE9BwhC,EAAIxhC,MAEHwhC,EAAsBrrB,UACxB,GAAEqrB,EAAIziC,YAAayiC,EAAsBrrB,aAC9CqrB,EAAsBt1B,OAGlBs1B,EAdAA,CAgBX,EAtFIZ,EACGG,OAAS,CACdj2B,IAAK,EACLpY,MAAO,EACPsuC,KAAM,EACNC,KAAM,EACN7hC,MAAO,GANLwhC,EASGU,WAAatzC,OAAOgN,SAAW,CAAC,EAgFzC,UAAmB4lC,EC/EnB,MACMgB,EAAyB,mBAelBC,EAAgCjxB,IAC3CkxB,GAAS,CACP,CAACF,GAAyBhxB,IACzBmxB,OAAO75B,IACR85B,EAAQ,CACN5iC,MAAO8I,EACPxH,YAAa,CAAC,yDACda,KAAM,CAAE0P,OAAQ,YAChBpR,UAAW,CACTmP,OAAQ,CACN,CACE,CAAC4yB,GAAyBhxB,MAIhC,GACF,EAOSqxB,EAAkC7iC,IAC7C8iC,EAAgB9iC,GAAO,EAAK,ECpC9B,IAAI+iC,EACAC,EAYG,MAsCMF,EAAkBA,CAC7B9iC,EACAijC,GAAgB,KAEhB,GAAKjjC,GAAU+iC,EAEf,IACE,MAAM,OAAEG,GAAWH,EAEnB,IACGG,EAAOz2B,MACL3D,GACC9I,EAAML,UAAYmJ,EAAInJ,SAAWK,EAAMmjC,SAAWr6B,EAAIq6B,SAE1D,CACID,EAAO9wC,QAAU4wC,GACnBE,EAAOrhC,QAETqhC,EAAOrsC,KAAKmJ,GACRijC,GAAeR,EAA6BM,EAClD,CACF,CAAE,MAAOj6B,GACP,GC7CSs6B,EAAcA,EACzBpjC,QAAQ,KAGRL,UAAU,KAEVC,QAAQ,OAGRS,aAAa,KA0BbiB,cAAc,KAKda,OAAO,CAAC,EAKR1B,YAAY,KAGZlG,SAGAymB,YAEA,MAAMpR,EAAS,CACbhQ,QACAuC,QAEF,IACE,GAAc,OAAVnC,EAAgB,CACbL,IAASA,EAAU,uBACpBc,IAAYmP,EAAyB3N,MAAQxB,GAC9B,OAAfJ,IACDuP,EAAyBvP,WAAaA,GAEzCrM,IAAAA,eAAqB2L,EAASiQ,GAE1BoR,GACF8hB,EAAgB,CACdnjC,UACAwjC,OAAQ1iC,EAAYhN,KAAKC,UAAU+M,GAAa,MAGtD,KAAO,CACDT,IAAUS,IAAWA,EAAY4gC,EAAkBrhC,IACnDsB,IAAcsO,EAAyBtO,YAAcA,GACrDb,IAAYmP,EAAyB3N,MAAQxB,GAEjDzM,IAAAA,iBAAuBgM,EAAO4P,GAE1BoR,GACF8hB,EAAgB,CACdnjC,QAASK,EAAML,SAAWA,GAAW,4BACrCwjC,OAAQ1iC,EAAYhN,KAAKC,UAAU+M,GAAa,MAGtD,CAEA,MAAM1K,EAAc/B,IAAAA,cACpBuG,EACG,qBACCxE,GAAe,2CAEfiK,GAASA,EAAML,qBACHA,GAAW,UAGvBc,GAAkC,iBAAdA,GACtB9Q,OAAO8B,KAAKgP,GAAW2lB,SAAS71B,IAC1BkQ,EAAUlQ,IACZgK,EAAQ,eAAchK,OAAUkQ,EAAUlQ,GAC5C,IAGJ,OAAOwF,CACT,CAAE,MAAO+S,GAEP9U,IAAAA,iBAAuB8U,EAAK,CAC1BlJ,MAAOI,EACPmC,KAAM,CAAEkhC,oBAAoB,GAC5B/hC,YAAa,CAAC,eACdW,MAAKtS,OAAA2zC,OAAA,GACA7iC,EAAS,CACZ8iC,kBAAmB,CACjBvjC,QACAL,UACAC,QACAS,aACAiB,cACAa,OACA6e,aAINzmB,EAAOuO,GACP,OAAO9U,IAAAA,aACT,GAiCWwvC,EAAY5zB,GACvBwzB,EAAWzzC,OAAA2zC,OAAC,CACV/oC,OAAQqV,EAAOrV,QAAUinC,EAAOxhC,OAC7B4P,EAAM,CACThQ,MAAO,QACPohB,OAAO,KAgCE4hB,EAAWhzB,GACtBwzB,EAAWzzC,OAAA2zC,OAAC,CACV/oC,OAAQqV,EAAOrV,QAAUinC,EAAOI,MAC7BhyB,EAAM,CACThQ,MAAO,UCjPE6jC,EAA0B,ECY1BC,EAAe,eACfC,EAAsB,sBACtBC,EAA6B,6BAC7BC,EAAsB,sBACtBC,EAAwB,wBACxBC,EAA+B,+BAC/BC,EAAuB,uBACvBC,EAAU,UACVC,EAAS,SACTC,EAAa,aACbC,EAAuB,uBACvBC,EAAmB,mBAkBnBC,EAAwBA,CAAC9nC,KAAmBuC,KACvD,IACE,OAAQvC,GACN,KAAKknC,EACH,OAAO54B,EAAOG,QAAQs5B,eAAexlC,GACvC,KAAK4kC,EACH,OAAO74B,EAAOG,QAAQu5B,UAAUC,eAAe1lC,GACjD,KAAK6kC,EACH,OAAO94B,EAAOG,QAAQu5B,UAAUE,kBAAkB3lC,GACpD,KAAK8kC,EACH,OAAO/4B,EAAOG,QAAQ05B,UAAUF,eAAe1lC,GACjD,KAAKklC,EACH,OAAOn5B,EAAOG,QAAQ25B,WAAW7lC,GACnC,KAAKmlC,EACH,OAAOp5B,EAAOG,QAAQ45B,SACxB,KAAKV,EACH,OAAOr5B,EAAOG,QAAQ65B,UACxB,KAAKV,EACH,OAAOt5B,EAAOG,QAAQ85B,cAAcC,QACtC,KAAKX,EACH,OAAOv5B,EAAOG,QAAQhU,GACxB,KAAK6sC,EACH,OAAOh5B,EAAOG,QAAQg6B,YAAYR,eAAe1lC,GACnD,KAAKglC,EACH,OAAOj5B,EAAOG,QAAQi6B,kBAAkBT,eAAe1lC,GACzD,KAAKilC,EACH,OAAOl5B,EAAOG,QAAQk6B,sBAAsBpmC,GAC9C,QACE,OAAO,KAEb,CAAE,MAAOiB,GAEP,IAAK8K,EAAOG,QAAS,CACdxa,eAAe20C,aAET30C,eAAe20C,aAAe3B,EACvCb,EAAQ,CACN5iC,QACAsB,YAAa,CAAC,uCACda,KAAM,CAAEkjC,iBAAkB7oC,GAC1BiE,UAAW,CACT4kC,iBAAkB7oC,EAClB8oC,cAAe,6CAInB70C,eAAe20C,aACbh3B,SAAS3d,eAAe20C,aAAc,IAAM,EAb9C30C,eAAe20C,aAAe,EAehC,OAAO,IACT,CAGA5B,EAAS,CACPxjC,QACAsB,YAAa,CAAE,8BAA8B9E,GAC7C2F,KAAM,CAAEojC,qBAAsB/oC,GAC9BiE,UAAW,CACT8kC,qBAAsB/oC,EACtBgpC,mBAAoBxlC,aAAiBjO,MAAQiO,EAAML,QAAU,UAC7D2lC,cAAe,iCAGnB,OAAO,IACT,GAGWG,EAAQA,KACnB,IACE,OAAO36B,EAAOG,QAAQ85B,cAAcW,kBAAoB,CAC1D,CAAE,MAAAC,GACA,OAAO,CACT,GAGWC,EAAsBnsC,GACjC6qC,EAAsBX,EAAqBlqC,GAEhCosC,EACXpsC,GACS6qC,EAAsBV,EAA4BnqC,GAKhDqsC,EAAeA,IAC1BxB,EAAsBH,GAcjB,SAASI,EACd5kC,EACA/C,EACAnD,GAEA,OAAIA,IAAagsC,IACR,IAAIM,SAAQ,CAACC,EAASC,KAG3B3B,EAAsBZ,EAAc/jC,EAAS/C,GAFnB+N,GACxBu7B,EAAuBzsC,EAAUkR,EAAUq7B,EAASC,IACiB,IAGpE3B,EAAsBZ,EAAc/jC,EAAS/C,EACtD,CAEO,MAEMioC,EAASA,IAAYP,EAAsBJ,GC7JxD,MAAMiC,EAAiB,CACrB,kIAIWD,EAAyBA,CACpCzsC,EACAkR,EACAq7B,EACAC,KAEA,MAAMnB,EAAYgB,IAClB,IAAIM,EAEJ,GAAK3sC,EAKE,CAEL2sC,EAAiB3sC,EAASkR,GACtBm6B,IAAcqB,EAAe9hC,SAASygC,EAAUnlC,UAElDqmC,EAAQlB,GAEVkB,EAAQr7B,EACV,KAbe,CACTm6B,IAAcqB,EAAe9hC,SAASygC,EAAUnlC,UAClDsmC,EAAOnB,GAETkB,EAAQr7B,EACV,CASA,OAAOy7B,CAAc,ECvBVC,EAAW,WACXC,EAAW,WACXC,EAAa,aACbC,EAAc,cACdC,EAAY,YACZC,EAAY,YACZC,EAAc,cACdC,EAAe,eACfC,EAAc,cACdC,EAAc,cACdC,EAAgB,gBAChBC,GAAiB,iBAkBjBC,GAAwBA,CAACzqC,KAAmBuC,KACvD,IACE,OAAQvC,GACN,KAAK6pC,EACH,OAAOv7B,EAAOo8B,QAAQC,KAAKv1C,OAAOmN,GACpC,KAAKunC,EACH,OAAOx7B,EAAOo8B,QAAQC,KAAK30C,OAAOuM,GACpC,KAAKwnC,EACH,OAAOz7B,EAAOo8B,QAAQC,KAAKC,iBAAiBroC,GAC9C,KAAKynC,EACH,OAAO17B,EAAOo8B,QAAQC,KAAKxgB,UAAU5nB,GACvC,KAAK0nC,EACH,OAAO37B,EAAOo8B,QAAQG,MAAMz1C,OAAOmN,GACrC,KAAK2nC,EACH,OAAO57B,EAAOo8B,QAAQG,MAAM70C,OAAOuM,GACrC,KAAK4nC,EACH,OAAO77B,EAAOo8B,QAAQG,MAAMD,iBAAiBroC,GAC/C,KAAK6nC,EACH,OAAO97B,EAAOo8B,QAAQG,MAAM1gB,UAAU5nB,GACxC,KAAK8nC,EACH,OAAO/7B,EAAOo8B,QAAQI,QAAQ11C,OAAOmN,GACvC,KAAK+nC,EACH,OAAOh8B,EAAOo8B,QAAQI,QAAQ90C,OAAOuM,GACvC,KAAKgoC,EACH,OAAOj8B,EAAOo8B,QAAQI,QAAQF,iBAAiBroC,GACjD,KAAKioC,GACH,OAAOl8B,EAAOo8B,QAAQI,QAAQ3gB,UAAU5nB,GAC1C,QACE,OAAO,KAEb,CAAE,MAAOiB,GAGJ8K,EAAOo8B,SACPp8B,EAAOo8B,QAAQC,MACfr8B,EAAOo8B,QAAQG,OACfv8B,EAAOo8B,QAAQI,QAmBhB9D,EAAS,CACPxjC,QACAsB,YAAa,CAAE,8BAA8B9E,GAC7C2F,KAAM,CAAEolC,qBAAsB/qC,GAC9BiE,UAAW,CACT8mC,qBAAsB/qC,EACtB8oC,cAAe,iCAvBd70C,eAAe+2C,aAET/2C,eAAe+2C,aAAe/D,EACvCb,EAAQ,CACN5iC,QACAsB,YAAa,CAAC,uCACda,KAAM,CAAEslC,iBAAkBjrC,GAC1BiE,UAAW,CACTgnC,iBAAkBjrC,EAClB8oC,cAAe,6CAInB70C,eAAe20C,aACbh3B,SAAS3d,eAAe20C,aAAc,IAAM,EAb9C30C,eAAe+2C,aAAe,EA0BlC,OAAO,IACT,GA6FK,SAASE,GACdj2C,EACAgI,GAEA,OAAIA,IAAagsC,IACR,IAAIM,SAAQ,CAACC,EAASC,KAG3BgB,GAAsBR,EAAWh1C,GAFPkZ,GACxBu7B,EAAuBzsC,EAAUkR,EAAUq7B,EAASC,IACE,IAGrDgB,GAAsBR,EAAWh1C,EAC1C,CAOO,SAASixC,GAASiF,EAAeluC,GACtC,OAAIA,IAAagsC,IACR,IAAIM,SAAQ,CAACC,EAASC,KAG3BgB,GAAsBP,EAAWiB,GAFRC,IACvB1B,EAAuBzsC,OAAUjI,EAAWw0C,EAASC,IACE,IAGtDgB,GAAsBP,EAAWiB,EAC1C,CC/NO,MAAME,GAA2B,uBCExC,OAAex5C,KAAKO,OAAmB,aCFhC,MAAMk5C,GAAM,MCQbC,GAAmB35C,EAAQ,IAC3B45C,GAASD,GAAiBE,SAAWF,GAErCG,GAAkB,eAClBC,GAAe,CAAC,EAEhBC,GAAa,SAEbC,GAAY93C,GAAS,GAAE23C,MAAmB33C,IAEhD,SAAS+3C,GAA4B/3C,GACnC,MAAMg4C,EAAoBJ,GAAa53C,GACvC,GAAyB,MAArBg4C,EACF,OAAOA,EAGT,IACE,MAAMC,EAAU53C,GAAay3C,GAAS93C,IACtC43C,GAAa53C,GAAOi4C,EACpB,OAAOA,CACT,CAAE,MAAOxoC,GACPpE,QAAQoE,MAAM,8BAA+BA,EAC/C,CAEA,OAAO,IACT,CAEA,SAASyoC,GAA6Bl4C,EAAK4G,GACzC,IACE,GAAIA,EAAO,CACTgxC,GAAa53C,GAAO4G,EACpBvG,GAAay3C,GAAS93C,IAAQ4G,CAChC,KAAO,QACEvG,GAAay3C,GAAS93C,WACtB43C,GAAa53C,EACtB,CACF,CAAE,MAAOyP,GACPpE,QAAQoE,MAAM,kDAAmDA,EACnE,CACF,CAEA,MAAM0oC,GAAiBV,GAAOz4C,aAAalB,KAAK0F,SAASvE,UAEzDk5C,GAAe51C,UAAY,IAClBw1C,GAA4BF,KAAeN,GAGpDY,GAAeC,UAAat1C,IAC1Bo1C,GAA6BL,GAAY/0C,EAAO,EAGlDq1C,GAAex1C,SAAW,EAAGC,QAAOC,YAAYC,KACzCA,IACHA,EAASq1C,GAAe51C,aAG1B,OAAOk1C,GAAO90C,SAAS,CAAEC,QAAOC,YAAYC,EAAO,EAGrD,UAEAhF,KAAKC,QAAQ05C,OAAS,IAAMU,GAC5Br6C,KAAK25C,OAASU,GACdr6C,KAAKO,OAAOo5C,OAASU,GCnErB,MAAME,GAAqB,qBACrB,SAAEjI,GAAQ,SAAE94B,IAAarY,EAEzBq5C,GACJhhC,KAAa+gC,KAA6D,IAAvCjI,GAASj3B,QAAQ,iBAEhDo/B,GACJjhC,KAAa+gC,KAA0D,IAApCjI,GAASj3B,QAAQ,cAEtD,IAAI/U,GAAU,KAGZA,GADEk0C,GACQ,aACDC,GACC,QAEA,iBAGZ,UCvBO,MAAMC,GAAgBA,KACrB,ECKR,MAAMvH,GAwBJ/8B,WAAAA,GACE9K,KAAK+R,IAAM/R,KAAK+nC,UAAU,MAAOF,GAAOG,OAAOj2B,KAC/C/R,KAAKrG,MAAQqG,KAAK+nC,UAAU,QAASF,GAAOG,OAAOruC,OACnDqG,KAAKioC,KAAOjoC,KAAK+nC,UAAU,OAAQF,GAAOG,OAAOC,MACjDjoC,KAAKkoC,KAAOloC,KAAK+nC,UAAU,OAAQF,GAAOG,OAAOE,MAEjDloC,KAAKqG,MAAQrG,KAAK+nC,UAAU,QAASF,GAAOG,OAAO3hC,OAAO,EAC5D,CAEA0hC,SAAAA,CAAUllC,EAAgBoD,EAAeohB,GAAQ,GAC/C,IAAKrnB,KAAKqoC,WAAWxlC,EAAQoD,GAC3B,OAAOmpC,GAGT,MAAM9G,EAEJT,GAAOU,WAAW1lC,IAAWglC,GAAOU,WAAWx2B,KAAOq9B,GAExD,OAAO,YAAahqC,GAClB,MAAMojC,EAAc,IAAI95B,MAAMtJ,EAAK3M,OAAS,GAE5C+vC,EAAY,GAAM,qBAAoBX,GAAOwH,WAAWppC,GAAOqpC,OAC7D,WACO,IAAI9vC,MAAO+vC,cAAclnC,MAAM,IAAK,QAE7C,IAAK,IAAI7P,EAAI,EAAGA,EAAI4M,EAAK3M,OAAQD,IAAK,CACpC,MAAMiwC,EAAMrjC,EAAK5M,GAEjBgwC,EAAYhwC,EAAI,GAAKwH,KAAK0oC,aAAaD,EACzC,CAGIphB,GAASmhB,EAAY/vC,OAAS,GAChCywC,EAA+B,CAAEljC,QAASwiC,EAAY,KAIxD,OAAOxoC,KAAK2oC,WAAWL,EAAO,CAC5BE,EAAY/yC,KAAK,KACjB,aACC,aACD,mBAEJ,EAAEoF,KAAKmF,KACT,CAEA2oC,UAAAA,CAAWL,EAAiBljC,GAC1B,OAAOkjC,EAAMpkC,MAAM2jC,GAAOU,WAAYnjC,EACxC,CAEAijC,UAAAA,CAAWxlC,EAAgBoD,GACzB,MAAgB,eAAZjL,IAIGgF,KAAK4oC,qBAAqB3iC,EACnC,CAEA2iC,oBAAAA,CAAqB3iC,GACnB,OAAIooC,GAAOz0C,SAAS,WACXqM,GAAS4hC,GAAOG,OAAO3hC,MAEvBJ,GAAS4hC,GAAOG,OAAOj2B,GAElC,CAEA22B,YAAAA,CAAaD,GACX,OAAMA,aAAerwC,MAIjBqwC,EAAIxhC,MACFwhC,EAAIziC,UAA+C,IAApCyiC,EAAIxhC,MAAM8I,QAAQ04B,EAAIziC,SAC/B,UAASyiC,EAAIziC,YAAYyiC,EAAIxhC,QAE9BwhC,EAAIxhC,MAGJwhC,EAAIrrB,UAEL,GAAEqrB,EAAIziC,YAAYyiC,EAAIrrB,aAAaqrB,EAAIt1B,OAExCs1B,EAdAA,CAgBX,EA5GIZ,GAOGG,OAAS,CACdj2B,IAAK,EACLpY,MAAO,EACPsuC,KAAM,EACNC,KAAM,EACN7hC,MAAO,GAZLwhC,GAcGwH,WAA0C,CAC/C,EAAG,MACH,EAAG,QACH,EAAG,OACH,EAAG,OACH,EAAG,SAnBDxH,GAsBGU,WAAa7zC,KAAKuN,SAAW,CAAC,EAyFvC,WAAmB4lC,GCrHZ,MAMM2H,GAA4B,0BAI5BC,GAA4B,4BAG5BC,GAAwB,wBACxBC,GAA2B,2BAC3BC,GAAqB,oBAI3B,IAAKC,IAMX,SANWA,GAAAA,EAAkB,0BAAlBA,EAAkB,sCAAlBA,EAAkB,sCAAlBA,EAAkB,wBAAlBA,EAAkB,kDAM7B,CANWA,KAAAA,GAAkB,KAWvB,MAAMC,GAAY,Y,MCrBlB,MAAMC,GAAmBA,CAACltC,EAAQ9C,EAAO,OAC9C6qC,EAAW50C,OAAA2zC,OAAC,CACV9mC,UACY,MAAR9C,GAAgB,CAAEA,UAGbiwC,GAAqBA,CAACntC,EAAQ2L,KACzC,MAAMyhC,EAAkBA,CAACx8B,EAASy8B,EAAQC,KACxC,GAAkB,MAAdD,EAAOE,KAIPvtC,IAAW4Q,EAAQ5Q,OACrB,IACE2L,EAAGiF,EAAQ1T,KAAMowC,GACjB,MACF,CAAE,MAAOhhC,GACPlN,QAAQoE,MAAM8I,GACdlN,QAAQgmC,KAAKplC,EACf,CACF,EAGFopC,EAAmBgE,GAEnB,OAAOA,CAAe,ECjCXI,GACX,kCAUWC,GACX,CAV+C,SCDlCr7C,OAAOkc,OCyBf,SAASo/B,KAGd,OAAOxC,GAASsC,IAAqCt/B,MAClDhR,GACEA,GAAQA,EAAKswC,KACdC,IAEN,CAEO,SAASE,GACdC,GAEA,OAAO1H,GAAS,CAAE,CAACsH,IAAsCI,GAC3D,CCzCO,MAAMC,GAAa,CACxBC,IAAK,MACLC,QAAS,WCeJ,SAASC,GACdn3C,EACAo3C,GAEA,MAEMC,EAFoBD,GAAkBA,EAAe13C,eAGvD03C,EAAe13C,eACfM,EAEEs3C,EAAeF,IAAkD,IAAhCA,EAAeE,aAEtD,OAAID,IAAgBE,IAAgBD,EAI5B,IAAGD,IAHF,EAIX,CAEO,SAASG,GACdx3C,EACAy3C,EACAL,GAOA,GAJEA,GACAA,EAAeM,uBAC0B,WAAzCN,EAAeM,sBAGf,OAAOD,EAGLA,IAAWT,GAAWE,UACxBO,EAAST,GAAWC,KAGtB,MAAQ,GAAEQ,IAASN,GAAiBn3C,EAAQo3C,IAC9C,CAEO,SAASO,GACd33C,EACA43C,EACAR,GAMA,MAAQ,GAJaS,GAAgBT,KAClBU,GAAcF,EAAOR,KACZW,GAAuB/3C,EAAQo3C,IAG7D,CAEO,SAASU,GACdF,EACAR,GAKA,MAAiB,QAHMA,GAAkBA,EAAeY,YACtBZ,EAAgBY,YAAcJ,GAGvD,KAGF,EACT,CAEO,SAASC,GAAgBT,GAE9B,OAD0BA,GAAkBA,EAAea,eAElDb,EAAgBa,eAGlB,SACT,CAEO,SAASF,GACd/3C,EACAo3C,GAOA,OAJEA,GACAA,EAAeM,uBAC0B,WAAzCN,EAAeM,sBAMVP,GAAiBn3C,EAAQo3C,GAHvB,EAIX,CAEO,SAASc,GAAOd,GAGrB,OAFuBA,GAAkBA,EAAee,YAG/Cf,EAAgBe,YAGlB,KACT,CAEO,SAASC,GAAcC,GAC5B,OAAIA,IAAoBrB,GAAWE,QAC1B,OAEF,EACT,CC7GA,SAASoB,GAAelB,GACtB,OAAOA,GAAkBA,EAAe13C,eACpC03C,EAAe13C,eACfi1C,GAAOl1C,WACb,CAEA,SAAS84C,GAAYnB,GACnB,OAAOA,GAAkBA,EAAeY,YACpCZ,EAAeY,YACdrD,GAAOr1C,UACd,CAOO,SAASk4C,GACdC,EACAL,GAGA,OAAOoB,GADaF,GAAelB,GACWK,EAAQL,EACxD,CAEO,SAASO,GAAUP,GAIxB,OAAOoB,GAHQF,GAAelB,GAChBmB,GAAYnB,GAEmBA,EAC/C,CAgBO,SAASc,GAAOd,GACrB,OAAOoB,GAAoBpB,EAC7B,CAEO,SAASgB,GAAcC,GAC5B,OAAOG,GAA2BH,EACpC,CCvDO,SAASI,GACdJ,EACAjB,GAOA,MAAQ,WALUI,GAAaa,EAAiBjB,MACjCO,GAAUP,MACbc,GAAOd,KACAgB,GAAcC,IAGnC,CAEO,SAASK,KAEd,OAAOD,GADW9D,GAAOz0C,WAAa,MAAQ,QAEhD,CCOO,MAAMy4C,GAA0BvlC,IACrC,MAAM9G,EAAU8G,EAAI/M,KACpBa,EAAOjH,MAAO,8CAA6CqM,KAK3D,GAAIA,EAAQ+J,UAA6C,IAAlC/J,EAAQ+J,QAAQ,aAAqB,CAC1D,MAAMuD,EAAStN,EAAQ1N,MAAM,KAQ7BywC,GAPyB,CACvB,CAACmF,IAA2B,CAC1BoE,UAAWC,OAAOj/B,EAAO,IACzB5Z,OAAQ4Z,EAAO,MAIJ01B,OAAM,KACnBpoC,EAAOyF,MACL,sEACD,IAIHukC,EAAY,CACV/nC,OAAQitC,GACR/vC,MAAM,IACLipC,OAAO75B,IACR,MAAMA,CAAG,GAEb,GAIWqjC,GAAiC1lC,IAC5C,MAAM9G,EAAU8G,EAAI/M,KACpBa,EAAOjH,MACJ,qDAAoDqM,EAAQ+E,QAE/D,OAAQ/E,EAAQ+E,MACd,IAAK,sBACH9V,OAAOw9C,YACL,CACE1nC,KAAM,gCAERqnC,MAEF,MACF,IAAK,8BACH7B,KACGx/B,MAAM0/B,IACLx7C,OAAOw9C,YACL,CACE1nC,KAAM,4BACNvN,MAAOizC,GAET2B,KACD,IAEFpJ,OAAO75B,IACNvO,EAAOyF,MACL,8EAEF,MAAM8I,CAAG,IAEb,MAEF,IAAK,6BACH,CACE,MAAMujC,EAAqB1C,GACzBP,IACA,EAAGkD,cACD,GAAIA,EAAS,CACXnC,GAA8BxqC,EAAQxI,MAAMo1C,sBACzC7hC,MAAK,KACJ9b,OAAOw9C,YACL,CACE1nC,KAAM,4BACNvN,MAAOwI,EAAQxI,MAAMo1C,sBAEvBR,KACD,IAEFpJ,OAAO75B,IACNlN,QAAQoE,MAAM8I,EAAI,IAGtB+8B,EAAsBwG,EACxB,KAGJ3C,GAAiBN,GAA2BzpC,EAAQxI,OAAOwrC,OACxD3iC,IACCpE,QAAQoE,MAAM,yCAA0CA,EAAM,GAGpE,EAKJ,GAAIL,EAAQ+E,OAAS2kC,GAAuB,CAE1C,MAAMmD,EAAqB7C,GACzB,+BACA,KACE9D,EAAsB2G,GACtB59C,OAAOw9C,YACL,CACE1nC,KAAM4kC,IAERyC,KACD,IAILrC,GAAiBP,GAA2B,CAC1CzkC,KAAM2kC,KACL1G,OAAO3iC,IACRpE,QAAQoE,MACN,gEACAA,EACD,GAEL,GAGWysC,GAA6BhmC,IACxC,IAAKA,IAAQA,EAAI/M,KACf,OAEF,MAAMiG,EAAU8G,EAAI/M,KAEpB,GAAIiG,EAAQnD,SAAW+sC,GAAoB,CACzChvC,EAAOjH,MAAO,iDAAiDqM,GAC/D4kC,EAAY,CACV/nC,OAAQ+sC,GACR7vC,MAAM,IACLipC,OAAO75B,IACR,MAAMA,CAAG,GAEb,GC7KW4jC,GAAiB,iBCoGjBC,IA7EW,IAAIj9C,OAAO,4BA6EHi9C,KAC9B,IAC+C,SAAzC/7C,GAAaF,QAAQg8C,KAA4B7H,GACvD,CAAE,MAAO7kC,GACPzF,GAAOmR,IAAK,kCAAiC1L,KAC7C6kC,GACF,ICxFF,MAAM+H,GACJ,yFACIC,GACJ,yEACIC,GACJ,8DACIC,GACJ,4EAEIC,GAAqB,+BACrBC,GAAoB,uBAE1B,SAASC,KACPt+C,OAAOgc,iBAAiB,UAAWohC,GACrC,CAEA,SAASmB,GAAwB1mC,GAC/B,MAAM,OAAE08B,GAAW18B,EACb2mC,EAAW,GAEbjK,EAAO9gC,aACT+qC,EAASv2C,KAAK6rC,GAAS,CAAE2K,IAAKlK,EAAO9gC,eAGnC8gC,EAAOmK,iBACTF,EAASv2C,KAAK6rC,GAAS,CAAE,CAACsK,IAAqB7J,EAAOmK,mBAGpDnK,EAAOoK,cACTH,EAASv2C,KAAK6rC,GAAS,CAAE,CAACuK,IAAoB9J,EAAOoK,gBAGvDxH,QAAQyH,IAAIJ,GACT1iC,KAAKiiC,IACLhK,OAAO3iC,IACNpE,QAAQoE,MAAM,qBAAsBA,EAAM,GAEhD,CAEA,SAASytC,KACP15C,SAAS6W,iBACP,qCACAuiC,GAEJ,CAEA,SAASO,KAEP,MAAMxqC,EAASnP,SAASoP,cAAc,UACtCD,EAAOyqC,aACL,MACA,EAAO1iC,QAAQ2iC,OAAO,iCAEvB75C,SAASuP,MAAQvP,SAAS8xB,iBAAiBriB,YAAYN,GACxDA,EAAOpM,WAAW+2C,YAAY3qC,EAChC,CAEA,SAAS4qC,KACS,IAAIC,iBAAiB,2BAC7BC,UAAaC,IACnB,EAAOhjC,QAAQs5B,YAAY,CACzB/nC,OAAQ,uBACR9C,KAAMu0C,EAAMv0C,KAAKzC,IACjB,CAEN,CAEA,SAASi3C,KACP,IACE,MAAM76C,EAAS,GAAIP,YACbiuC,EAAW,EAAenvC,MAChC81C,GAASG,IACNn9B,MAAMhR,IACL,IAAKA,EAAKmuC,KAA6Bx0C,GAAU0tC,EAC/C,OAAO2B,GAAS,CACd,CAACmF,IAA2B,CAC1BoE,UAAWlL,EACX1tC,WAGN,IAEDsvC,OAAM,KACLpoC,GAAOyF,MAAM,yDAAyD,GAE5E,CAAE,MAAOrP,GACP4J,GAAOyF,MAAM,4BAA4BrP,EAAEgP,SAAWhP,IACxD,CACF,CAEA,SAASw9C,KAEPv/C,OAAOw9C,YACL,CAAE1nC,KAAM,gCACRqnC,MAGEc,GAAgC78C,KAAK,EAASsM,OAChD4wC,KAGEN,GAA4B58C,KAAK,EAASsM,OAC5CmxC,KAGFK,KAEIhB,GAAmC98C,KAAK,EAASsM,OACnD1N,OAAOgc,iBAAiB,UAAWuhC,IAGjCY,GAA8B/8C,KAAK,EAASsM,OAC9C1N,OAAOgc,iBAAiB,UAAW6hC,IAGrCyB,KACAR,IACF,CAEA35C,SAAS6W,iBAAiB,mBAAoBujC,IAAqB,E","sources":["bpm:///SignalsExtension@2.32896/js/shims/bender-fill.js","webpack://hubspot.bender context for SignalsExtension@dev","bpm:///enviro@4.328/js/index.ts","bpm:///raven@3.5229/js/index.js","bpm:///raven@3.5229/js/utils/htmlTreeAsString.ts","bpm:///raven@3.5229/js/raven.js","bpm:///raven@3.5229/js/utils.js","bpm:///raven@3.5229/js/vendor/TraceKit.js","bpm:///raven@3.5229/js/vendor/json-stringify-safe.js","bpm:///raven@3.5229/js/configError.js","bpm:///raven@3.5229/js/utils/getCorrelationId.ts","bpm:///raven@3.5229/js/console.js","bpm:///immutable@2.19/index.js","webpack://webpack/bootstrap","webpack://webpack/runtime/compat get default export","webpack://webpack/runtime/define property getters","webpack://webpack/runtime/global","webpack://webpack/runtime/hasOwnProperty shorthand","webpack://webpack/runtime/make namespace object","bpm:///SignalsExtension@2.32896/js/globals/location.js","bpm:///SignalsExtension@2.32896/js/globals/chrome.js","bpm:///PortalIdParser@2.306/js/index.ts","bpm:///sales-clients-common@1.48757/js/globals/window.js","bpm:///sales-clients-common@1.48757/js/utils/getExtraErrorData.ts","bpm:///sales-clients-common@1.48757/js/utils/logger.ts","bpm:///sales-clients-common@1.48757/js/utils/debugLogManagerChromeExt.ts","bpm:///sales-clients-common@1.48757/js/utils/debugLogManager.ts","bpm:///sales-clients-common@1.48757/js/utils/reportError.ts","bpm:///sales-clients-common@1.48757/js/constants/chrome.ts","bpm:///sales-clients-common@1.48757/js/chrome/safeRuntime.ts","bpm:///sales-clients-common@1.48757/js/chrome/utils.ts","bpm:///sales-clients-common@1.48757/js/chrome/safeStorage.ts","bpm:///sales-clients-common@1.48757/js/constants/StorageKeys.ts","bpm:///SignalsExtension@2.32896/js/globals/localStorage.js","bpm:///hubspot-url-utils@1.3516/js/hublets.ts","bpm:///SignalsExtension@2.32896/js/shims/enviro.js","bpm:///SignalsExtension@2.32896/js/config/context.js","bpm:///SignalsExtension@2.32896/js/utils/emptyfunction.ts","bpm:///SignalsExtension@2.32896/js/utils/logger.ts","bpm:///sales-ext-common@1.39317/js/constants/backgroundMessagingMethods.ts","bpm:///sales-ext-common@1.39317/js/utils/contentScriptMessaging.js","bpm:///sales-ext-common@1.39317/js/constants/chromeStorage.ts","bpm:///sales-ext-common@1.39317/js/globals/chrome.js","bpm:///sales-ext-common@1.39317/js/utils/everywhereWebsiteSettings.ts","bpm:///hubspot-url-utils@1.3516/js/subdomains.ts","bpm:///hubspot-url-utils@1.3516/js/internal/pure-url-utils.ts","bpm:///hubspot-url-utils@1.3516/js/internal/index.ts","bpm:///hubspot-url-utils@1.3516/js/index.ts","bpm:///sales-ext-common@1.39317/js/utils/listeners.ts","bpm:///SignalsExtension@2.32896/js/constants/StorageKeys.ts","bpm:///SignalsExtension@2.32896/js/utils/tabs.ts","bpm:///SignalsExtension@2.32896/js/init/sigExt.js"],"sourcesContent":["/* eslint-disable hubspot-dev/no-confusing-browser-globals */\n'use es6';\nconst { bender } = require('legacy-hubspot-bender-context');\n\nself.hubspot = self.hubspot || {};\nself.hubspot.bender = self.hubspot.bender || {\n  depVersions: { salesImages: '1' },\n};\nself.hubspot.bender.currentProject = bender.project;\nself.hubspot.bender.currentProjectVersion = bender.depVersions[bender.project];\n\nif (self.window) {\n  self.window.hubspot = self.hubspot;\n}\n","module.exports = {\n  \"mode\": \"compressed\",\n  \"staticDomainPrefix\": \"//static.hsappstatic.net\",\n  \"bender\": {\n    \"depVersions\": {\n      \"SignalsExtension\": \"static-2.32896\",\n      \"ai-components-ui-library\": \"static-1.7057\",\n      \"autolinker\": \"static-3.11\",\n      \"calendar-sdk\": \"static-1.9251\",\n      \"emoji-mart\": \"static-3.4\",\n      \"head-dlb\": \"static-1.4360\",\n      \"hs-test-utils\": \"static-1.7301\",\n      \"hubspot-dlb\": \"static-2.1702\",\n      \"HubStyleTokens\": \"static-2.10809\",\n      \"I18n\": \"static-7.1444\",\n      \"immutable\": \"static-2.19\",\n      \"jasmine-runner\": \"static-1.5718\",\n      \"quartz\": \"static-1.6093\",\n      \"react\": \"static-7.151\",\n      \"react-dlb\": \"static-1.61\",\n      \"react-dnd\": \"static-2.33\",\n      \"react-dnd-html5-backend\": \"static-2.10\",\n      \"sales-clients-common\": \"static-1.48757\",\n      \"sales-ext-common\": \"static-1.39317\",\n      \"settings-ui-lib\": \"static-1.11825\",\n      \"underscore\": \"static-1.8\",\n      \"webpack-env\": \"static-1.54\",\n      \"apollo-stack-hubspot\": \"static-3.43\",\n      \"atom\": \"static-1.4445\",\n      \"blueimp-md5\": \"static-1.8\",\n      \"classnames\": \"static-2.10\",\n      \"clients-email-associations\": \"static-1.41737\",\n      \"content-assistance-lib\": \"static-1.6912\",\n      \"crm_components\": \"static-3.89644\",\n      \"crm_universal\": \"static-1.21090\",\n      \"csstype\": \"static-1.38\",\n      \"cssUtils\": \"static-1.590\",\n      \"customer-data-objects\": \"static-1.6925\",\n      \"customer-data-objects-ui-components\": \"static-1.12253\",\n      \"customer-data-properties\": \"static-1.49183\",\n      \"customer-data-property-utils\": \"static-1.7250\",\n      \"customer-data-reference-ui-components\": \"static-1.12345\",\n      \"customer-data-ui-utilities\": \"static-1.9058\",\n      \"data-fetching-client\": \"static-1.8953\",\n      \"enviro\": \"static-4.328\",\n      \"everywhere-content\": \"static-1.20823\",\n      \"foundations-assets\": \"static-1.4167\",\n      \"foundations-components\": \"static-1.6779\",\n      \"foundations-theming\": \"static-1.3629\",\n      \"frontend-preferences-client\": \"static-1.7227\",\n      \"GmailXhrInterceptor\": \"static-1.435\",\n      \"google-calendar\": \"static-1.12853\",\n      \"graphql\": \"static-1.65\",\n      \"HeadJS\": \"static-2.619\",\n      \"hoist-non-react-statics\": \"static-3.9\",\n      \"hs-everywhere-components\": \"static-1.63249\",\n      \"hs-promise-rejection-tracking\": \"static-1.4750\",\n      \"hs-promise-utils\": \"static-1.4819\",\n      \"hub-http\": \"static-1.5499\",\n      \"hub-http-contrib\": \"static-1.2410\",\n      \"hubspot-apollo-client\": \"static-1.4120\",\n      \"hubspot-url-utils\": \"static-1.3516\",\n      \"HubStyle\": \"static-2.11117\",\n      \"i18n-data\": \"static-1.207\",\n      \"icons\": \"static-2.593\",\n      \"immutable-less\": \"static-1.3854\",\n      \"InboxConnectUtils\": \"static-4.12923\",\n      \"jquery\": \"static-3.6\",\n      \"metrics-js\": \"static-1.9032\",\n      \"moment\": \"static-3.26\",\n      \"moment-timezone\": \"static-5.66\",\n      \"NamespacedHubStyle\": \"static-2.8572\",\n      \"PatternValidationJS\": \"static-1.437\",\n      \"PortalIdParser\": \"static-2.306\",\n      \"property-translator\": \"static-1.4681\",\n      \"raven\": \"static-3.5229\",\n      \"raven-hubspot\": \"static-1.5536\",\n      \"react-dom\": \"static-7.85\",\n      \"react-immutable-proptypes\": \"static-2.8\",\n      \"react-input-autosize\": \"static-2.17\",\n      \"react-redux\": \"static-7.16\",\n      \"react-rhumb\": \"static-1.15882\",\n      \"react-select-plus\": \"static-1.65\",\n      \"react-utils\": \"static-2.4702\",\n      \"react-virtualized\": \"static-2.80\",\n      \"redux\": \"static-4.16\",\n      \"redux-thunk\": \"static-2.43\",\n      \"reference-resolvers\": \"static-1.7464\",\n      \"reference-resolvers-lite\": \"static-1.7333\",\n      \"reporting-data\": \"static-1.64608\",\n      \"reselect\": \"static-2.16\",\n      \"sales-clients-common-tasks-applet\": \"static-1.45031\",\n      \"sales-ext-config\": \"static-1.24613\",\n      \"sales-ext-kratos\": \"static-1.39315\",\n      \"sales-ext-popup\": \"static-1.39311\",\n      \"sales-ext-sidepanel\": \"static-1.17197\",\n      \"SalesExtensionRemoteAssets\": \"static-1.61948\",\n      \"salesImages\": \"static-1.508\",\n      \"SalesSidebar\": \"static-2.45671\",\n      \"sanitize\": \"static-1.3671\",\n      \"sanitize-text\": \"static-1.7446\",\n      \"sassPrefix\": \"static-1.139\",\n      \"sequences-lib\": \"static-1.6982\",\n      \"SharedI18nStrings\": \"static-1.170\",\n      \"signup-constants\": \"static-1.17397\",\n      \"signup-ui-lego-core\": \"static-1.19407\",\n      \"signup-ui-url-generator\": \"static-2.7370\",\n      \"styled-components\": \"static-2.64\",\n      \"StyleGuideUI\": \"static-3.475\",\n      \"task-forms-lib\": \"static-1.39634\",\n      \"tether\": \"static-3.25\",\n      \"timezone-utils\": \"static-2.4508\",\n      \"transmute\": \"static-2.75\",\n      \"ui-addon-i18n\": \"static-1.10283\",\n      \"ui-addon-iframeable\": \"static-1.8203\",\n      \"ui-addon-sales-email\": \"static-1.4496\",\n      \"ui-deal-management-components-lib\": \"static-1.17775\",\n      \"ui-fonts\": \"static-1.333\",\n      \"ui-images\": \"static-2.955\",\n      \"ui-shepherd-react\": \"static-3.9365\",\n      \"UIComponents\": \"static-3.7756\",\n      \"urlinator\": \"static-1.3833\",\n      \"usage-tracker\": \"static-1.6737\",\n      \"usage-tracker-core\": \"static-1.6587\",\n      \"bend-plugin-trellis-migration\": \"static-1.2849\",\n      \"chatspot-client-types\": \"static-1.9917\",\n      \"chatspot-core\": \"static-1.18603\",\n      \"ContentUtils\": \"static-1.66040\",\n      \"copilot-toolkit\": \"static-1.9182\",\n      \"foundations-theming-base\": \"static-1.2614\",\n      \"foundations-theming-specialty\": \"static-1.1345\",\n      \"hs-story-utils\": \"static-1.8660\",\n      \"msw\": \"static-1.39\",\n      \"quartz-core\": \"static-1.5312\",\n      \"rpc-client-utils\": \"static-1.4002\",\n      \"framer-motion\": \"static-1.51\",\n      \"hs-test-utils-bend-plugin\": \"static-1.2412\",\n      \"testing-library\": \"static-1.133\",\n      \"jasmine\": \"static-4.3620\",\n      \"quartz-core-utils\": \"static-1.2960\",\n      \"ExtensionInstallHelpers\": \"static-1.576\",\n      \"ui-coaching-tips\": \"static-1.26411\",\n      \"flux-actions\": \"static-1.285\",\n      \"react-colorpicker\": \"static-2.9556\",\n      \"redux-observable\": \"static-1.11\",\n      \"ReduxMessenger\": \"static-2.9761\",\n      \"rxjs\": \"static-5.10\",\n      \"usage-tracker-container\": \"static-1.6727\",\n      \"apollo-dlb\": \"static-3.41\",\n      \"customer-data-communicator\": \"static-1.43483\",\n      \"salesclients-service-types\": \"static-1.24438\",\n      \"universal-associations-select\": \"static-1.10202\",\n      \"react-transition-group\": \"static-1.7\",\n      \"superstore\": \"static-1.4031\",\n      \"ui-addon-video-player\": \"static-1.8059\",\n      \"conversations-skeleton-state\": \"static-1.6658\",\n      \"customer-data-content\": \"static-1.25948\",\n      \"react-immutable-render-mixin\": \"static-1.9\",\n      \"crm_schema\": \"static-3.89683\",\n      \"FormUrlGenerator\": \"static-2.4008\",\n      \"inbound-db-properties-service-client\": \"static-1.3322\",\n      \"avatar-components\": \"static-1.1775\",\n      \"calling-cross-tab-library\": \"static-1.18569\",\n      \"calling-global-api\": \"static-1.61905\",\n      \"calling-integration-cross-tab\": \"static-1.21100\",\n      \"calling-internal-common\": \"static-1.30571\",\n      \"calling-lifecycle-internal\": \"static-1.63287\",\n      \"calling-lifecycle-messages\": \"static-1.55582\",\n      \"commerce-products-lib\": \"static-1.7375\",\n      \"conditional-properties-service-client\": \"static-1.3279\",\n      \"crm-links\": \"static-1.5464\",\n      \"crm-message-bus\": \"static-1.40898\",\n      \"external-options-client-types\": \"static-1.3493\",\n      \"file-manager-components\": \"static-1.21526\",\n      \"framework-data-schema-resolvers\": \"static-1.6186\",\n      \"google-libphonenumber\": \"static-1.18\",\n      \"inbound-db-meta-service-client\": \"static-1.3098\",\n      \"inbounddb-objects-service-types\": \"static-1.3591\",\n      \"object-builder-ui-client\": \"static-1.46321\",\n      \"pipeline-validation-client-types\": \"static-1.3284\",\n      \"smart-property-lib\": \"static-1.4138\",\n      \"ui-addon-form-validation\": \"static-1.10319\",\n      \"user-context\": \"static-1.4495\",\n      \"react-dnd-compat\": \"static-1.3968\",\n      \"directed-graph\": \"static-1.226\",\n      \"event-emitter\": \"static-1.294\",\n      \"fast-json-stable-stringify\": \"static-1.4\",\n      \"bend-plugin-foundations-components\": \"static-1.3048\",\n      \"floating-ui\": \"static-1.39\",\n      \"react-aria\": \"static-1.44\",\n      \"tanstack-table\": \"static-1.23\",\n      \"bend-plugin-foundations-theming\": \"static-1.2112\",\n      \"hub-http-janus\": \"static-1.691\",\n      \"quick-fetch\": \"static-1.2772\",\n      \"hs-lodash\": \"static-4.45\",\n      \"commerce-contract-lib\": \"static-1.9666\",\n      \"task-queues\": \"static-1.32698\",\n      \"apollo-link-hub-http\": \"static-2.4038\",\n      \"immer\": \"static-1.33\",\n      \"batch-promise\": \"static-1.893\",\n      \"reporting-client-types\": \"static-1.2237\",\n      \"redux-mock-store\": \"static-1.8\",\n      \"chatspot-widget-iframe\": \"static-1.18595\",\n      \"hubspot-prosemirror\": \"static-1.16242\",\n      \"crm_data\": \"static-4.89644\",\n      \"ui-addon-upgrades\": \"static-9.16908\",\n      \"customer-data-email\": \"static-1.16813\",\n      \"draft-js\": \"static-5.37\",\n      \"prosemirror\": \"static-1.13\",\n      \"sequences-client-types-lib\": \"static-1.6839\",\n      \"emoji-regex\": \"static-1.7\",\n      \"crm-activity-creator-data\": \"static-1.44168\",\n      \"foundations-components-test-utils\": \"static-1.4263\",\n      \"magpie-lib\": \"static-1.4955\",\n      \"navigation-messaging\": \"static-1.5275\",\n      \"customer-data-filters-ui\": \"static-1.37078\",\n      \"ts-schema\": \"static-1.3491\",\n      \"markdown-it\": \"static-1.6\",\n      \"cms-field-types\": \"static-1.4062\",\n      \"content-icons-ui\": \"static-1.2003\",\n      \"magpie-types\": \"static-1.4415\",\n      \"simple-logging-lib\": \"static-1.2303\",\n      \"dispatcher\": \"static-1.120\",\n      \"general-store\": \"static-6.20\",\n      \"history\": \"static-4.47\",\n      \"hub-http-shared-msw-handlers\": \"static-1.8258\",\n      \"hubspotter-http\": \"static-1.3965\",\n      \"hubspotter-http-shared-msw-handlers\": \"static-1.8256\",\n      \"mobile-manifest-mixins\": \"static-1.390\",\n      \"platform-navigation-bootstrap\": \"static-1.11772\",\n      \"react-router-dom\": \"static-5.26\",\n      \"growth-onboarding-feedback-components\": \"static-1.5790\",\n      \"calling-error-reporting\": \"static-1.30577\",\n      \"calling-usage-tracker\": \"static-1.5788\",\n      \"crm-display-components\": \"static-1.22872\",\n      \"crm-fe-perf\": \"static-1.22275\",\n      \"crm-legacy-global-containers\": \"static-1.23084\",\n      \"customer-data-rte\": \"static-1.31315\",\n      \"customer-data-tracking\": \"static-1.6138\",\n      \"draft-content-plugins\": \"static-1.26665\",\n      \"draft-convert\": \"static-2.31\",\n      \"draft-email-branding-plugin\": \"static-2.22648\",\n      \"draft-extend\": \"static-2.46\",\n      \"draft-plugins\": \"static-2.20387\",\n      \"draft-signature-plugin\": \"static-1.22352\",\n      \"EmailSignatureEditor\": \"static-1.22888\",\n      \"FileManagerCore\": \"static-1.37025\",\n      \"FileManagerLib\": \"static-1.37166\",\n      \"hubspot-prosemirror-plugins\": \"static-1.16234\",\n      \"integration-settings-components\": \"static-1.13165\",\n      \"integrations-lib\": \"static-1.13871\",\n      \"integrations-tracking-lib\": \"static-1.4920\",\n      \"native-integrations-shared-strings\": \"static-1.7115\",\n      \"nav-meta\": \"static-1.27585\",\n      \"outreach-assistant-email-generation\": \"static-1.4834\",\n      \"quotes-client-types\": \"static-1.35519\",\n      \"rich-text-lib\": \"static-1.18553\",\n      \"sales-email-signature-service-client\": \"static-1.3234\",\n      \"ui-business-units-lib\": \"static-1.8214\",\n      \"ui-gdpr-components\": \"static-1.9529\",\n      \"whatsapp-sending-lib\": \"static-1.3356\",\n      \"SalesContentIndexUI\": \"static-3.8073\",\n      \"self-service-api\": \"static-1.9537\",\n      \"shared-worker-versioning\": \"static-1.10364\",\n      \"worker-connection-library\": \"static-1.15553\",\n      \"calling-orchestration-shared-library\": \"static-1.33253\",\n      \"onboarding-scopes\": \"static-1.5828\",\n      \"growth-payments-core\": \"static-1.23325\",\n      \"products-iframe-lib\": \"static-1.6017\",\n      \"products-ui-components-shared-msw-handlers\": \"static-1.8641\",\n      \"location-customization-utils-lib\": \"static-1.6999\",\n      \"immerable\": \"static-1.3423\",\n      \"video-components-external\": \"static-1.9124\",\n      \"video-data-lib\": \"static-1.32782\",\n      \"crm-pipelines-api-client-types\": \"static-1.3465\",\n      \"framework-builder-read-service-client\": \"static-1.3439\",\n      \"framework-data-schema-quick-fetch\": \"static-1.6091\",\n      \"persist-promise\": \"static-1.3051\",\n      \"breeze-intelligence-kit\": \"static-1.4635\",\n      \"data-token-picker\": \"static-1.15190\",\n      \"framework-data-schema-resolvers-shared-msw-handlers\": \"static-1.8342\",\n      \"fsm\": \"static-1.3006\",\n      \"policy-lib\": \"static-1.6062\",\n      \"react-tinymce\": \"static-1.53194\",\n      \"reference-resolvers-lite-shared-msw-handlers\": \"static-1.8404\",\n      \"tinymce\": \"static-5.11\",\n      \"tinymce-config\": \"static-2.52320\",\n      \"tinymce-plugins\": \"static-1.55434\",\n      \"tinymce-themes\": \"static-1.54290\",\n      \"getting-started-shared-tasks\": \"static-1.16404\",\n      \"getting-started-shared-tasks-store\": \"static-1.15522\",\n      \"commerce-billing-lib\": \"static-1.17151\",\n      \"commerce-shared-components-lib\": \"static-1.16663\",\n      \"crm-cards-sdk\": \"static-1.41373\",\n      \"payments-enrollment-embed-lib\": \"static-1.20294\",\n      \"usage-tracker-session-replay\": \"static-1.4423\",\n      \"utility-belt\": \"static-1.1807\",\n      \"zustand\": \"static-1.51\",\n      \"guided-actions-lib\": \"static-1.18771\",\n      \"knowledge-content-types\": \"static-1.8008\",\n      \"payment-link-components\": \"static-1.21617\",\n      \"ui-addon-emoji-picker\": \"static-1.9229\",\n      \"feature-store-service-types\": \"static-1.3974\",\n      \"growth-monetization-service-types\": \"static-1.3981\",\n      \"merchandise-lib\": \"static-1.231\",\n      \"upgrade-management-service-types\": \"static-1.3965\",\n      \"idb-keyval\": \"static-1.27\",\n      \"reactive-lib\": \"static-1.55\",\n      \"customer-data-filters-ui-msw-helpers\": \"static-1.19512\",\n      \"lodash\": \"static-4.7\",\n      \"multi-account-reference-resolvers\": \"static-1.287\",\n      \"onboarding-tours\": \"static-1.15460\",\n      \"ui-addon-teams\": \"static-1.20630\",\n      \"platform-infra-nav-components\": \"static-1.7074\",\n      \"crm-component-utils\": \"static-1.37122\",\n      \"framework-data-table\": \"static-2.10366\",\n      \"viral-links-lib\": \"static-1.6198\",\n      \"audio-components\": \"static-1.5051\",\n      \"cropperjs\": \"static-1.10\",\n      \"FileManagerImages\": \"static-1.34677\",\n      \"redux-toolkit\": \"static-1.7\",\n      \"video-components\": \"static-1.11127\",\n      \"video-embed\": \"static-1.33616\",\n      \"content-embed-lib\": \"static-1.6634\",\n      \"crm-record-cards-service-types\": \"static-1.3067\",\n      \"data-model-builder-lib\": \"static-1.9872\",\n      \"remote-ui\": \"static-1.50\",\n      \"ui-components-test-utils\": \"static-1.4947\",\n      \"ui-extensions-remote-renderer\": \"static-1.15193\",\n      \"universal-page-editor-lib\": \"static-1.2325\",\n      \"integrations-error-boundary-lib\": \"static-1.11286\",\n      \"laboratory-lib\": \"static-3.6500\",\n      \"messaging-types-lib\": \"static-1.43703\",\n      \"whatsapp-management-lib\": \"static-1.6515\",\n      \"FireAlarmUi\": \"static-1.3988\",\n      \"sales-templates-service-types-lib\": \"static-1.3550\",\n      \"ui-asset-management-lib\": \"static-1.9987\",\n      \"calling-orchestration-schema\": \"static-1.33478\",\n      \"commerce-analytics-service-client\": \"static-1.2968\",\n      \"ui-addon-opt\": \"static-4.7816\",\n      \"multi-currency-client-types\": \"static-1.3101\",\n      \"sales-views-client-types\": \"static-1.3565\",\n      \"content-media-composition-data-lib\": \"static-1.9362\",\n      \"content-media-compositions\": \"static-2.13369\",\n      \"media-bridge-lib\": \"static-1.17790\",\n      \"highcharts\": \"static-8.87\",\n      \"trellis-story-utils\": \"static-1.3845\",\n      \"storybook-react\": \"static-1.14\",\n      \"interframe\": \"static-3.4073\",\n      \"tinymce-data\": \"static-1.38405\",\n      \"codemirror\": \"static-5.78\",\n      \"layout-dnd-components\": \"static-1.11290\",\n      \"layout-dnd-utils\": \"static-1.10265\",\n      \"react-codemirror\": \"static-1.9905\",\n      \"ui-brand-identity-lib\": \"static-1.11903\",\n      \"commerce-tools-ui-lib\": \"static-1.8667\",\n      \"crm-actions\": \"static-1.5472\",\n      \"growth-onboarding-confetti\": \"static-1.2388\",\n      \"growth-onboarding-reliability\": \"static-1.4435\",\n      \"marketplace-ui-apps-core\": \"static-1.16039\",\n      \"stripe-embedded-components\": \"static-1.6365\",\n      \"amplitude-session-replay-browser\": \"static-1.43\",\n      \"commerce-tours-lib\": \"static-1.4968\",\n      \"sales-checkout-service-client\": \"static-1.2980\",\n      \"growth-data-modal\": \"static-1.4593\",\n      \"growth-onboarding-next-action-utils\": \"static-1.651\",\n      \"navigation-components\": \"static-1.15948\",\n      \"ui-shepherd-tracker\": \"static-1.6746\",\n      \"ui-universal-auth\": \"static-1.8143\",\n      \"card-properties-lib\": \"static-1.42081\",\n      \"customer-data-properties-shared-msw-handlers\": \"static-1.7586\",\n      \"customer-data-associations\": \"static-1.6513\",\n      \"ui-addon-draggable\": \"static-3.4166\",\n      \"social-insights-client-types\": \"static-1.19980\",\n      \"outpost\": \"static-1.3635\",\n      \"association-settings-lib\": \"static-1.8266\",\n      \"collaboration-sidebar\": \"static-1.55890\",\n      \"data-model-commons-lib\": \"static-1.10553\",\n      \"feedback-loader\": \"static-1.27868\",\n      \"final-form\": \"static-1.49\",\n      \"html-to-image\": \"static-1.36\",\n      \"object-definition-builder-lib\": \"static-1.6255\",\n      \"property-management-iframe\": \"static-1.10654\",\n      \"reactflow\": \"static-1.43\",\n      \"used-in-list-lib\": \"static-1.6110\",\n      \"visual-association\": \"static-1.5060\",\n      \"reporting-visualizations\": \"static-1.56685\",\n      \"ui-extensibility-client-types\": \"static-1.3359\",\n      \"automation-platform-service-types\": \"static-1.2299\",\n      \"ContentData\": \"static-1.66115\",\n      \"email-portal-health-service-types\": \"static-1.330\",\n      \"marketing-email-service-types\": \"static-1.1596\",\n      \"cv-backend-services\": \"static-1.1323\",\n      \"short-messages-app-service-client\": \"static-1.3346\",\n      \"ui-tool-access\": \"static-1.9373\",\n      \"hls.js\": \"static-1.22\",\n      \"diff-match-patch\": \"static-1.7\",\n      \"layout-data-lib\": \"static-1.8590\",\n      \"browser-eslint\": \"static-2.57\",\n      \"growth-onboarding-empty-states\": \"static-1.4775\",\n      \"payments-post-enroll-local-storage-lib\": \"static-1.4382\",\n      \"qrcode-generator\": \"static-1.50\",\n      \"trials-service-types\": \"static-1.3382\",\n      \"developer-experience-shared-components\": \"static-1.9642\",\n      \"marketplace-ui-client-types\": \"static-1.14912\",\n      \"marketplace-ui-common\": \"static-1.17505\",\n      \"ui-addon-integrations-directory-panel\": \"static-2.7337\",\n      \"stripe-connect-js\": \"static-1.43\",\n      \"onboarding-tours-client\": \"static-1.3775\",\n      \"customer-data-sidebar\": \"static-2.44044\",\n      \"enrichment-properties-lib\": \"static-1.13256\",\n      \"react-flip-move\": \"static-1.53\",\n      \"association-translator\": \"static-1.2467\",\n      \"crm-settings-header-lib\": \"static-1.7492\",\n      \"settings-ui-nav\": \"static-2.9408\",\n      \"collaboration-sidebar-common\": \"static-1.686\",\n      \"property-management-common\": \"static-1.2941\",\n      \"d3\": \"static-1.7\",\n      \"crm-object-map\": \"static-1.4065\",\n      \"ExportDialog\": \"static-6.9746\",\n      \"ui-addon-react-router-dom\": \"static-1.8897\",\n      \"apps-service-types\": \"static-1.3309\",\n      \"oauth-service-types\": \"static-1.3551\",\n      \"ai-settings-ui-library\": \"static-1.6654\",\n      \"react-window\": \"static-1.13\",\n      \"card-payment-highlight-lib\": \"static-1.35150\",\n      \"card-subscription-highlight-lib\": \"static-1.37428\",\n      \"invoices-highlight-card-lib\": \"static-1.52446\",\n      \"orders-highlight-card-lib\": \"static-1.19728\",\n      \"products-highlight-card-lib\": \"static-1.15660\",\n      \"project-storage\": \"static-1.3996\",\n      \"quotes-highlight-card-lib\": \"static-1.69435\",\n      \"wootric-nps\": \"static-1.6138\",\n      \"crm-source-interpretation-lib\": \"static-1.4583\",\n      \"usage-based-billing-components-lib\": \"static-1.6762\",\n      \"crm-index-visualization-object-layout\": \"static-1.3654\",\n      \"crm-object-search-query-utilities\": \"static-1.8080\",\n      \"commerce-subscription-lib\": \"static-1.35005\",\n      \"accounting-integrations-ui-components\": \"static-1.5898\",\n      \"invoices-ui-lib\": \"static-1.52462\",\n      \"commerce-products-api\": \"static-1.1194\",\n      \"SafeStorage\": \"static-1.3684\",\n      \"invoices-iframe-lib\": \"static-1.54520\",\n      \"quotes-modal-lib\": \"static-1.100107\",\n      \"quotes-ui-lib\": \"static-1.78150\",\n      \"reporting-ui-components\": \"static-2.61883\",\n      \"subscription-experience-data-types\": \"static-1.13595\",\n      \"totals-ui-components\": \"static-1.21680\",\n      \"products-ui-components\": \"static-1.37895\",\n      \"reporting-action-components\": \"static-1.39315\",\n      \"reporting-plugins\": \"static-1.9113\",\n      \"reporting-reports\": \"static-1.64289\",\n      \"reporting-snowflake\": \"static-1.53228\",\n      \"commerce-totals-service-types\": \"static-1.3228\",\n      \"property-description-translator\": \"static-1.3132\",\n      \"tiered-pricing\": \"static-1.152\",\n      \"dashboard-lib\": \"static-1.78852\",\n      \"share-with-third-party-component-lib\": \"static-1.7990\",\n      \"campaign-roi-lib\": \"static-1.6740\",\n      \"reporting-datasets-permissions-lib\": \"static-1.11386\",\n      \"redux-actions\": \"static-3.7\"\n    },\n    \"depPathPrefixes\": {\n      \"SignalsExtension\": \"/SignalsExtension/static-2.32896\",\n      \"ai-components-ui-library\": \"/ai-components-ui-library/static-1.7057\",\n      \"autolinker\": \"/autolinker/static-3.11\",\n      \"calendar-sdk\": \"/calendar-sdk/static-1.9251\",\n      \"emoji-mart\": \"/emoji-mart/static-3.4\",\n      \"head-dlb\": \"/head-dlb/static-1.4360\",\n      \"hs-test-utils\": \"/hs-test-utils/static-1.7301\",\n      \"hubspot-dlb\": \"/hubspot-dlb/static-2.1702\",\n      \"HubStyleTokens\": \"/HubStyleTokens/static-2.10809\",\n      \"I18n\": \"/I18n/static-7.1444\",\n      \"immutable\": \"/immutable/static-2.19\",\n      \"jasmine-runner\": \"/jasmine-runner/static-1.5718\",\n      \"quartz\": \"/quartz/static-1.6093\",\n      \"react\": \"/react/static-7.151\",\n      \"react-dlb\": \"/react-dlb/static-1.61\",\n      \"react-dnd\": \"/react-dnd/static-2.33\",\n      \"react-dnd-html5-backend\": \"/react-dnd-html5-backend/static-2.10\",\n      \"sales-clients-common\": \"/sales-clients-common/static-1.48757\",\n      \"sales-ext-common\": \"/sales-ext-common/static-1.39317\",\n      \"settings-ui-lib\": \"/settings-ui-lib/static-1.11825\",\n      \"underscore\": \"/underscore/static-1.8\",\n      \"webpack-env\": \"/webpack-env/static-1.54\",\n      \"apollo-stack-hubspot\": \"/apollo-stack-hubspot/static-3.43\",\n      \"atom\": \"/atom/static-1.4445\",\n      \"blueimp-md5\": \"/blueimp-md5/static-1.8\",\n      \"classnames\": \"/classnames/static-2.10\",\n      \"clients-email-associations\": \"/clients-email-associations/static-1.41737\",\n      \"content-assistance-lib\": \"/content-assistance-lib/static-1.6912\",\n      \"crm_components\": \"/crm_components/static-3.89644\",\n      \"crm_universal\": \"/crm_universal/static-1.21090\",\n      \"csstype\": \"/csstype/static-1.38\",\n      \"cssUtils\": \"/cssUtils/static-1.590\",\n      \"customer-data-objects\": \"/customer-data-objects/static-1.6925\",\n      \"customer-data-objects-ui-components\": \"/customer-data-objects-ui-components/static-1.12253\",\n      \"customer-data-properties\": \"/customer-data-properties/static-1.49183\",\n      \"customer-data-property-utils\": \"/customer-data-property-utils/static-1.7250\",\n      \"customer-data-reference-ui-components\": \"/customer-data-reference-ui-components/static-1.12345\",\n      \"customer-data-ui-utilities\": \"/customer-data-ui-utilities/static-1.9058\",\n      \"data-fetching-client\": \"/data-fetching-client/static-1.8953\",\n      \"enviro\": \"/enviro/static-4.328\",\n      \"everywhere-content\": \"/everywhere-content/static-1.20823\",\n      \"foundations-assets\": \"/foundations-assets/static-1.4167\",\n      \"foundations-components\": \"/foundations-components/static-1.6779\",\n      \"foundations-theming\": \"/foundations-theming/static-1.3629\",\n      \"frontend-preferences-client\": \"/frontend-preferences-client/static-1.7227\",\n      \"GmailXhrInterceptor\": \"/GmailXhrInterceptor/static-1.435\",\n      \"google-calendar\": \"/google-calendar/static-1.12853\",\n      \"graphql\": \"/graphql/static-1.65\",\n      \"HeadJS\": \"/HeadJS/static-2.619\",\n      \"hoist-non-react-statics\": \"/hoist-non-react-statics/static-3.9\",\n      \"hs-everywhere-components\": \"/hs-everywhere-components/static-1.63249\",\n      \"hs-promise-rejection-tracking\": \"/hs-promise-rejection-tracking/static-1.4750\",\n      \"hs-promise-utils\": \"/hs-promise-utils/static-1.4819\",\n      \"hub-http\": \"/hub-http/static-1.5499\",\n      \"hub-http-contrib\": \"/hub-http-contrib/static-1.2410\",\n      \"hubspot-apollo-client\": \"/hubspot-apollo-client/static-1.4120\",\n      \"hubspot-url-utils\": \"/hubspot-url-utils/static-1.3516\",\n      \"HubStyle\": \"/HubStyle/static-2.11117\",\n      \"i18n-data\": \"/i18n-data/static-1.207\",\n      \"icons\": \"/icons/static-2.593\",\n      \"immutable-less\": \"/immutable-less/static-1.3854\",\n      \"InboxConnectUtils\": \"/InboxConnectUtils/static-4.12923\",\n      \"jquery\": \"/jquery/static-3.6\",\n      \"metrics-js\": \"/metrics-js/static-1.9032\",\n      \"moment\": \"/moment/static-3.26\",\n      \"moment-timezone\": \"/moment-timezone/static-5.66\",\n      \"NamespacedHubStyle\": \"/NamespacedHubStyle/static-2.8572\",\n      \"PatternValidationJS\": \"/PatternValidationJS/static-1.437\",\n      \"PortalIdParser\": \"/PortalIdParser/static-2.306\",\n      \"property-translator\": \"/property-translator/static-1.4681\",\n      \"raven\": \"/raven/static-3.5229\",\n      \"raven-hubspot\": \"/raven-hubspot/static-1.5536\",\n      \"react-dom\": \"/react-dom/static-7.85\",\n      \"react-immutable-proptypes\": \"/react-immutable-proptypes/static-2.8\",\n      \"react-input-autosize\": \"/react-input-autosize/static-2.17\",\n      \"react-redux\": \"/react-redux/static-7.16\",\n      \"react-rhumb\": \"/react-rhumb/static-1.15882\",\n      \"react-select-plus\": \"/react-select-plus/static-1.65\",\n      \"react-utils\": \"/react-utils/static-2.4702\",\n      \"react-virtualized\": \"/react-virtualized/static-2.80\",\n      \"redux\": \"/redux/static-4.16\",\n      \"redux-thunk\": \"/redux-thunk/static-2.43\",\n      \"reference-resolvers\": \"/reference-resolvers/static-1.7464\",\n      \"reference-resolvers-lite\": \"/reference-resolvers-lite/static-1.7333\",\n      \"reporting-data\": \"/reporting-data/static-1.64608\",\n      \"reselect\": \"/reselect/static-2.16\",\n      \"sales-clients-common-tasks-applet\": \"/sales-clients-common-tasks-applet/static-1.45031\",\n      \"sales-ext-config\": \"/sales-ext-config/static-1.24613\",\n      \"sales-ext-kratos\": \"/sales-ext-kratos/static-1.39315\",\n      \"sales-ext-popup\": \"/sales-ext-popup/static-1.39311\",\n      \"sales-ext-sidepanel\": \"/sales-ext-sidepanel/static-1.17197\",\n      \"SalesExtensionRemoteAssets\": \"/SalesExtensionRemoteAssets/static-1.61948\",\n      \"salesImages\": \"/salesImages/static-1.508\",\n      \"SalesSidebar\": \"/SalesSidebar/static-2.45671\",\n      \"sanitize\": \"/sanitize/static-1.3671\",\n      \"sanitize-text\": \"/sanitize-text/static-1.7446\",\n      \"sassPrefix\": \"/sassPrefix/static-1.139\",\n      \"sequences-lib\": \"/sequences-lib/static-1.6982\",\n      \"SharedI18nStrings\": \"/SharedI18nStrings/static-1.170\",\n      \"signup-constants\": \"/signup-constants/static-1.17397\",\n      \"signup-ui-lego-core\": \"/signup-ui-lego-core/static-1.19407\",\n      \"signup-ui-url-generator\": \"/signup-ui-url-generator/static-2.7370\",\n      \"styled-components\": \"/styled-components/static-2.64\",\n      \"StyleGuideUI\": \"/StyleGuideUI/static-3.475\",\n      \"task-forms-lib\": \"/task-forms-lib/static-1.39634\",\n      \"tether\": \"/tether/static-3.25\",\n      \"timezone-utils\": \"/timezone-utils/static-2.4508\",\n      \"transmute\": \"/transmute/static-2.75\",\n      \"ui-addon-i18n\": \"/ui-addon-i18n/static-1.10283\",\n      \"ui-addon-iframeable\": \"/ui-addon-iframeable/static-1.8203\",\n      \"ui-addon-sales-email\": \"/ui-addon-sales-email/static-1.4496\",\n      \"ui-deal-management-components-lib\": \"/ui-deal-management-components-lib/static-1.17775\",\n      \"ui-fonts\": \"/ui-fonts/static-1.333\",\n      \"ui-images\": \"/ui-images/static-2.955\",\n      \"ui-shepherd-react\": \"/ui-shepherd-react/static-3.9365\",\n      \"UIComponents\": \"/UIComponents/static-3.7756\",\n      \"urlinator\": \"/urlinator/static-1.3833\",\n      \"usage-tracker\": \"/usage-tracker/static-1.6737\",\n      \"usage-tracker-core\": \"/usage-tracker-core/static-1.6587\",\n      \"bend-plugin-trellis-migration\": \"/bend-plugin-trellis-migration/static-1.2849\",\n      \"chatspot-client-types\": \"/chatspot-client-types/static-1.9917\",\n      \"chatspot-core\": \"/chatspot-core/static-1.18603\",\n      \"ContentUtils\": \"/ContentUtils/static-1.66040\",\n      \"copilot-toolkit\": \"/copilot-toolkit/static-1.9182\",\n      \"foundations-theming-base\": \"/foundations-theming-base/static-1.2614\",\n      \"foundations-theming-specialty\": \"/foundations-theming-specialty/static-1.1345\",\n      \"hs-story-utils\": \"/hs-story-utils/static-1.8660\",\n      \"msw\": \"/msw/static-1.39\",\n      \"quartz-core\": \"/quartz-core/static-1.5312\",\n      \"rpc-client-utils\": \"/rpc-client-utils/static-1.4002\",\n      \"framer-motion\": \"/framer-motion/static-1.51\",\n      \"hs-test-utils-bend-plugin\": \"/hs-test-utils-bend-plugin/static-1.2412\",\n      \"testing-library\": \"/testing-library/static-1.133\",\n      \"jasmine\": \"/jasmine/static-4.3620\",\n      \"quartz-core-utils\": \"/quartz-core-utils/static-1.2960\",\n      \"ExtensionInstallHelpers\": \"/ExtensionInstallHelpers/static-1.576\",\n      \"ui-coaching-tips\": \"/ui-coaching-tips/static-1.26411\",\n      \"flux-actions\": \"/flux-actions/static-1.285\",\n      \"react-colorpicker\": \"/react-colorpicker/static-2.9556\",\n      \"redux-observable\": \"/redux-observable/static-1.11\",\n      \"ReduxMessenger\": \"/ReduxMessenger/static-2.9761\",\n      \"rxjs\": \"/rxjs/static-5.10\",\n      \"usage-tracker-container\": \"/usage-tracker-container/static-1.6727\",\n      \"apollo-dlb\": \"/apollo-dlb/static-3.41\",\n      \"customer-data-communicator\": \"/customer-data-communicator/static-1.43483\",\n      \"salesclients-service-types\": \"/salesclients-service-types/static-1.24438\",\n      \"universal-associations-select\": \"/universal-associations-select/static-1.10202\",\n      \"react-transition-group\": \"/react-transition-group/static-1.7\",\n      \"superstore\": \"/superstore/static-1.4031\",\n      \"ui-addon-video-player\": \"/ui-addon-video-player/static-1.8059\",\n      \"conversations-skeleton-state\": \"/conversations-skeleton-state/static-1.6658\",\n      \"customer-data-content\": \"/customer-data-content/static-1.25948\",\n      \"react-immutable-render-mixin\": \"/react-immutable-render-mixin/static-1.9\",\n      \"crm_schema\": \"/crm_schema/static-3.89683\",\n      \"FormUrlGenerator\": \"/FormUrlGenerator/static-2.4008\",\n      \"inbound-db-properties-service-client\": \"/inbound-db-properties-service-client/static-1.3322\",\n      \"avatar-components\": \"/avatar-components/static-1.1775\",\n      \"calling-cross-tab-library\": \"/calling-cross-tab-library/static-1.18569\",\n      \"calling-global-api\": \"/calling-global-api/static-1.61905\",\n      \"calling-integration-cross-tab\": \"/calling-integration-cross-tab/static-1.21100\",\n      \"calling-internal-common\": \"/calling-internal-common/static-1.30571\",\n      \"calling-lifecycle-internal\": \"/calling-lifecycle-internal/static-1.63287\",\n      \"calling-lifecycle-messages\": \"/calling-lifecycle-messages/static-1.55582\",\n      \"commerce-products-lib\": \"/commerce-products-lib/static-1.7375\",\n      \"conditional-properties-service-client\": \"/conditional-properties-service-client/static-1.3279\",\n      \"crm-links\": \"/crm-links/static-1.5464\",\n      \"crm-message-bus\": \"/crm-message-bus/static-1.40898\",\n      \"external-options-client-types\": \"/external-options-client-types/static-1.3493\",\n      \"file-manager-components\": \"/file-manager-components/static-1.21526\",\n      \"framework-data-schema-resolvers\": \"/framework-data-schema-resolvers/static-1.6186\",\n      \"google-libphonenumber\": \"/google-libphonenumber/static-1.18\",\n      \"inbound-db-meta-service-client\": \"/inbound-db-meta-service-client/static-1.3098\",\n      \"inbounddb-objects-service-types\": \"/inbounddb-objects-service-types/static-1.3591\",\n      \"object-builder-ui-client\": \"/object-builder-ui-client/static-1.46321\",\n      \"pipeline-validation-client-types\": \"/pipeline-validation-client-types/static-1.3284\",\n      \"smart-property-lib\": \"/smart-property-lib/static-1.4138\",\n      \"ui-addon-form-validation\": \"/ui-addon-form-validation/static-1.10319\",\n      \"user-context\": \"/user-context/static-1.4495\",\n      \"react-dnd-compat\": \"/react-dnd-compat/static-1.3968\",\n      \"directed-graph\": \"/directed-graph/static-1.226\",\n      \"event-emitter\": \"/event-emitter/static-1.294\",\n      \"fast-json-stable-stringify\": \"/fast-json-stable-stringify/static-1.4\",\n      \"bend-plugin-foundations-components\": \"/bend-plugin-foundations-components/static-1.3048\",\n      \"floating-ui\": \"/floating-ui/static-1.39\",\n      \"react-aria\": \"/react-aria/static-1.44\",\n      \"tanstack-table\": \"/tanstack-table/static-1.23\",\n      \"bend-plugin-foundations-theming\": \"/bend-plugin-foundations-theming/static-1.2112\",\n      \"hub-http-janus\": \"/hub-http-janus/static-1.691\",\n      \"quick-fetch\": \"/quick-fetch/static-1.2772\",\n      \"hs-lodash\": \"/hs-lodash/static-4.45\",\n      \"commerce-contract-lib\": \"/commerce-contract-lib/static-1.9666\",\n      \"task-queues\": \"/task-queues/static-1.32698\",\n      \"apollo-link-hub-http\": \"/apollo-link-hub-http/static-2.4038\",\n      \"immer\": \"/immer/static-1.33\",\n      \"batch-promise\": \"/batch-promise/static-1.893\",\n      \"reporting-client-types\": \"/reporting-client-types/static-1.2237\",\n      \"redux-mock-store\": \"/redux-mock-store/static-1.8\",\n      \"chatspot-widget-iframe\": \"/chatspot-widget-iframe/static-1.18595\",\n      \"hubspot-prosemirror\": \"/hubspot-prosemirror/static-1.16242\",\n      \"crm_data\": \"/crm_data/static-4.89644\",\n      \"ui-addon-upgrades\": \"/ui-addon-upgrades/static-9.16908\",\n      \"customer-data-email\": \"/customer-data-email/static-1.16813\",\n      \"draft-js\": \"/draft-js/static-5.37\",\n      \"prosemirror\": \"/prosemirror/static-1.13\",\n      \"sequences-client-types-lib\": \"/sequences-client-types-lib/static-1.6839\",\n      \"emoji-regex\": \"/emoji-regex/static-1.7\",\n      \"crm-activity-creator-data\": \"/crm-activity-creator-data/static-1.44168\",\n      \"foundations-components-test-utils\": \"/foundations-components-test-utils/static-1.4263\",\n      \"magpie-lib\": \"/magpie-lib/static-1.4955\",\n      \"navigation-messaging\": \"/navigation-messaging/static-1.5275\",\n      \"customer-data-filters-ui\": \"/customer-data-filters-ui/static-1.37078\",\n      \"ts-schema\": \"/ts-schema/static-1.3491\",\n      \"markdown-it\": \"/markdown-it/static-1.6\",\n      \"cms-field-types\": \"/cms-field-types/static-1.4062\",\n      \"content-icons-ui\": \"/content-icons-ui/static-1.2003\",\n      \"magpie-types\": \"/magpie-types/static-1.4415\",\n      \"simple-logging-lib\": \"/simple-logging-lib/static-1.2303\",\n      \"dispatcher\": \"/dispatcher/static-1.120\",\n      \"general-store\": \"/general-store/static-6.20\",\n      \"history\": \"/history/static-4.47\",\n      \"hub-http-shared-msw-handlers\": \"/hub-http-shared-msw-handlers/static-1.8258\",\n      \"hubspotter-http\": \"/hubspotter-http/static-1.3965\",\n      \"hubspotter-http-shared-msw-handlers\": \"/hubspotter-http-shared-msw-handlers/static-1.8256\",\n      \"mobile-manifest-mixins\": \"/mobile-manifest-mixins/static-1.390\",\n      \"platform-navigation-bootstrap\": \"/platform-navigation-bootstrap/static-1.11772\",\n      \"react-router-dom\": \"/react-router-dom/static-5.26\",\n      \"growth-onboarding-feedback-components\": \"/growth-onboarding-feedback-components/static-1.5790\",\n      \"calling-error-reporting\": \"/calling-error-reporting/static-1.30577\",\n      \"calling-usage-tracker\": \"/calling-usage-tracker/static-1.5788\",\n      \"crm-display-components\": \"/crm-display-components/static-1.22872\",\n      \"crm-fe-perf\": \"/crm-fe-perf/static-1.22275\",\n      \"crm-legacy-global-containers\": \"/crm-legacy-global-containers/static-1.23084\",\n      \"customer-data-rte\": \"/customer-data-rte/static-1.31315\",\n      \"customer-data-tracking\": \"/customer-data-tracking/static-1.6138\",\n      \"draft-content-plugins\": \"/draft-content-plugins/static-1.26665\",\n      \"draft-convert\": \"/draft-convert/static-2.31\",\n      \"draft-email-branding-plugin\": \"/draft-email-branding-plugin/static-2.22648\",\n      \"draft-extend\": \"/draft-extend/static-2.46\",\n      \"draft-plugins\": \"/draft-plugins/static-2.20387\",\n      \"draft-signature-plugin\": \"/draft-signature-plugin/static-1.22352\",\n      \"EmailSignatureEditor\": \"/EmailSignatureEditor/static-1.22888\",\n      \"FileManagerCore\": \"/FileManagerCore/static-1.37025\",\n      \"FileManagerLib\": \"/FileManagerLib/static-1.37166\",\n      \"hubspot-prosemirror-plugins\": \"/hubspot-prosemirror-plugins/static-1.16234\",\n      \"integration-settings-components\": \"/integration-settings-components/static-1.13165\",\n      \"integrations-lib\": \"/integrations-lib/static-1.13871\",\n      \"integrations-tracking-lib\": \"/integrations-tracking-lib/static-1.4920\",\n      \"native-integrations-shared-strings\": \"/native-integrations-shared-strings/static-1.7115\",\n      \"nav-meta\": \"/nav-meta/static-1.27585\",\n      \"outreach-assistant-email-generation\": \"/outreach-assistant-email-generation/static-1.4834\",\n      \"quotes-client-types\": \"/quotes-client-types/static-1.35519\",\n      \"rich-text-lib\": \"/rich-text-lib/static-1.18553\",\n      \"sales-email-signature-service-client\": \"/sales-email-signature-service-client/static-1.3234\",\n      \"ui-business-units-lib\": \"/ui-business-units-lib/static-1.8214\",\n      \"ui-gdpr-components\": \"/ui-gdpr-components/static-1.9529\",\n      \"whatsapp-sending-lib\": \"/whatsapp-sending-lib/static-1.3356\",\n      \"SalesContentIndexUI\": \"/SalesContentIndexUI/static-3.8073\",\n      \"self-service-api\": \"/self-service-api/static-1.9537\",\n      \"shared-worker-versioning\": \"/shared-worker-versioning/static-1.10364\",\n      \"worker-connection-library\": \"/worker-connection-library/static-1.15553\",\n      \"calling-orchestration-shared-library\": \"/calling-orchestration-shared-library/static-1.33253\",\n      \"onboarding-scopes\": \"/onboarding-scopes/static-1.5828\",\n      \"growth-payments-core\": \"/growth-payments-core/static-1.23325\",\n      \"products-iframe-lib\": \"/products-iframe-lib/static-1.6017\",\n      \"products-ui-components-shared-msw-handlers\": \"/products-ui-components-shared-msw-handlers/static-1.8641\",\n      \"location-customization-utils-lib\": \"/location-customization-utils-lib/static-1.6999\",\n      \"immerable\": \"/immerable/static-1.3423\",\n      \"video-components-external\": \"/video-components-external/static-1.9124\",\n      \"video-data-lib\": \"/video-data-lib/static-1.32782\",\n      \"crm-pipelines-api-client-types\": \"/crm-pipelines-api-client-types/static-1.3465\",\n      \"framework-builder-read-service-client\": \"/framework-builder-read-service-client/static-1.3439\",\n      \"framework-data-schema-quick-fetch\": \"/framework-data-schema-quick-fetch/static-1.6091\",\n      \"persist-promise\": \"/persist-promise/static-1.3051\",\n      \"breeze-intelligence-kit\": \"/breeze-intelligence-kit/static-1.4635\",\n      \"data-token-picker\": \"/data-token-picker/static-1.15190\",\n      \"framework-data-schema-resolvers-shared-msw-handlers\": \"/framework-data-schema-resolvers-shared-msw-handlers/static-1.8342\",\n      \"fsm\": \"/fsm/static-1.3006\",\n      \"policy-lib\": \"/policy-lib/static-1.6062\",\n      \"react-tinymce\": \"/react-tinymce/static-1.53194\",\n      \"reference-resolvers-lite-shared-msw-handlers\": \"/reference-resolvers-lite-shared-msw-handlers/static-1.8404\",\n      \"tinymce\": \"/tinymce/static-5.11\",\n      \"tinymce-config\": \"/tinymce-config/static-2.52320\",\n      \"tinymce-plugins\": \"/tinymce-plugins/static-1.55434\",\n      \"tinymce-themes\": \"/tinymce-themes/static-1.54290\",\n      \"getting-started-shared-tasks\": \"/getting-started-shared-tasks/static-1.16404\",\n      \"getting-started-shared-tasks-store\": \"/getting-started-shared-tasks-store/static-1.15522\",\n      \"commerce-billing-lib\": \"/commerce-billing-lib/static-1.17151\",\n      \"commerce-shared-components-lib\": \"/commerce-shared-components-lib/static-1.16663\",\n      \"crm-cards-sdk\": \"/crm-cards-sdk/static-1.41373\",\n      \"payments-enrollment-embed-lib\": \"/payments-enrollment-embed-lib/static-1.20294\",\n      \"usage-tracker-session-replay\": \"/usage-tracker-session-replay/static-1.4423\",\n      \"utility-belt\": \"/utility-belt/static-1.1807\",\n      \"zustand\": \"/zustand/static-1.51\",\n      \"guided-actions-lib\": \"/guided-actions-lib/static-1.18771\",\n      \"knowledge-content-types\": \"/knowledge-content-types/static-1.8008\",\n      \"payment-link-components\": \"/payment-link-components/static-1.21617\",\n      \"ui-addon-emoji-picker\": \"/ui-addon-emoji-picker/static-1.9229\",\n      \"feature-store-service-types\": \"/feature-store-service-types/static-1.3974\",\n      \"growth-monetization-service-types\": \"/growth-monetization-service-types/static-1.3981\",\n      \"merchandise-lib\": \"/merchandise-lib/static-1.231\",\n      \"upgrade-management-service-types\": \"/upgrade-management-service-types/static-1.3965\",\n      \"idb-keyval\": \"/idb-keyval/static-1.27\",\n      \"reactive-lib\": \"/reactive-lib/static-1.55\",\n      \"customer-data-filters-ui-msw-helpers\": \"/customer-data-filters-ui-msw-helpers/static-1.19512\",\n      \"lodash\": \"/lodash/static-4.7\",\n      \"multi-account-reference-resolvers\": \"/multi-account-reference-resolvers/static-1.287\",\n      \"onboarding-tours\": \"/onboarding-tours/static-1.15460\",\n      \"ui-addon-teams\": \"/ui-addon-teams/static-1.20630\",\n      \"platform-infra-nav-components\": \"/platform-infra-nav-components/static-1.7074\",\n      \"crm-component-utils\": \"/crm-component-utils/static-1.37122\",\n      \"framework-data-table\": \"/framework-data-table/static-2.10366\",\n      \"viral-links-lib\": \"/viral-links-lib/static-1.6198\",\n      \"audio-components\": \"/audio-components/static-1.5051\",\n      \"cropperjs\": \"/cropperjs/static-1.10\",\n      \"FileManagerImages\": \"/FileManagerImages/static-1.34677\",\n      \"redux-toolkit\": \"/redux-toolkit/static-1.7\",\n      \"video-components\": \"/video-components/static-1.11127\",\n      \"video-embed\": \"/video-embed/static-1.33616\",\n      \"content-embed-lib\": \"/content-embed-lib/static-1.6634\",\n      \"crm-record-cards-service-types\": \"/crm-record-cards-service-types/static-1.3067\",\n      \"data-model-builder-lib\": \"/data-model-builder-lib/static-1.9872\",\n      \"remote-ui\": \"/remote-ui/static-1.50\",\n      \"ui-components-test-utils\": \"/ui-components-test-utils/static-1.4947\",\n      \"ui-extensions-remote-renderer\": \"/ui-extensions-remote-renderer/static-1.15193\",\n      \"universal-page-editor-lib\": \"/universal-page-editor-lib/static-1.2325\",\n      \"integrations-error-boundary-lib\": \"/integrations-error-boundary-lib/static-1.11286\",\n      \"laboratory-lib\": \"/laboratory-lib/static-3.6500\",\n      \"messaging-types-lib\": \"/messaging-types-lib/static-1.43703\",\n      \"whatsapp-management-lib\": \"/whatsapp-management-lib/static-1.6515\",\n      \"FireAlarmUi\": \"/FireAlarmUi/static-1.3988\",\n      \"sales-templates-service-types-lib\": \"/sales-templates-service-types-lib/static-1.3550\",\n      \"ui-asset-management-lib\": \"/ui-asset-management-lib/static-1.9987\",\n      \"calling-orchestration-schema\": \"/calling-orchestration-schema/static-1.33478\",\n      \"commerce-analytics-service-client\": \"/commerce-analytics-service-client/static-1.2968\",\n      \"ui-addon-opt\": \"/ui-addon-opt/static-4.7816\",\n      \"multi-currency-client-types\": \"/multi-currency-client-types/static-1.3101\",\n      \"sales-views-client-types\": \"/sales-views-client-types/static-1.3565\",\n      \"content-media-composition-data-lib\": \"/content-media-composition-data-lib/static-1.9362\",\n      \"content-media-compositions\": \"/content-media-compositions/static-2.13369\",\n      \"media-bridge-lib\": \"/media-bridge-lib/static-1.17790\",\n      \"highcharts\": \"/highcharts/static-8.87\",\n      \"trellis-story-utils\": \"/trellis-story-utils/static-1.3845\",\n      \"storybook-react\": \"/storybook-react/static-1.14\",\n      \"interframe\": \"/interframe/static-3.4073\",\n      \"tinymce-data\": \"/tinymce-data/static-1.38405\",\n      \"codemirror\": \"/codemirror/static-5.78\",\n      \"layout-dnd-components\": \"/layout-dnd-components/static-1.11290\",\n      \"layout-dnd-utils\": \"/layout-dnd-utils/static-1.10265\",\n      \"react-codemirror\": \"/react-codemirror/static-1.9905\",\n      \"ui-brand-identity-lib\": \"/ui-brand-identity-lib/static-1.11903\",\n      \"commerce-tools-ui-lib\": \"/commerce-tools-ui-lib/static-1.8667\",\n      \"crm-actions\": \"/crm-actions/static-1.5472\",\n      \"growth-onboarding-confetti\": \"/growth-onboarding-confetti/static-1.2388\",\n      \"growth-onboarding-reliability\": \"/growth-onboarding-reliability/static-1.4435\",\n      \"marketplace-ui-apps-core\": \"/marketplace-ui-apps-core/static-1.16039\",\n      \"stripe-embedded-components\": \"/stripe-embedded-components/static-1.6365\",\n      \"amplitude-session-replay-browser\": \"/amplitude-session-replay-browser/static-1.43\",\n      \"commerce-tours-lib\": \"/commerce-tours-lib/static-1.4968\",\n      \"sales-checkout-service-client\": \"/sales-checkout-service-client/static-1.2980\",\n      \"growth-data-modal\": \"/growth-data-modal/static-1.4593\",\n      \"growth-onboarding-next-action-utils\": \"/growth-onboarding-next-action-utils/static-1.651\",\n      \"navigation-components\": \"/navigation-components/static-1.15948\",\n      \"ui-shepherd-tracker\": \"/ui-shepherd-tracker/static-1.6746\",\n      \"ui-universal-auth\": \"/ui-universal-auth/static-1.8143\",\n      \"card-properties-lib\": \"/card-properties-lib/static-1.42081\",\n      \"customer-data-properties-shared-msw-handlers\": \"/customer-data-properties-shared-msw-handlers/static-1.7586\",\n      \"customer-data-associations\": \"/customer-data-associations/static-1.6513\",\n      \"ui-addon-draggable\": \"/ui-addon-draggable/static-3.4166\",\n      \"social-insights-client-types\": \"/social-insights-client-types/static-1.19980\",\n      \"outpost\": \"/outpost/static-1.3635\",\n      \"association-settings-lib\": \"/association-settings-lib/static-1.8266\",\n      \"collaboration-sidebar\": \"/collaboration-sidebar/static-1.55890\",\n      \"data-model-commons-lib\": \"/data-model-commons-lib/static-1.10553\",\n      \"feedback-loader\": \"/feedback-loader/static-1.27868\",\n      \"final-form\": \"/final-form/static-1.49\",\n      \"html-to-image\": \"/html-to-image/static-1.36\",\n      \"object-definition-builder-lib\": \"/object-definition-builder-lib/static-1.6255\",\n      \"property-management-iframe\": \"/property-management-iframe/static-1.10654\",\n      \"reactflow\": \"/reactflow/static-1.43\",\n      \"used-in-list-lib\": \"/used-in-list-lib/static-1.6110\",\n      \"visual-association\": \"/visual-association/static-1.5060\",\n      \"reporting-visualizations\": \"/reporting-visualizations/static-1.56685\",\n      \"ui-extensibility-client-types\": \"/ui-extensibility-client-types/static-1.3359\",\n      \"automation-platform-service-types\": \"/automation-platform-service-types/static-1.2299\",\n      \"ContentData\": \"/ContentData/static-1.66115\",\n      \"email-portal-health-service-types\": \"/email-portal-health-service-types/static-1.330\",\n      \"marketing-email-service-types\": \"/marketing-email-service-types/static-1.1596\",\n      \"cv-backend-services\": \"/cv-backend-services/static-1.1323\",\n      \"short-messages-app-service-client\": \"/short-messages-app-service-client/static-1.3346\",\n      \"ui-tool-access\": \"/ui-tool-access/static-1.9373\",\n      \"hls.js\": \"/hls.js/static-1.22\",\n      \"diff-match-patch\": \"/diff-match-patch/static-1.7\",\n      \"layout-data-lib\": \"/layout-data-lib/static-1.8590\",\n      \"browser-eslint\": \"/browser-eslint/static-2.57\",\n      \"growth-onboarding-empty-states\": \"/growth-onboarding-empty-states/static-1.4775\",\n      \"payments-post-enroll-local-storage-lib\": \"/payments-post-enroll-local-storage-lib/static-1.4382\",\n      \"qrcode-generator\": \"/qrcode-generator/static-1.50\",\n      \"trials-service-types\": \"/trials-service-types/static-1.3382\",\n      \"developer-experience-shared-components\": \"/developer-experience-shared-components/static-1.9642\",\n      \"marketplace-ui-client-types\": \"/marketplace-ui-client-types/static-1.14912\",\n      \"marketplace-ui-common\": \"/marketplace-ui-common/static-1.17505\",\n      \"ui-addon-integrations-directory-panel\": \"/ui-addon-integrations-directory-panel/static-2.7337\",\n      \"stripe-connect-js\": \"/stripe-connect-js/static-1.43\",\n      \"onboarding-tours-client\": \"/onboarding-tours-client/static-1.3775\",\n      \"customer-data-sidebar\": \"/customer-data-sidebar/static-2.44044\",\n      \"enrichment-properties-lib\": \"/enrichment-properties-lib/static-1.13256\",\n      \"react-flip-move\": \"/react-flip-move/static-1.53\",\n      \"association-translator\": \"/association-translator/static-1.2467\",\n      \"crm-settings-header-lib\": \"/crm-settings-header-lib/static-1.7492\",\n      \"settings-ui-nav\": \"/settings-ui-nav/static-2.9408\",\n      \"collaboration-sidebar-common\": \"/collaboration-sidebar-common/static-1.686\",\n      \"property-management-common\": \"/property-management-common/static-1.2941\",\n      \"d3\": \"/d3/static-1.7\",\n      \"crm-object-map\": \"/crm-object-map/static-1.4065\",\n      \"ExportDialog\": \"/ExportDialog/static-6.9746\",\n      \"ui-addon-react-router-dom\": \"/ui-addon-react-router-dom/static-1.8897\",\n      \"apps-service-types\": \"/apps-service-types/static-1.3309\",\n      \"oauth-service-types\": \"/oauth-service-types/static-1.3551\",\n      \"ai-settings-ui-library\": \"/ai-settings-ui-library/static-1.6654\",\n      \"react-window\": \"/react-window/static-1.13\",\n      \"card-payment-highlight-lib\": \"/card-payment-highlight-lib/static-1.35150\",\n      \"card-subscription-highlight-lib\": \"/card-subscription-highlight-lib/static-1.37428\",\n      \"invoices-highlight-card-lib\": \"/invoices-highlight-card-lib/static-1.52446\",\n      \"orders-highlight-card-lib\": \"/orders-highlight-card-lib/static-1.19728\",\n      \"products-highlight-card-lib\": \"/products-highlight-card-lib/static-1.15660\",\n      \"project-storage\": \"/project-storage/static-1.3996\",\n      \"quotes-highlight-card-lib\": \"/quotes-highlight-card-lib/static-1.69435\",\n      \"wootric-nps\": \"/wootric-nps/static-1.6138\",\n      \"crm-source-interpretation-lib\": \"/crm-source-interpretation-lib/static-1.4583\",\n      \"usage-based-billing-components-lib\": \"/usage-based-billing-components-lib/static-1.6762\",\n      \"crm-index-visualization-object-layout\": \"/crm-index-visualization-object-layout/static-1.3654\",\n      \"crm-object-search-query-utilities\": \"/crm-object-search-query-utilities/static-1.8080\",\n      \"commerce-subscription-lib\": \"/commerce-subscription-lib/static-1.35005\",\n      \"accounting-integrations-ui-components\": \"/accounting-integrations-ui-components/static-1.5898\",\n      \"invoices-ui-lib\": \"/invoices-ui-lib/static-1.52462\",\n      \"commerce-products-api\": \"/commerce-products-api/static-1.1194\",\n      \"SafeStorage\": \"/SafeStorage/static-1.3684\",\n      \"invoices-iframe-lib\": \"/invoices-iframe-lib/static-1.54520\",\n      \"quotes-modal-lib\": \"/quotes-modal-lib/static-1.100107\",\n      \"quotes-ui-lib\": \"/quotes-ui-lib/static-1.78150\",\n      \"reporting-ui-components\": \"/reporting-ui-components/static-2.61883\",\n      \"subscription-experience-data-types\": \"/subscription-experience-data-types/static-1.13595\",\n      \"totals-ui-components\": \"/totals-ui-components/static-1.21680\",\n      \"products-ui-components\": \"/products-ui-components/static-1.37895\",\n      \"reporting-action-components\": \"/reporting-action-components/static-1.39315\",\n      \"reporting-plugins\": \"/reporting-plugins/static-1.9113\",\n      \"reporting-reports\": \"/reporting-reports/static-1.64289\",\n      \"reporting-snowflake\": \"/reporting-snowflake/static-1.53228\",\n      \"commerce-totals-service-types\": \"/commerce-totals-service-types/static-1.3228\",\n      \"property-description-translator\": \"/property-description-translator/static-1.3132\",\n      \"tiered-pricing\": \"/tiered-pricing/static-1.152\",\n      \"dashboard-lib\": \"/dashboard-lib/static-1.78852\",\n      \"share-with-third-party-component-lib\": \"/share-with-third-party-component-lib/static-1.7990\",\n      \"campaign-roi-lib\": \"/campaign-roi-lib/static-1.6740\",\n      \"reporting-datasets-permissions-lib\": \"/reporting-datasets-permissions-lib/static-1.11386\",\n      \"redux-actions\": \"/redux-actions/static-3.7\"\n    },\n    \"project\": \"SignalsExtension\",\n    \"staticDomain\": \"//static.hsappstatic.net\",\n    \"staticDomainPrefix\": \"//static.hsappstatic.net\"\n  }\n};","export interface Enviro {\n  createEnviro(location: typeof window.location): Enviro;\n  debug(service: string, defaultVal?: boolean): boolean | string;\n  denormalize(env: string): string;\n  deployed(service?: string): boolean;\n  enabled(service: string, defaultVal?: boolean): boolean;\n  get(service: string): string;\n  getHublet(): string;\n  getInternal(service?: string): string;\n  getShort(service?: string): string;\n  isProd(service?: string): boolean;\n  isQa(service?: string): boolean;\n  normalize(env: string): string;\n  set(key: string, env: string): string | boolean | undefined;\n  setDebug(service: string, val?: boolean): void;\n\n  /**\n   * Executes callback based on matching against current or provided hublet.\n   *\n   * @template T\n   * @template P\n   * @param {Object} hubletCallbacks\n   * @param {function(string): T} hubletCallbacks.isNa1 - Callback for NA1 hublet.\n   * @param {function(string): P} hubletCallbacks.isNa1 - Callback for non-NA1 hublets.\n   * @param hublet - (Optional) The hublet to check against. If not provided, the current hublet is used.\n   * @returns {T | P} - The result of the matching callback function.\n   */\n  ifHublet<T, P>(hubletCallbacks: HubletCallback<T, P>, hublet?: string): T | P;\n\n  /**\n   * Executes callback based on matching against current or provided hublet.\n   *\n   * @template T\n   * @param {Object} hubletCallbacks\n   * @param {function(string): T} hubletCallbacks.isNa1 - Callback for NA1 hublet.\n   * @param hublet - (Optional) The hublet to check against. If not provided, the current hublet is used.\n   * @returns {T | undefined} The result of the matching callback function, or `undefined` if no match is found.\n   */\n  ifHublet<T>(\n    hubletCallbacks:\n      | { isNa1?: (hublet: string) => T }\n      | { isNonNa1?: (hublet: string) => T },\n    hublet?: string\n  ): T | undefined;\n}\n\ninterface Window {\n  [key: string]: any;\n}\n\ninterface EnvMap {\n  [key: string]: string;\n}\n\ntype HubletCallback<T = unknown, P = unknown> = {\n  isNa1: (hublet: string) => T;\n  isNonNa1: (hublet: string) => P;\n};\n\nconst SUBDOMAINS = [\n  'api',\n  'local',\n  'app',\n  'private',\n  'platform',\n  'tools',\n  'meetings',\n  'payments',\n  'mcp',\n];\nconst COM_DOMAINS = [\n  'hubspot',\n  'hubteam',\n  'grader',\n  'getsignals',\n  'getsidekick',\n  'gettally',\n  'hubspotemail',\n  'customer-hub',\n  'hubspotservicehub',\n  'hubspotquote',\n  'hubspotdocuments',\n  'hs-data-privacy',\n\n  // connect.com and wthubspot.com intentionally not included here due to mismatching qa tld\n];\nconst NET_DOMAINS = ['hubspotstarter', 'hubspotfree', 'hubspotemail'];\nconst ORG_DOMAINS = ['growth'];\nconst DOMAINS = {\n  com: COM_DOMAINS.join('|'),\n  net: NET_DOMAINS.join('|'),\n  org: ORG_DOMAINS.join('|'),\n};\n\nconst createEnviro = function (location: typeof window.location): Enviro {\n  const deployedRe = new RegExp(\n    `^(?!local|test|selenium)(.*\\\\.)?(${Object.entries(DOMAINS)\n      .map(([tld, regexList]) => `(?:${regexList})(qa)?\\\\.${tld}`)\n      .join(\n        '|'\n      )}|(?:connect)\\\\.com|(?:connect)(qa)\\\\.co|wthubspot\\\\.(com|de|es|fr|jp))$`\n  );\n  const isDeployed = deployedRe.test(location.hostname);\n  const qaRe = new RegExp(\n    `${Object.entries(DOMAINS)\n      .map(([tld, regexList]) => `(?:${regexList})qa\\\\.${tld}`)\n      .join(\n        '|'\n      )}|(?:connect)qa\\\\.co|wthubspot\\\\.(com|de|es|fr|jp)|hsqa-sales(?:crm)?-sub\\\\.com|(?:hubspotstarter|hubspotfree|hubspotemail)(qa)(?:-.*)\\\\.net|(?:hubspotemail)(qa)(?:-.*)\\\\.com`\n  );\n  const hubletRe = new RegExp(\n    `^(?:${SUBDOMAINS.join('|')})-(.*).(?:hubspot|hubteam)(?:qa)?.com`\n  );\n  const hubspotQuoteHubletRe = new RegExp(`^(.*).(?:hubspotquote)(?:qa)?.com`);\n  const hubspotDocumentsHubletRe = new RegExp(\n    `^app-(.*).(?:hubspotdocuments)(?:qa)?.com`\n  );\n  const hubspotSalesSubRe = new RegExp(\n    '^(?:[0-9]+).(.*).hs(?:qa)?-sales(?:crm)?-sub.com'\n  );\n  const hubspotFreeStarterHubletRe = new RegExp(\n    '^hs-(?:[0-9]+).s.(?:hubspotfree|hubspotstarter|hubspotemail)(?:qa)?-(.*).net'\n  );\n  const hubspotEmailHubletRe = new RegExp(\n    '^hs-(?:[0-9]+).s.(?:hubspotemail)(?:qa)?-(.*).com'\n  );\n\n  const sidekickOpenHubletRe = new RegExp(\n    '^t.sidekickopen(?:\\\\d)+-([a-z]+[0-9]).com'\n  );\n  const hsDataPrivacyHubletRe = new RegExp(\n    '^([a-z]+[0-9]).hs-data-privacy(?:qa)?.com'\n  );\n\n  const HUBLET_REGEXPS = [\n    hubletRe,\n    hubspotQuoteHubletRe,\n    hubspotDocumentsHubletRe,\n    hubspotSalesSubRe,\n    hubspotFreeStarterHubletRe,\n    hubspotEmailHubletRe,\n    sidekickOpenHubletRe,\n    hsDataPrivacyHubletRe,\n  ];\n\n  const defaultKey = 'ENV';\n  const DEFAULT_NOT_SUPPORTED_ERROR_MSG =\n    'Enviro error: the default argument for .get and .getShort is no longer supported';\n\n  const getEnv = (key: string): string => {\n    let result = (window as Window)[key];\n\n    if (result == null) {\n      try {\n        result = (window as Window).sessionStorage.getItem(key);\n      } catch (e) {}\n    }\n\n    if (result == null) {\n      try {\n        result = (window as Window).localStorage.getItem(key);\n      } catch (e) {}\n    }\n\n    return result;\n  };\n\n  const getDefaultEnv = (): string => {\n    const env = getEnv(defaultKey);\n    if (env) {\n      return env;\n    } else if (qaRe.test(location.host)) {\n      return 'qa';\n    } else {\n      return 'prod';\n    }\n  };\n\n  const setEnv = (key: string, env: string | boolean | undefined) => {\n    (window as Window)[key] = env;\n    return env;\n  };\n\n  const MAP = {\n    prod: 'production',\n    qa: 'development',\n  };\n\n  const normalize = (env: string): string => {\n    if (typeof env === 'string') {\n      const lower = env.toLowerCase();\n      return (MAP as EnvMap)[lower] || lower;\n    }\n\n    return env;\n  };\n\n  const denormalize = (env: any): string => {\n    env = typeof env === 'string' ? env.toLowerCase() : undefined;\n\n    return (\n      Object.keys(MAP).find((ours: string) => env === (MAP as EnvMap)[ours]) ||\n      env\n    );\n  };\n\n  const get = (service?: string, defaultVal?: boolean): string => {\n    if (defaultVal != null) {\n      throw new Error(DEFAULT_NOT_SUPPORTED_ERROR_MSG);\n    }\n    let env = null;\n    if (service) {\n      const parts = service.split('.').reverse();\n      for (let i = 0; i < parts.length; i++) {\n        const pathPart = parts[i];\n        env = getEnv(`${pathPart.toUpperCase()}_ENV`);\n        if (env) {\n          break;\n        }\n      }\n    }\n    if (env == null) {\n      const defaultEnv = getDefaultEnv();\n      env = defaultEnv != null ? defaultEnv : 'qa';\n    }\n    return normalize(env);\n  };\n\n  const set = function (\n    key: string,\n    env: string\n  ): string | boolean | undefined {\n    if (arguments.length === 1) {\n      env = key;\n      key = defaultKey;\n    }\n    return setEnv(key, env);\n  };\n\n  const getInternal = (service?: string, defaultVal?: boolean): string => {\n    if (defaultVal != null) {\n      throw new Error(DEFAULT_NOT_SUPPORTED_ERROR_MSG);\n    }\n    return denormalize(get(service));\n  };\n\n  const getShort = getInternal;\n\n  const isProd = (service?: string): boolean => getShort(service) === 'prod';\n\n  const isQa = (service?: string): boolean => getShort(service) === 'qa';\n\n  const deployed = (service?: string): boolean => {\n    let result;\n    if (typeof service === 'string') {\n      result = getEnv(`${service.toUpperCase()}_DEPLOYED`);\n    }\n\n    if (result == null) {\n      result = getEnv('DEPLOYED');\n    }\n\n    return result == null ? isDeployed : !!result;\n  };\n\n  const debug = (service: string, defaultVal = false): boolean | string => {\n    let result;\n    if (typeof service === 'string') {\n      result = getEnv(`${service.toUpperCase()}_DEBUG`);\n    }\n\n    if (result == null) {\n      result = getEnv('DEBUG');\n    }\n\n    return result == null ? defaultVal : result;\n  };\n\n  const setDebug = (service: string, val = true): void => {\n    if (typeof service === 'string') {\n      try {\n        if (val) {\n          localStorage.setItem(\n            `${service.toUpperCase()}_DEBUG`,\n            JSON.stringify(true)\n          );\n        } else {\n          localStorage.removeItem(`${service.toUpperCase()}_DEBUG`);\n        }\n      } catch (e) {\n        setEnv(`${service.toUpperCase()}_DEBUG`, val || undefined);\n      }\n    } else {\n      val = service != null ? service : true;\n      try {\n        if (val) {\n          localStorage.setItem('DEBUG', JSON.stringify(val));\n        } else {\n          localStorage.removeItem('DEBUG');\n        }\n      } catch (e) {\n        setEnv('DEBUG', val || undefined);\n      }\n    }\n  };\n\n  const enabled = (service: string, defaultVal = false): boolean => {\n    let result = getEnv(`${service.toUpperCase()}_ENABLED`);\n    if (result == null) {\n      result = JSON.stringify(defaultVal);\n    }\n    return `${result}`.toLowerCase() === 'true';\n  };\n\n  const getHublet = (): string => {\n    const hubletOverride = getEnv('HUBLET');\n\n    if (hubletOverride) {\n      return hubletOverride;\n    }\n\n    for (const regexp of HUBLET_REGEXPS) {\n      if (regexp.test(location.hostname)) {\n        return regexp.exec(location.hostname)![1];\n      }\n    }\n\n    return 'na1';\n  };\n\n  function ifHublet<T, P>(\n    { isNa1, isNonNa1 }: Partial<HubletCallback<T, P>>,\n    hublet?: string\n  ): T | P | undefined {\n    if (!hublet) {\n      hublet = getHublet();\n    }\n\n    if (hublet === 'na1') {\n      return typeof isNa1 === 'function' ? isNa1(hublet) : undefined;\n    } else if (typeof isNonNa1 === 'function') {\n      return isNonNa1(hublet);\n    }\n  }\n\n  return {\n    createEnviro,\n    debug,\n    denormalize,\n    deployed,\n    enabled,\n    get,\n    getHublet,\n    getInternal,\n    getShort,\n    isProd,\n    isQa,\n    ifHublet,\n    normalize,\n    set,\n    setDebug,\n  };\n};\n\nexport default createEnviro(document.location);\n","/**\n * Enforces a single instance of the Raven client, and the\n * main entry point for Raven. If you are a consumer of the\n * Raven library, you SHOULD load this file (vs raven.js).\n **/\n\nvar { Raven: RavenConstructor } = require('./raven');\n\n// This is to be defensive in environments where window does not exist (see https://github.com/getsentry/raven-js/pull/785)\nvar _window =\n  typeof window !== 'undefined'\n    ? window\n    : typeof global !== 'undefined'\n    ? global\n    : typeof self !== 'undefined'\n    ? self\n    : {};\nvar _Raven = _window.Raven;\n\nvar Raven = new RavenConstructor();\n\n/*\n * Allow multiple versions of Raven to be installed.\n * Strip Raven from the global context and returns the instance.\n *\n * @return {Raven}\n */\nRaven.noConflict = function () {\n  _window.Raven = _Raven;\n  return Raven;\n};\n\nRaven.afterLoad();\n\n/**\n * Export public API methods bound to Raven so\n * they'll work if imported via named imports\n */\nmodule.exports.config = Raven.config.bind(Raven);\nmodule.exports.install = Raven.install.bind(Raven);\nmodule.exports.setDSN = Raven.setDSN.bind(Raven);\nmodule.exports.context = Raven.context.bind(Raven);\nmodule.exports.wrap = Raven.wrap.bind(Raven);\nmodule.exports.uninstall = Raven.uninstall.bind(Raven);\nmodule.exports.capturePageEvent = Raven.capturePageEvent.bind(Raven);\nmodule.exports.captureException = Raven.captureException.bind(Raven);\nmodule.exports.captureMessage = Raven.captureMessage.bind(Raven);\nmodule.exports.captureBreadcrumb = Raven.captureBreadcrumb.bind(Raven);\nmodule.exports.addPlugin = Raven.addPlugin.bind(Raven);\nmodule.exports.setUserContext = Raven.setUserContext.bind(Raven);\nmodule.exports.setExtraContext = Raven.setExtraContext.bind(Raven);\nmodule.exports.setTagsContext = Raven.setTagsContext.bind(Raven);\nmodule.exports.clearContext = Raven.clearContext.bind(Raven);\nmodule.exports.getContext = Raven.getContext.bind(Raven);\nmodule.exports.setEnvironment = Raven.setEnvironment.bind(Raven);\nmodule.exports.setRelease = Raven.setRelease.bind(Raven);\nmodule.exports.setDataCallback = Raven.setDataCallback.bind(Raven);\nmodule.exports.setBreadcrumbCallback = Raven.setBreadcrumbCallback.bind(Raven);\nmodule.exports.setShouldSendCallback = Raven.setShouldSendCallback.bind(Raven);\nmodule.exports.setTransport = Raven.setTransport.bind(Raven);\nmodule.exports.lastException = Raven.lastException.bind(Raven);\nmodule.exports.lastEventId = Raven.lastEventId.bind(Raven);\nmodule.exports.isSetup = Raven.isSetup.bind(Raven);\nmodule.exports.afterLoad = Raven.afterLoad.bind(Raven);\nmodule.exports.showReportDialog = Raven.showReportDialog.bind(Raven);\n\nmodule.exports = Raven;\n","const MAX_TRAVERSE_HEIGHT = 5;\nconst MAX_CLASSES_LENGTH = 60;\nconst ATTRIBUTE_WHITELIST = [\n  'name',\n  'title',\n  'alt',\n  'data-test-id',\n  // Matches I18n string keys\n  'data-key',\n];\n\n/**\n * Given a child DOM element, returns a query-selector statement describing that\n * and its ancestors\n * e.g. [HTMLElement] => body > div > input#foo.btn[name=baz]\n */\nexport default function htmlTreeAsString(target: Element): string {\n  /* eslint no-extra-parens:0*/\n  const out = [];\n  const separator = ' > ';\n\n  let currentElement = target;\n  let height = 0;\n\n  while (currentElement && height < MAX_TRAVERSE_HEIGHT) {\n    const nextStr = htmlElementAsString(currentElement);\n\n    if (nextStr === 'html') {\n      break;\n    }\n\n    // If this is the first element (target) and it's restricted, return immediately\n    if (height === 0 && nextStr === '<restricted>') {\n      return '<restricted>';\n    }\n\n    // Skip restricted elements in parent traversal but include all others\n    if (nextStr !== '<restricted>') {\n      out.push(nextStr);\n    }\n    height += 1;\n\n    // Safely access parentNode - can throw SecurityError in cross-origin contexts\n    try {\n      currentElement = currentElement.parentNode as Element;\n    } catch (e) {\n      // SecurityError when accessing parentNode, stop traversal\n      break;\n    }\n  }\n\n  return out.reverse().join(separator);\n}\n\n/**\n * Returns a simple, query-selector representation of a DOM element\n * e.g. [HTMLElement] => input#foo.btn[name=baz]\n */\nfunction htmlElementAsString(element: Element): string {\n  const out: string[] = [];\n\n  if (!element) {\n    return '';\n  }\n\n  // Safely access tagName - can throw SecurityError in cross-origin contexts\n  try {\n    if (!element.tagName) {\n      return '';\n    }\n    out.push(element.tagName.toLowerCase());\n  } catch (e) {\n    // SecurityError when accessing cross-origin element properties\n    return '<restricted>';\n  }\n\n  // Safely access element id\n  try {\n    if (element.id) {\n      out.push(`#${element.id}`);\n    }\n  } catch (e) {\n    // Ignore SecurityError for id access\n  }\n\n  // Safely access element attributes\n  for (const attribute of ATTRIBUTE_WHITELIST) {\n    try {\n      const value = element.getAttribute(attribute);\n      if (value) {\n        out.push(`[${attribute}=\"${value}\"]`);\n      }\n    } catch (e) {\n      // Ignore SecurityError for attribute access\n    }\n  }\n\n  let classesLength = 0;\n\n  // Safely access element classList\n  try {\n    for (const className of element.classList) {\n      // Filter out UIComponents private classes\n      if (className.startsWith('private-')) {\n        continue;\n      }\n\n      if (classesLength + className.length > MAX_CLASSES_LENGTH) {\n        break;\n      }\n\n      classesLength += className.length;\n      out.push(`.${className}`);\n    }\n  } catch (e) {\n    // Ignore SecurityError for classList access\n  }\n\n  return out.join('');\n}\n","/*global XDomainRequest:false */\n\nimport htmlTreeAsString from './utils/htmlTreeAsString';\nimport { redactSensitiveUrlParams } from './utils';\n\nvar TraceKit = require('./vendor/TraceKit.js');\nvar stringify = require('./vendor/json-stringify-safe.js');\nvar RavenConfigError = require('./configError');\nvar {\n  getCorrelationIdFromResponse,\n  getCorrelationIdFromXHR,\n} = require('./utils/getCorrelationId');\n\nvar utils = require('./utils');\nvar isError = utils.isError;\nvar isObject = utils.isObject;\nvar isObject = utils.isObject;\nvar isErrorEvent = utils.isErrorEvent;\nvar isUndefined = utils.isUndefined;\nvar isFunction = utils.isFunction;\nvar isString = utils.isString;\nvar isEmptyObject = utils.isEmptyObject;\nvar each = utils.each;\nvar objectMerge = utils.objectMerge;\nvar truncate = utils.truncate;\nvar hasKey = utils.hasKey;\nvar joinRegExp = utils.joinRegExp;\nvar urlencode = utils.urlencode;\nvar uuid4 = utils.uuid4;\nvar isSameException = utils.isSameException;\nvar isSameStacktrace = utils.isSameStacktrace;\nvar parseUrl = utils.parseUrl;\nvar fill = utils.fill;\n\nvar wrapConsoleMethod = require('./console').wrapMethod;\n\nvar dsnKeys = 'source protocol user pass host port path'.split(' '),\n  dsnPattern = /^(?:(\\w+):)?\\/\\/(?:(\\w+)(:\\w+)?@)?([\\w\\.-]+)(?::(\\d+))?(\\/.*)/;\n\nfunction now() {\n  return +new Date();\n}\n\n// This is to be defensive in environments where window does not exist (see https://github.com/getsentry/raven-js/pull/785)\nvar _window =\n  typeof window !== 'undefined'\n    ? window\n    : typeof global !== 'undefined'\n    ? global\n    : typeof self !== 'undefined'\n    ? self\n    : {};\nvar _document = _window.document;\nvar _navigator = _window.navigator;\n\nfunction keepOriginalCallback(original, callback) {\n  return isFunction(callback)\n    ? function (data) {\n        return callback(data, original);\n      }\n    : callback;\n}\n\n// First, check for JSON support\n// If there is no JSON, we no-op the core features of Raven\n// since JSON is required to encode the payload\nexport function Raven() {\n  this._hasJSON = !!(typeof JSON === 'object' && JSON.stringify);\n  // Raven can run in contexts where there's no document (react-native)\n  this._hasDocument = !isUndefined(_document);\n  this._hasNavigator = !isUndefined(_navigator);\n  this._lastCapturedException = null;\n  this._lastData = null;\n  this._lastEventId = null;\n  this._globalServer = null;\n  this._globalKey = null;\n  this._globalProject = null;\n  this._globalContext = {};\n  this._globalOptions = {\n    logger: 'javascript',\n    ignoreErrors: [],\n    ignoreUrls: [],\n    whitelistUrls: [],\n    includePaths: [],\n    collectWindowErrors: true,\n    maxMessageLength: 0,\n\n    // By default, truncates URL values to 250 chars\n    maxUrlLength: 250,\n    stackTraceLimit: 50,\n    autoBreadcrumbs: true,\n    instrument: true,\n    sampleRate: 1,\n\n    // CHIRP error enhancement configuration\n    chirpErrorEnhancement: {\n      enabled: true,\n      extractServiceInfo: true,\n      enhanceErrorMessages: true,\n      includeCallStack: true,\n      maxNestingDepth: 5,\n    },\n  };\n  this._ignoreOnError = 0;\n  this._isRavenInstalled = false;\n  this._originalErrorStackTraceLimit = Error.stackTraceLimit;\n  // capture references to window.console *and* all its methods first\n  // before the console plugin has a chance to monkey patch\n  this._originalConsole = _window.console || {};\n  this._originalConsoleMethods = {};\n  this._plugins = [];\n  this._startTime = now();\n  this._wrappedBuiltIns = [];\n  this._breadcrumbs = [];\n  this._lastCapturedEvent = null;\n  this._keypressTimeout;\n  this._location = _window.location;\n  this._lastHref = this._location && this._location.href;\n  this._resetBackoff();\n\n  // eslint-disable-next-line guard-for-in\n  for (var method in this._originalConsole) {\n    this._originalConsoleMethods[method] = this._originalConsole[method];\n  }\n}\n\n/*\n * The core Raven singleton\n *\n * @this {Raven}\n */\n\nRaven.prototype = {\n  // Hardcode version string so that raven source can be loaded directly via\n  // webpack (using a build step causes webpack #1617). Grunt verifies that\n  // this value matches package.json during build.\n  //   See: https://github.com/getsentry/raven-js/issues/465\n  VERSION: '3.19.1',\n\n  debug: false,\n\n  TraceKit: TraceKit, // alias to TraceKit\n\n  /*\n   * Configure Raven with a DSN and extra options\n   *\n   * @param {string} dsn The public Sentry DSN\n   * @param {object} options Set of global options [optional]\n   * @return {Raven}\n   */\n  config: function (dsn, options) {\n    var self = this;\n\n    if (self._globalServer) {\n      this._logDebug('error', 'Error: Raven has already been configured');\n      return self;\n    }\n    if (!dsn) return self;\n\n    var globalOptions = self._globalOptions;\n\n    // merge in options\n    if (options) {\n      each(options, function (key, value) {\n        // tags and extra are special and need to be put into context\n        if (key === 'tags' || key === 'extra' || key === 'user') {\n          self._globalContext[key] = value;\n        } else {\n          globalOptions[key] = value;\n        }\n      });\n    }\n\n    self.setDSN(dsn);\n\n    // \"Script error.\" is hard coded into browsers for errors that it can't read.\n    // this is the result of a script being pulled in from an external domain and CORS.\n    globalOptions.ignoreErrors.push(/^Script error\\.?$/);\n    globalOptions.ignoreErrors.push(\n      /^Javascript error: Script error\\.? on line 0$/\n    );\n\n    // join regexp rules into one big rule\n    globalOptions.ignoreErrors = joinRegExp(globalOptions.ignoreErrors);\n    globalOptions.ignoreUrls = globalOptions.ignoreUrls.length\n      ? joinRegExp(globalOptions.ignoreUrls)\n      : false;\n    globalOptions.whitelistUrls = globalOptions.whitelistUrls.length\n      ? joinRegExp(globalOptions.whitelistUrls)\n      : false;\n    globalOptions.includePaths = joinRegExp(globalOptions.includePaths);\n    globalOptions.maxBreadcrumbs = Math.max(\n      0,\n      Math.min(globalOptions.maxBreadcrumbs || 100, 100)\n    ); // default and hard limit is 100\n\n    var autoBreadcrumbDefaults = {\n      xhr: true,\n      console: true,\n      dom: true,\n      location: true,\n    };\n\n    var autoBreadcrumbs = globalOptions.autoBreadcrumbs;\n    if ({}.toString.call(autoBreadcrumbs) === '[object Object]') {\n      autoBreadcrumbs = objectMerge(autoBreadcrumbDefaults, autoBreadcrumbs);\n    } else if (autoBreadcrumbs !== false) {\n      autoBreadcrumbs = autoBreadcrumbDefaults;\n    }\n    globalOptions.autoBreadcrumbs = autoBreadcrumbs;\n\n    var instrumentDefaults = {\n      tryCatch: true,\n    };\n\n    var instrument = globalOptions.instrument;\n    if ({}.toString.call(instrument) === '[object Object]') {\n      instrument = objectMerge(instrumentDefaults, instrument);\n    } else if (instrument !== false) {\n      instrument = instrumentDefaults;\n    }\n    globalOptions.instrument = instrument;\n\n    TraceKit.collectWindowErrors = !!globalOptions.collectWindowErrors;\n\n    // return for chaining\n    return self;\n  },\n\n  /*\n   * Installs a global window.onerror error handler\n   * to capture and report uncaught exceptions.\n   * At this point, install() is required to be called due\n   * to the way TraceKit is set up.\n   *\n   * @return {Raven}\n   */\n  install: function () {\n    var self = this;\n    if (self.isSetup() && !self._isRavenInstalled) {\n      TraceKit.report.subscribe(function () {\n        self._handleOnErrorStackInfo.apply(self, arguments);\n      });\n      if (\n        self._globalOptions.instrument &&\n        self._globalOptions.instrument.tryCatch\n      ) {\n        self._instrumentTryCatch();\n      }\n\n      if (self._globalOptions.autoBreadcrumbs) self._instrumentBreadcrumbs();\n\n      // Install all of the plugins\n      self._drainPlugins();\n\n      self._isRavenInstalled = true;\n    }\n\n    Error.stackTraceLimit = self._globalOptions.stackTraceLimit;\n    return this;\n  },\n\n  /*\n   * Set the DSN (can be called multiple time unlike config)\n   *\n   * @param {string} dsn The public Sentry DSN\n   */\n  setDSN: function (dsn) {\n    var self = this,\n      uri = self._parseDSN(dsn),\n      lastSlash = uri.path.lastIndexOf('/'),\n      path = uri.path.substr(1, lastSlash);\n\n    self._dsn = dsn;\n    self._globalKey = uri.user;\n    self._globalSecret = uri.pass && uri.pass.substr(1);\n    self._globalProject = uri.path.substr(lastSlash + 1);\n\n    self._globalServer = self._getGlobalServer(uri);\n\n    self._globalEndpoint =\n      self._globalServer +\n      '/' +\n      path +\n      'api/' +\n      self._globalProject +\n      '/store/';\n\n    self._globalPageEventEndpoint =\n      self._globalServer + '/frontend/observability/page-tracking/store/';\n\n    // Reset backoff state since we may be pointing at a\n    // new project/server\n    this._resetBackoff();\n  },\n\n  /*\n   * Wrap code within a context so Raven can capture errors\n   * reliably across domains that is executed immediately.\n   *\n   * @param {object} options A specific set of options for this context [optional]\n   * @param {function} func The callback to be immediately executed within the context\n   * @param {array} args An array of arguments to be called with the callback [optional]\n   */\n  context: function (options, func, args) {\n    if (isFunction(options)) {\n      args = func || [];\n      func = options;\n      options = undefined;\n    }\n\n    return this.wrap(options, func).apply(this, args);\n  },\n\n  /*\n   * Wrap code within a context and returns back a new function to be executed\n   *\n   * @param {object} options A specific set of options for this context [optional]\n   * @param {function} func The function to be wrapped in a new context\n   * @param {function} func A function to call before the try/catch wrapper [optional, private]\n   * @return {function} The newly wrapped functions with a context\n   */\n  wrap: function (options, func, _before) {\n    var self = this;\n    // 1 argument has been passed, and it's not a function\n    // so just return it\n    if (isUndefined(func) && !isFunction(options)) {\n      return options;\n    }\n\n    // options is optional\n    if (isFunction(options)) {\n      func = options;\n      options = undefined;\n    }\n\n    // At this point, we've passed along 2 arguments, and the second one\n    // is not a function either, so we'll just return the second argument.\n    if (!isFunction(func)) {\n      return func;\n    }\n\n    // We don't wanna wrap it twice!\n    try {\n      if (func.__raven__) {\n        return func;\n      }\n\n      // If this has already been wrapped in the past, return that\n      if (func.__raven_wrapper__) {\n        return func.__raven_wrapper__;\n      }\n    } catch (e) {\n      // Just accessing custom props in some Selenium environments\n      // can cause a \"Permission denied\" exception (see raven-js#495).\n      // Bail on wrapping and return the function as-is (defers to window.onerror).\n      return func;\n    }\n\n    // We keep this function name unminified and look for it in the stack trace\n    // in _prepareFrames so we can mark Raven frames as in_app: false\n    const { ravenWrapped } = {\n      ['raven' + 'Wrapped']() {\n        var args = [],\n          i = arguments.length,\n          deep = !options || (options && options.deep !== false);\n\n        if (_before && isFunction(_before)) {\n          _before.apply(this, arguments);\n        }\n\n        // Recursively wrap all of a function's arguments that are\n        // functions themselves.\n        while (i--)\n          args[i] = deep ? self.wrap(options, arguments[i]) : arguments[i];\n\n        try {\n          // Attempt to invoke user-land function\n          // NOTE: If you are a Sentry user, and you are seeing this stack frame, it\n          //       means Raven caught an error invoking your application code. This is\n          //       expected behavior and NOT indicative of a bug with Raven.js.\n          return func.apply(this, args);\n        } catch (e) {\n          self._ignoreNextOnError();\n          self.captureException(e, options);\n          throw e;\n        }\n      },\n    };\n\n    // copy over properties of the old function\n    for (var property in func) {\n      if (hasKey(func, property)) {\n        ravenWrapped[property] = func[property];\n      }\n    }\n    ravenWrapped.prototype = func.prototype;\n\n    func.__raven_wrapper__ = ravenWrapped;\n    // Signal that this function has been wrapped already\n    // for both debugging and to prevent it to being wrapped twice\n    ravenWrapped.__raven__ = true;\n    ravenWrapped.__inner__ = func;\n\n    return ravenWrapped;\n  },\n\n  /*\n   * Uninstalls the global error handler.\n   *\n   * @return {Raven}\n   */\n  uninstall: function () {\n    TraceKit.report.uninstall();\n\n    this._restoreBuiltIns();\n\n    Error.stackTraceLimit = this._originalErrorStackTraceLimit;\n    this._isRavenInstalled = false;\n\n    return this;\n  },\n\n  /**\n   * Custom method created for our (HubSpot's) version of raven for submitting\n   * custom events to LogFetch for purpose of tracking non-error events.\n   *\n   * @param {*} eventName The name of the event to be tracked\n   * @param {*} extraData Data to be sent along with the event\n   */\n  capturePageEvent: function (eventName, options = {}) {\n    // delete error cause props if they exist.\n    this._clearExtraAttribute('errorCauseMessage');\n    this._clearExtraAttribute('errorCauseStackFrames');\n\n    const data = {\n      message: eventName,\n      ...options,\n      level: 'info',\n      isPageEvent: true,\n    };\n\n    this._send(data);\n\n    return this;\n  },\n\n  /*\n   * Manually capture an exception and send it over to Sentry\n   *\n   * @param {error} ex An exception to be logged\n   * @param {object} options A specific set of options for this error [optional]\n   * @return {Raven}\n   */\n  captureException: function (ex, options) {\n    // delete previous exception's cause if they exist.\n    var self = this;\n\n    if (!self) {\n      console.error(\n        'Error: captureException was called without Raven instance. This error will not be sent.\\nSee https://product.hubteam.com/docs/observability/docs/errors/raven-usage.html#context for more information.'\n      );\n      return this;\n    }\n    self._clearExtraAttribute('errorCauseMessage');\n    self._clearExtraAttribute('errorCauseStackFrames');\n\n    // Cases for sending ex as a message, rather than an exception\n    var isNotError = !isError(ex);\n    var isNotErrorEvent = !isErrorEvent(ex);\n    var isErrorEventWithoutError = isErrorEvent(ex) && !ex.error;\n\n    if ((isNotError && isNotErrorEvent) || isErrorEventWithoutError) {\n      return this.captureMessage(\n        ex,\n        objectMerge(\n          {\n            trimHeadFrames: 1,\n            stacktrace: true, // if we fall back to captureMessage, default to attempting a new trace\n          },\n          options\n        )\n      );\n    }\n\n    // Get actual Error from ErrorEvent\n    if (isErrorEvent(ex)) ex = ex.error;\n\n    var errorCause = ex.cause;\n    if (errorCause) {\n      self._processErrorCause(errorCause);\n    }\n\n    // Capture extraData if it's set on the Error\n    if (ex.extraData) {\n      self.setExtraContext({ ...ex.extraData });\n    }\n\n    // Detect and enhance CHIRP errors\n    if (\n      this._globalOptions.chirpErrorEnhancement.enabled &&\n      this._isChirpError(ex)\n    ) {\n      this._enhanceChirpError(ex);\n    }\n\n    // Store the raw exception object for potential debugging and introspection\n    this._lastCapturedException = ex;\n\n    // TraceKit.report will re-raise any exception passed to it,\n    // which means you have to wrap it in try/catch. Instead, we\n    // can wrap it here and only re-raise if TraceKit.report\n    // raises an exception different from the one we asked to\n    // report on.\n    try {\n      var stack = TraceKit.computeStackTrace(ex);\n      this._handleStackInfo(stack, options);\n    } catch (ex1) {\n      if (ex !== ex1) {\n        throw ex1;\n      }\n    }\n\n    return this;\n  },\n\n  /*\n   * Manually send a message to Sentry\n   *\n   * @param {string} msg A plain message to be captured in Sentry\n   * @param {object} options A specific set of options for this message [optional]\n   * @return {Raven}\n   */\n  captureMessage: function (msg, options) {\n    var self = this;\n    self._clearExtraAttribute('errorCauseMessage');\n    self._clearExtraAttribute('errorCauseStackFrames');\n\n    // config() automagically converts ignoreErrors from a list to a RegExp so we need to test for an\n    // early call; we'll error on the side of logging anything called before configuration since it's\n    // probably something you should see:\n    if (\n      !!this._globalOptions.ignoreErrors.test &&\n      this._globalOptions.ignoreErrors.test(msg)\n    ) {\n      this._triggerEvent('captureIgnored', {\n        level: (options && options.level) || 'error',\n      });\n      return;\n    }\n\n    options = options || {};\n\n    var data = objectMerge(\n      {\n        message: msg + '', // Make sure it's actually a string\n      },\n      options\n    );\n\n    var ex;\n    // Generate a \"synthetic\" stack trace from this point.\n    // NOTE: If you are a Sentry user, and you are seeing this stack frame, it is NOT indicative\n    //       of a bug with Raven.js. Sentry generates synthetic traces either by configuration,\n    //       or if it catches a thrown object without a \"stack\" property.\n    try {\n      throw new Error(msg);\n    } catch (ex1) {\n      ex = ex1;\n    }\n\n    // null exception name so `Error` isn't prefixed to msg\n    ex.name = null;\n    var stack = TraceKit.computeStackTrace(ex);\n\n    // stack[0] is `throw new Error(msg)` call itself, we are interested in the frame that was just before that, stack[1]\n    var initialCall = stack.stack[1];\n\n    var fileurl = (initialCall && initialCall.url) || '';\n\n    if (\n      !!this._globalOptions.ignoreUrls.test &&\n      this._globalOptions.ignoreUrls.test(fileurl)\n    ) {\n      return;\n    }\n\n    if (\n      !!this._globalOptions.whitelistUrls.test &&\n      !this._globalOptions.whitelistUrls.test(fileurl)\n    ) {\n      return;\n    }\n\n    if (this._globalOptions.stacktrace || (options && options.stacktrace)) {\n      options = {\n        // By default, fingerprint on msg, not stack trace\n        // (legacy behavior, could be revisited)\n        fingerprint: msg,\n        ...options,\n        // since we know this is a synthetic trace, the top N-most frames\n        // MUST be from Raven.js, so mark them as in_app later by setting\n        // trimHeadFrames\n        trimHeadFrames: (options.trimHeadFrames || 0) + 1,\n      };\n\n      var frames = this._prepareFrames(stack, options);\n      data.stacktrace = {\n        // Sentry expects frames oldest to newest\n        frames: frames.reverse(),\n      };\n    }\n\n    // Fire away!\n    this._send(data);\n\n    return this;\n  },\n\n  captureBreadcrumb: function (obj) {\n    var crumb = objectMerge(\n      {\n        timestamp: now() / 1000,\n      },\n      obj\n    );\n\n    if (isFunction(this._globalOptions.breadcrumbCallback)) {\n      var result = this._globalOptions.breadcrumbCallback(crumb);\n\n      if (isObject(result) && !isEmptyObject(result)) {\n        crumb = result;\n      } else if (result === false) {\n        return this;\n      }\n    }\n\n    this._breadcrumbs.push(crumb);\n    if (this._breadcrumbs.length > this._globalOptions.maxBreadcrumbs) {\n      this._breadcrumbs.shift();\n    }\n    return this;\n  },\n\n  addPlugin: function (plugin /*arg1, arg2, ... argN*/) {\n    var pluginArgs = [].slice.call(arguments, 1);\n\n    this._plugins.push([plugin, pluginArgs]);\n    if (this._isRavenInstalled) {\n      this._drainPlugins();\n    }\n\n    return this;\n  },\n\n  /*\n   * Set/clear a user to be sent along with the payload.\n   *\n   * @param {object} user An object representing user data [optional]\n   * @return {Raven}\n   */\n  setUserContext: function (user) {\n    // Intentionally do not merge here since that's an unexpected behavior.\n    this._globalContext.user = user;\n\n    return this;\n  },\n\n  /*\n   * Merge extra attributes to be sent along with the payload.\n   *\n   * @param {object} extra An object representing extra data [optional]\n   * @return {Raven}\n   */\n  setExtraContext: function (extra) {\n    this._mergeContext('extra', extra);\n\n    return this;\n  },\n\n  /*\n   * Merge tags to be sent along with the payload.\n   *\n   * @param {object} tags An object representing tags [optional]\n   * @return {Raven}\n   */\n  setTagsContext: function (tags) {\n    this._mergeContext('tags', tags);\n\n    return this;\n  },\n\n  /*\n   * Clear all of the context.\n   *\n   * @return {Raven}\n   */\n  clearContext: function () {\n    this._globalContext = {};\n\n    return this;\n  },\n\n  /*\n   * Get a copy of the current context. This cannot be mutated.\n   *\n   * @return {object} copy of context\n   */\n  getContext: function () {\n    // lol javascript\n    return JSON.parse(stringify(this._globalContext));\n  },\n\n  /*\n   * Set environment of application\n   *\n   * @param {string} environment Typically something like 'production'.\n   * @return {Raven}\n   */\n  setEnvironment: function (environment) {\n    this._globalOptions.environment = environment;\n\n    return this;\n  },\n\n  /*\n   * Set release version of application\n   *\n   * @param {string} release Typically something like a git SHA to identify version\n   * @return {Raven}\n   */\n  setRelease: function (release) {\n    this._globalOptions.release = release;\n\n    return this;\n  },\n\n  /*\n   * Set the dataCallback option\n   *\n   * @param {function} callback The callback to run which allows the\n   *                            data blob to be mutated before sending\n   * @return {Raven}\n   */\n  setDataCallback: function (callback) {\n    var original = this._globalOptions.dataCallback;\n    this._globalOptions.dataCallback = keepOriginalCallback(original, callback);\n    return this;\n  },\n\n  /*\n   * Set the breadcrumbCallback option\n   *\n   * @param {function} callback The callback to run which allows filtering\n   *                            or mutating breadcrumbs\n   * @return {Raven}\n   */\n  setBreadcrumbCallback: function (callback) {\n    var original = this._globalOptions.breadcrumbCallback;\n    this._globalOptions.breadcrumbCallback = keepOriginalCallback(\n      original,\n      callback\n    );\n    return this;\n  },\n\n  /*\n   * Set the shouldSendCallback option\n   *\n   * @param {function} callback The callback to run which allows\n   *                            introspecting the blob before sending\n   * @return {Raven}\n   */\n  setShouldSendCallback: function (callback) {\n    var original = this._globalOptions.shouldSendCallback;\n    this._globalOptions.shouldSendCallback = keepOriginalCallback(\n      original,\n      callback\n    );\n    return this;\n  },\n\n  /**\n   * Override the default HTTP transport mechanism that transmits data\n   * to the Sentry server.\n   *\n   * @param {function} transport Function invoked instead of the default\n   *                             `makeRequest` handler.\n   *\n   * @return {Raven}\n   */\n  setTransport: function (transport) {\n    this._globalOptions.transport = transport;\n\n    return this;\n  },\n\n  /*\n   * Get the latest raw exception that was captured by Raven.\n   *\n   * @return {error}\n   */\n  lastException: function () {\n    return this._lastCapturedException;\n  },\n\n  /*\n   * Get the last event id\n   *\n   * @return {string}\n   */\n  lastEventId: function () {\n    return this._lastEventId;\n  },\n\n  /*\n   * Determine if Raven is setup and ready to go.\n   *\n   * @return {boolean}\n   */\n  isSetup: function () {\n    if (!this._hasJSON) return false; // needs JSON support\n    if (!this._globalServer) {\n      if (!this.ravenNotConfiguredError) {\n        this.ravenNotConfiguredError = true;\n      }\n      this._logDebug('error', 'Error: Raven has not been configured.');\n\n      return false;\n    }\n    return true;\n  },\n\n  afterLoad: function () {\n    // TODO: remove window dependence?\n\n    // Attempt to initialize Raven on load\n    var RavenConfig = _window.RavenConfig;\n    if (RavenConfig) {\n      this.config(RavenConfig.dsn, RavenConfig.config).install();\n    }\n  },\n\n  showReportDialog: function (options) {\n    if (\n      !_document // doesn't work without a document (React native)\n    )\n      return;\n\n    options = options || {};\n\n    var lastEventId = options.eventId || this.lastEventId();\n    if (!lastEventId) {\n      throw new RavenConfigError('Missing eventId');\n    }\n\n    var dsn = options.dsn || this._dsn;\n    if (!dsn) {\n      throw new RavenConfigError('Missing DSN');\n    }\n\n    var encode = encodeURIComponent;\n    var qs = '';\n    qs += '?eventId=' + encode(lastEventId);\n    qs += '&dsn=' + encode(dsn);\n\n    var user = options.user || this._globalContext.user;\n    if (user) {\n      if (user.name) qs += '&name=' + encode(user.name);\n      if (user.email) qs += '&email=' + encode(user.email);\n    }\n\n    var globalServer = this._getGlobalServer(this._parseDSN(dsn));\n\n    var script = _document.createElement('script');\n    script.async = true;\n    script.src = globalServer + '/api/embed/error-page/' + qs;\n    (_document.head || _document.body).appendChild(script);\n  },\n\n  /**** Private functions ****/\n  _processErrorCause: function (errorCause) {\n    try {\n      var self = this;\n      var errorCauseStack = TraceKit.computeStackTrace(errorCause);\n      var errorCauseStackFrames = this._prepareFrames(errorCauseStack, {}).map(\n        (stackFrame) => {\n          return {\n            file: stackFrame.filename,\n            methodName: stackFrame.function || '?',\n            lineNumber: stackFrame.lineno,\n            column: stackFrame.colno,\n          };\n        }\n      );\n\n      if (errorCauseStack.message) {\n        self.setExtraContext({\n          errorCauseMessage: errorCauseStack.message,\n        });\n      }\n\n      if (errorCauseStackFrames && errorCauseStackFrames.length) {\n        self.setExtraContext({\n          errorCauseStackFrames: JSON.stringify(errorCauseStackFrames),\n        });\n      }\n    } catch (ex1) {\n      if (errorCause !== ex1) {\n        throw ex1;\n      }\n    }\n  },\n\n  /**** CHIRP Error Enhancement Methods ****/\n\n  _isChirpError: function (error) {\n    if (!error) return false;\n\n    // Check for CHIRP error patterns:\n    // - Message contains \"CHIRP RPC failed\"\n    // - Has the nested error.cause.cause structure\n    // - Contains ChirpError or ChirpInternalError instances\n    return (\n      (error.message &&\n        error.message.includes &&\n        error.message.includes('CHIRP RPC failed')) ||\n      this._hasChirpErrorStructure(error) ||\n      this._containsChirpErrorInstance(error)\n    );\n  },\n\n  _hasChirpErrorStructure: function (error) {\n    return !!(error.cause && error.cause.cause);\n  },\n\n  _containsChirpErrorInstance: function (error) {\n    const deepError = error.cause && error.cause.cause;\n    return !!(\n      (\n        deepError &&\n        ((deepError.constructor &&\n          deepError.constructor.name === 'ChirpError') ||\n          (deepError.constructor &&\n            deepError.constructor.name === 'ChirpInternalError') ||\n          !!deepError.type)\n      ) // CHIRP errors often have a 'type' property\n    );\n  },\n\n  _enhanceChirpError: function (error) {\n    // Skip enhancement if error is not an Error object\n    if (!isError(error)) {\n      return;\n    }\n\n    const chirpContext = this._extractChirpContext(error);\n\n    if (chirpContext) {\n      // Automatically add structured CHIRP metadata\n      this.setExtraContext({\n        // Service identification\n        chirpServiceName: chirpContext.serviceName,\n        chirpMethodName: chirpContext.methodName,\n        chirpErrorType: chirpContext.errorType,\n\n        // Error details\n        chirpUserDefinedError: chirpContext.userDefinedError,\n        chirpInternalErrorType: chirpContext.internalErrorType,\n        chirpOriginalMessage: chirpContext.originalMessage,\n\n        // Call context\n        chirpCallStack: chirpContext.callStack,\n        chirpRequestInfo: chirpContext.requestInfo,\n      });\n\n      // Enhance the error message for better visibility\n      if (this._globalOptions.chirpErrorEnhancement.enhanceErrorMessages) {\n        try {\n          error.message = this._formatEnhancedChirpMessage(\n            error.message,\n            chirpContext\n          );\n        } catch (e) {\n          // If we can't modify the message property (e.g., it's read-only), skip enhancement\n          this._logDebug('warn', 'Failed to enhance CHIRP error message:', e);\n        }\n      }\n    }\n  },\n\n  _extractChirpContext: function (error) {\n    const context = {};\n\n    try {\n      // Extract service/method from message pattern\n      if (error.message) {\n        const messageMatch = error.message.match(/CHIRP RPC failed for (\\w+)/);\n        if (messageMatch) {\n          context.methodName = messageMatch[1];\n        }\n      }\n\n      // Navigate the error structure with depth limit\n      let currentError = error;\n      let depth = 0;\n      const maxDepth =\n        this._globalOptions.chirpErrorEnhancement.maxNestingDepth;\n\n      while (currentError && depth < maxDepth) {\n        if (currentError.cause) {\n          currentError = currentError.cause;\n          depth++;\n        } else {\n          break;\n        }\n      }\n\n      // Extract from the deepest error found\n      const deepError = currentError;\n\n      // Always try to extract service name from stack trace or error properties\n      context.serviceName = this._extractServiceName(error, deepError);\n\n      if (deepError && deepError !== error) {\n        context.errorType = deepError.type || 'UNKNOWN';\n        context.originalMessage =\n          deepError.chirpErrorMessage || deepError.message;\n\n        // Determine if it's user-defined or internal error\n        if (\n          (deepError.constructor &&\n            deepError.constructor.name === 'ChirpError') ||\n          deepError.type === 'userDefinedError'\n        ) {\n          context.userDefinedError = deepError;\n          context.errorType = 'USER_DEFINED';\n        } else if (\n          (deepError.constructor &&\n            deepError.constructor.name === 'ChirpInternalError') ||\n          deepError.type === 'internalError'\n        ) {\n          context.internalErrorType =\n            deepError.type ||\n            (deepError.internalError && deepError.internalError.type);\n          context.errorType = 'INTERNAL_ERROR';\n        }\n\n        // Include call stack if enabled\n        if (this._globalOptions.chirpErrorEnhancement.includeCallStack) {\n          context.callStack = error.stack;\n        }\n      }\n    } catch (e) {\n      // If context extraction fails, don't break the error reporting\n      this._logDebug('warn', 'Failed to extract CHIRP context:', e);\n    }\n\n    return context;\n  },\n\n  _extractServiceName: function (error, deepError) {\n    try {\n      // Try multiple sources for service name\n\n      // 1. From stack trace URLs\n      const stack = error.stack || (error.cause && error.cause.stack);\n      if (stack) {\n        const serviceMatch = stack.match(/\\/chirp\\/([^\\/]+)\\//);\n        if (serviceMatch) return serviceMatch[1];\n      }\n\n      // 2. From error properties\n      if (deepError.serviceName) return deepError.serviceName;\n      if (deepError.service) return deepError.service;\n\n      return 'UNKNOWN_SERVICE';\n    } catch (e) {\n      return 'UNKNOWN_SERVICE';\n    }\n  },\n\n  _formatEnhancedChirpMessage: function (originalMessage, context) {\n    let enhanced = originalMessage;\n\n    if (context.serviceName && context.serviceName !== 'UNKNOWN_SERVICE') {\n      enhanced += ' [Service: ' + context.serviceName + ']';\n    }\n\n    if (context.methodName) {\n      enhanced += ' [Method: ' + context.methodName + ']';\n    }\n\n    if (context.errorType && context.errorType !== 'UNKNOWN') {\n      enhanced += ' [Type: ' + context.errorType + ']';\n    }\n\n    if (\n      context.originalMessage &&\n      context.originalMessage !== originalMessage\n    ) {\n      enhanced += ' [Details: ' + context.originalMessage + ']';\n    }\n\n    return enhanced;\n  },\n\n  _clearExtraAttribute: function (key) {\n    var self = this;\n    if (!isUndefined(self._globalContext.extra)) {\n      delete self._globalContext.extra[key];\n    }\n  },\n\n  _ignoreNextOnError: function () {\n    var self = this;\n    this._ignoreOnError += 1;\n    setTimeout(function () {\n      // onerror should trigger before setTimeout\n      self._ignoreOnError -= 1;\n    });\n  },\n\n  _triggerEvent: function (eventType, options) {\n    // NOTE: `event` is a native browser thing, so let's avoid conflicting wiht it\n    var evt, key;\n\n    if (!this._hasDocument) return;\n\n    options = options || {};\n\n    eventType =\n      'raven' + eventType.substr(0, 1).toUpperCase() + eventType.substr(1);\n\n    if (_document.createEvent) {\n      evt = _document.createEvent('HTMLEvents');\n      evt.initEvent(eventType, true, true);\n    } else {\n      evt = _document.createEventObject();\n      evt.eventType = eventType;\n    }\n\n    for (key in options)\n      if (hasKey(options, key)) {\n        evt[key] = options[key];\n      }\n\n    if (_document.createEvent) {\n      // IE9 if standards\n      _document.dispatchEvent(evt);\n    } else {\n      // IE8 regardless of Quirks or Standards\n      // IE9 if quirks\n      try {\n        _document.fireEvent('on' + evt.eventType.toLowerCase(), evt);\n      } catch (e) {\n        // Do nothing\n      }\n    }\n  },\n\n  /**\n   * Wraps addEventListener to capture UI breadcrumbs\n   * @param evtName the event name (e.g. \"click\")\n   * @returns {Function}\n   * @private\n   */\n  _breadcrumbEventHandler: function (evtName) {\n    var self = this;\n    return function (evt) {\n      // reset keypress timeout; e.g. triggering a 'click' after\n      // a 'keypress' will reset the keypress debounce so that a new\n      // set of keypresses can be recorded\n      self._keypressTimeout = null;\n\n      // It's possible this handler might trigger multiple times for the same\n      // event (e.g. event propagation through node ancestors). Ignore if we've\n      // already captured the event.\n      if (self._lastCapturedEvent === evt) return;\n\n      self._lastCapturedEvent = evt;\n\n      // try/catch both:\n      // - accessing evt.target (see getsentry/raven-js#838, #768)\n      // - `htmlTreeAsString` because it's complex, and just accessing the DOM incorrectly\n      //   can throw an exception in some circumstances.\n      var target;\n      try {\n        target = htmlTreeAsString(evt.target);\n      } catch (e) {\n        target = '<unknown>';\n      }\n\n      self.captureBreadcrumb({\n        category: 'ui.' + evtName, // e.g. ui.click, ui.input\n        message: target,\n      });\n    };\n  },\n\n  /**\n   * Wraps addEventListener to capture keypress UI events\n   * @returns {Function}\n   * @private\n   */\n  _keypressEventHandler: function () {\n    var self = this,\n      debounceDuration = 1000; // milliseconds\n\n    // TODO: if somehow user switches keypress target before\n    //       debounce timeout is triggered, we will only capture\n    //       a single breadcrumb from the FIRST target (acceptable?)\n    return function (evt) {\n      var target;\n      try {\n        target = evt.target;\n      } catch (e) {\n        // just accessing event properties can throw an exception in some rare circumstances\n        // see: https://github.com/getsentry/raven-js/issues/838\n        return;\n      }\n      var tagName = target && target.tagName;\n\n      // only consider keypress events on actual input elements\n      // this will disregard keypresses targeting body (e.g. tabbing\n      // through elements, hotkeys, etc)\n      if (\n        !tagName ||\n        (tagName !== 'INPUT' &&\n          tagName !== 'TEXTAREA' &&\n          !target.isContentEditable)\n      )\n        return;\n\n      // record first keypress in a series, but ignore subsequent\n      // keypresses until debounce clears\n      var timeout = self._keypressTimeout;\n      if (!timeout) {\n        self._breadcrumbEventHandler('input')(evt);\n      }\n      clearTimeout(timeout);\n      self._keypressTimeout = setTimeout(function () {\n        self._keypressTimeout = null;\n      }, debounceDuration);\n    };\n  },\n\n  /**\n   * Captures a breadcrumb of type \"navigation\", normalizing input URLs\n   * @param to the originating URL\n   * @param from the target URL\n   * @private\n   */\n  _captureUrlChange: function (from, to) {\n    var parsedLoc = parseUrl(this._location.href);\n    var parsedTo = parseUrl(to);\n    var parsedFrom = parseUrl(from);\n\n    // because onpopstate only tells you the \"new\" (to) value of location.href, and\n    // not the previous (from) value, we need to track the value of the current URL\n    // state ourselves\n    this._lastHref = to;\n\n    // Use only the path component of the URL if the URL matches the current\n    // document (almost all the time when using pushState)\n    if (\n      parsedLoc.protocol === parsedTo.protocol &&\n      parsedLoc.host === parsedTo.host\n    )\n      to = parsedTo.relative;\n    if (\n      parsedLoc.protocol === parsedFrom.protocol &&\n      parsedLoc.host === parsedFrom.host\n    )\n      from = parsedFrom.relative;\n\n    this.captureBreadcrumb({\n      category: 'navigation',\n      data: {\n        to: redactSensitiveUrlParams(to),\n        from: redactSensitiveUrlParams(from),\n      },\n    });\n  },\n\n  /**\n   * Wrap timer functions and event targets to catch errors and provide\n   * better metadata.\n   */\n  _instrumentTryCatch: function () {\n    var self = this;\n\n    var wrappedBuiltIns = self._wrappedBuiltIns;\n\n    function wrapTimeFn(orig) {\n      return function (fn, t) {\n        // preserve arity\n        // Make a copy of the arguments to prevent deoptimization\n        // https://github.com/petkaantonov/bluebird/wiki/Optimization-killers#32-leaking-arguments\n        var args = new Array(arguments.length);\n        for (var i = 0; i < args.length; ++i) {\n          args[i] = arguments[i];\n        }\n        var originalCallback = args[0];\n        if (isFunction(originalCallback)) {\n          args[0] = self.wrap(originalCallback);\n        }\n\n        // IE < 9 doesn't support .call/.apply on setInterval/setTimeout, but it\n        // also supports only two arguments and doesn't care what this is, so we\n        // can just call the original function directly.\n        if (orig.apply) {\n          return orig.apply(this, args);\n        } else {\n          return orig(args[0], args[1]);\n        }\n      };\n    }\n\n    var autoBreadcrumbs = this._globalOptions.autoBreadcrumbs;\n\n    function wrapEventTarget(global) {\n      var proto = _window[global] && _window[global].prototype;\n      if (\n        proto &&\n        proto.hasOwnProperty &&\n        proto.hasOwnProperty('addEventListener')\n      ) {\n        fill(\n          proto,\n          'addEventListener',\n          function (orig) {\n            return function (evtName, fn, capture, secure) {\n              // preserve arity\n              try {\n                if (fn && fn.handleEvent) {\n                  fn.handleEvent = self.wrap(fn.handleEvent);\n                }\n              } catch (err) {\n                // can sometimes get 'Permission denied to access property \"handle Event'\n              }\n\n              // More breadcrumb DOM capture ... done here and not in `_instrumentBreadcrumbs`\n              // so that we don't have more than one wrapper function\n              var before, clickHandler, keypressHandler;\n\n              if (\n                autoBreadcrumbs &&\n                autoBreadcrumbs.dom &&\n                (global === 'EventTarget' || global === 'Node')\n              ) {\n                // NOTE: generating multiple handlers per addEventListener invocation, should\n                //       revisit and verify we can just use one (almost certainly)\n                clickHandler = self._breadcrumbEventHandler('click');\n                keypressHandler = self._keypressEventHandler();\n                before = function (evt) {\n                  // need to intercept every DOM event in `before` argument, in case that\n                  // same wrapped method is re-used for different events (e.g. mousemove THEN click)\n                  // see #724\n                  if (!evt) return;\n\n                  var eventType;\n                  try {\n                    eventType = evt.type;\n                  } catch (e) {\n                    // just accessing event properties can throw an exception in some rare circumstances\n                    // see: https://github.com/getsentry/raven-js/issues/838\n                    return;\n                  }\n                  if (eventType === 'click') return clickHandler(evt);\n                  else if (eventType === 'keypress')\n                    return keypressHandler(evt);\n                };\n              }\n              return orig.call(\n                this,\n                evtName,\n                self.wrap(fn, undefined, before),\n                capture,\n                secure\n              );\n            };\n          },\n          wrappedBuiltIns\n        );\n        fill(\n          proto,\n          'removeEventListener',\n          function (orig) {\n            return function (evt, fn, capture, secure) {\n              try {\n                fn = fn && (fn.__raven_wrapper__ ? fn.__raven_wrapper__ : fn);\n              } catch (e) {\n                // ignore, accessing __raven_wrapper__ will throw in some Selenium environments\n              }\n              return orig.call(this, evt, fn, capture, secure);\n            };\n          },\n          wrappedBuiltIns\n        );\n      }\n    }\n\n    fill(_window, 'setTimeout', wrapTimeFn, wrappedBuiltIns);\n    fill(_window, 'setInterval', wrapTimeFn, wrappedBuiltIns);\n    if (_window.requestAnimationFrame) {\n      fill(\n        _window,\n        'requestAnimationFrame',\n        function (orig) {\n          return function (cb) {\n            return orig(self.wrap(cb));\n          };\n        },\n        wrappedBuiltIns\n      );\n    }\n\n    // event targets borrowed from bugsnag-js:\n    // https://github.com/bugsnag/bugsnag-js/blob/master/src/bugsnag.js#L666\n    var eventTargets = [\n      'EventTarget',\n      'Window',\n      'Node',\n      'ApplicationCache',\n      'AudioTrackList',\n      'ChannelMergerNode',\n      'CryptoOperation',\n      'EventSource',\n      'FileReader',\n      'HTMLUnknownElement',\n      'IDBDatabase',\n      'IDBRequest',\n      'IDBTransaction',\n      'KeyOperation',\n      'MediaController',\n      'MessagePort',\n      'ModalWindow',\n      'Notification',\n      'SVGElementInstance',\n      'Screen',\n      'TextTrack',\n      'TextTrackCue',\n      'TextTrackList',\n      'WebSocket',\n      'WebSocketWorker',\n      'Worker',\n      'XMLHttpRequest',\n      'XMLHttpRequestEventTarget',\n      'XMLHttpRequestUpload',\n    ];\n    for (var i = 0; i < eventTargets.length; i++) {\n      wrapEventTarget(eventTargets[i]);\n    }\n  },\n\n  /**\n   * Instrument browser built-ins w/ breadcrumb capturing\n   *  - XMLHttpRequests\n   *  - DOM interactions (click/typing)\n   *  - window.location changes\n   *  - console\n   *\n   * Can be disabled or individually configured via the `autoBreadcrumbs` config option\n   */\n  _instrumentBreadcrumbs: function () {\n    var self = this;\n    var autoBreadcrumbs = this._globalOptions.autoBreadcrumbs;\n\n    var wrappedBuiltIns = self._wrappedBuiltIns;\n\n    function wrapProp(prop, xhr) {\n      if (prop in xhr && isFunction(xhr[prop])) {\n        fill(xhr, prop, function (orig) {\n          return self.wrap(orig);\n        }); // intentionally don't track filled methods on XHR instances\n      }\n    }\n\n    if (autoBreadcrumbs.xhr && 'XMLHttpRequest' in _window) {\n      var xhrproto = XMLHttpRequest.prototype;\n      fill(\n        xhrproto,\n        'open',\n        function (origOpen) {\n          return function (method, url) {\n            // preserve arity\n\n            // if Sentry key appears in URL, don't capture\n            if (\n              isString(url) &&\n              (!self._globalKey || url.indexOf(self._globalKey) === -1)\n            ) {\n              this.__raven_xhr = {\n                method: method,\n                url: url,\n                status_code: null,\n              };\n            }\n\n            return origOpen.apply(this, arguments);\n          };\n        },\n        wrappedBuiltIns\n      );\n\n      fill(\n        xhrproto,\n        'send',\n        function (origSend) {\n          return function (data) {\n            // preserve arity\n            var xhr = this;\n\n            function onreadystatechangeHandler() {\n              if (xhr.__raven_xhr && xhr.readyState === 4) {\n                try {\n                  // touching statusCode in some platforms throws\n                  // an exception\n                  xhr.__raven_xhr.status_code = xhr.status;\n                  const correlationId = getCorrelationIdFromXHR(xhr);\n\n                  if (correlationId) {\n                    xhr.__raven_xhr.correlationId = correlationId;\n                  }\n                } catch (e) {\n                  /* do nothing */\n                }\n\n                self.captureBreadcrumb({\n                  type: 'http',\n                  category: 'xhr',\n                  data: xhr.__raven_xhr,\n                });\n              }\n            }\n\n            var props = ['onload', 'onerror', 'onprogress'];\n            for (var j = 0; j < props.length; j++) {\n              wrapProp(props[j], xhr);\n            }\n\n            if (\n              'onreadystatechange' in xhr &&\n              isFunction(xhr.onreadystatechange)\n            ) {\n              fill(\n                xhr,\n                'onreadystatechange',\n                function (orig) {\n                  return self.wrap(orig, undefined, onreadystatechangeHandler);\n                } /* intentionally don't track this instrumentation */\n              );\n            } else {\n              // if onreadystatechange wasn't actually set by the page on this xhr, we\n              // are free to set our own and capture the breadcrumb\n              xhr.onreadystatechange = onreadystatechangeHandler;\n            }\n\n            return origSend.apply(this, arguments);\n          };\n        },\n        wrappedBuiltIns\n      );\n    }\n\n    if (autoBreadcrumbs.xhr && 'fetch' in _window) {\n      fill(\n        _window,\n        'fetch',\n        function (origFetch) {\n          // We keep this function name unminified and look for it in the stack trace\n          // in _prepareFrames so we can mark fetch wrapper frames as in_app: false\n          const { ravenFetchWrapper } = {\n            ['raven' + 'FetchWrapper']: function (fn, t) {\n              // preserve arity\n              // Make a copy of the arguments to prevent deoptimization\n              // https://github.com/petkaantonov/bluebird/wiki/Optimization-killers#32-leaking-arguments\n              var args = new Array(arguments.length);\n              for (var i = 0; i < args.length; ++i) {\n                args[i] = arguments[i];\n              }\n\n              var fetchInput = args[0];\n              var method = 'GET';\n              var url;\n\n              if (typeof fetchInput === 'string') {\n                url = fetchInput;\n              } else if (\n                'Request' in _window &&\n                fetchInput instanceof _window.Request\n              ) {\n                url = fetchInput.url;\n                if (fetchInput.method) {\n                  method = fetchInput.method;\n                }\n              } else {\n                url = '' + fetchInput;\n              }\n\n              if (args[1] && args[1].method) {\n                method = args[1].method;\n              }\n\n              var fetchData = {\n                method: method,\n                url: url,\n                status_code: null,\n              };\n\n              self.captureBreadcrumb({\n                type: 'http',\n                category: 'fetch',\n                data: fetchData,\n              });\n\n              return origFetch.apply(this, args).then(function (response) {\n                fetchData.status_code = response.status;\n\n                const correlationId = getCorrelationIdFromResponse(response);\n\n                if (correlationId) {\n                  fetchData.correlationId = correlationId;\n                }\n\n                return response;\n              });\n            },\n          };\n          return ravenFetchWrapper;\n        },\n        wrappedBuiltIns\n      );\n    }\n\n    // Capture breadcrumbs from any click that is unhandled / bubbled up all the way\n    // to the document. Do this before we instrument addEventListener.\n    if (autoBreadcrumbs.dom && this._hasDocument) {\n      if (_document.addEventListener) {\n        _document.addEventListener(\n          'click',\n          self._breadcrumbEventHandler('click'),\n          false\n        );\n        _document.addEventListener(\n          'keypress',\n          self._keypressEventHandler(),\n          false\n        );\n      } else {\n        // IE8 Compatibility\n        _document.attachEvent('onclick', self._breadcrumbEventHandler('click'));\n        _document.attachEvent('onkeypress', self._keypressEventHandler());\n      }\n    }\n\n    // record navigation (URL) changes\n    // NOTE: in Chrome App environment, touching history.pushState, *even inside\n    //       a try/catch block*, will cause Chrome to output an error to console.error\n    // borrowed from: https://github.com/angular/angular.js/pull/13945/files\n    var chrome = _window.chrome;\n    var isChromePackagedApp = chrome && chrome.app && chrome.app.runtime;\n    var hasPushAndReplaceState =\n      !isChromePackagedApp &&\n      _window.history &&\n      history.pushState &&\n      history.replaceState;\n    if (autoBreadcrumbs.location && hasPushAndReplaceState) {\n      // TODO: remove onpopstate handler on uninstall()\n      var oldOnPopState = _window.onpopstate;\n      _window.onpopstate = function () {\n        var currentHref = self._location.href;\n        self._captureUrlChange(self._lastHref, currentHref);\n\n        if (oldOnPopState) {\n          return oldOnPopState.apply(this, arguments);\n        }\n      };\n\n      var historyReplacementFunction = function (origHistFunction) {\n        // note history.pushState.length is 0; intentionally not declaring\n        // params to preserve 0 arity\n        return function (/* state, title, url */) {\n          var url = arguments.length > 2 ? arguments[2] : undefined;\n\n          // url argument is optional\n          if (url) {\n            // coerce to string (this is what pushState does)\n            self._captureUrlChange(self._lastHref, url + '');\n          }\n\n          return origHistFunction.apply(this, arguments);\n        };\n      };\n\n      fill(history, 'pushState', historyReplacementFunction, wrappedBuiltIns);\n      fill(\n        history,\n        'replaceState',\n        historyReplacementFunction,\n        wrappedBuiltIns\n      );\n    }\n\n    if (autoBreadcrumbs.console && 'console' in _window && console.log) {\n      // console\n      var consoleMethodCallback = function (msg, data) {\n        self.captureBreadcrumb({\n          message: msg,\n          level: data.level,\n          category: 'console',\n        });\n      };\n\n      each(['debug', 'info', 'warn', 'error', 'log'], function (_, level) {\n        wrapConsoleMethod(console, level, consoleMethodCallback);\n      });\n    }\n  },\n\n  _restoreBuiltIns: function () {\n    // restore any wrapped builtins\n    var builtin;\n    while (this._wrappedBuiltIns.length) {\n      builtin = this._wrappedBuiltIns.shift();\n\n      var obj = builtin[0],\n        name = builtin[1],\n        orig = builtin[2];\n\n      obj[name] = orig;\n    }\n  },\n\n  _drainPlugins: function () {\n    var self = this;\n\n    // FIX ME TODO\n    each(this._plugins, function (_, plugin) {\n      var installer = plugin[0];\n      var args = plugin[1];\n      installer.apply(self, [self].concat(args));\n    });\n  },\n\n  _parseDSN: function (str) {\n    var m = dsnPattern.exec(str),\n      dsn = {},\n      i = 7;\n\n    try {\n      while (i--) dsn[dsnKeys[i]] = m[i] || '';\n    } catch (e) {\n      throw new RavenConfigError('Invalid DSN: ' + str);\n    }\n\n    if (dsn.pass && !this._globalOptions.allowSecretKey) {\n      throw new RavenConfigError(\n        'Do not specify your secret key in the DSN. See: http://bit.ly/raven-secret-key'\n      );\n    }\n\n    return dsn;\n  },\n\n  _getGlobalServer: function (uri) {\n    // assemble the endpoint from the uri pieces\n    var host = uri.host;\n    var tags = this._globalContext.tags;\n    var hublet = (tags && tags['hublet']) || 'na1';\n    var env = this._globalOptions.environment || 'prod';\n\n    if (uri.host === 'exceptions.hubspot.com') {\n      var hubletSuffix = hublet === 'na1' ? '' : `-${hublet}`;\n      var envSuffix = env === 'prod' ? '' : `${env}`;\n\n      host = `exceptions${hubletSuffix}.hubspot${envSuffix}.com`;\n    }\n\n    var globalServer = '//' + host + (uri.port ? ':' + uri.port : '');\n\n    if (uri.protocol) {\n      globalServer = uri.protocol + ':' + globalServer;\n    }\n    return globalServer;\n  },\n\n  _handleOnErrorStackInfo: function () {\n    // if we are intentionally ignoring errors via onerror, bail out\n    if (!this._ignoreOnError) {\n      this._handleStackInfo.apply(this, arguments);\n    }\n  },\n\n  _handleStackInfo: function (stackInfo, options) {\n    var frames = this._prepareFrames(stackInfo, options);\n\n    this._triggerEvent('handle', {\n      stackInfo: stackInfo,\n      options: options,\n    });\n\n    this._processException(\n      stackInfo.name,\n      stackInfo.message,\n      stackInfo.url,\n      stackInfo.lineno,\n      frames,\n      options\n    );\n  },\n\n  _prepareFrames: function (stackInfo, options) {\n    var self = this;\n    var frames = [];\n    if (stackInfo.stack && stackInfo.stack.length) {\n      each(stackInfo.stack, function (i, stack) {\n        var frame = self._normalizeFrame(stack, stackInfo.url);\n        if (frame) {\n          frames.push(frame);\n        }\n      });\n\n      // e.g. frames captured via captureMessage throw\n      if (options && options.trimHeadFrames) {\n        for (var j = 0; j < options.trimHeadFrames && j < frames.length; j++) {\n          frames[j].in_app = false;\n        }\n      }\n\n      // Mark ravenWrapped and frames below it as not in_app\n      // so errors don't get reported to the Raven source route\n      if (frames.some((frame) => frame.function.includes('ravenWrapped'))) {\n        for (var k = frames.length - 1; k >= 0; k--) {\n          if (frames[k].function.includes('ravenWrapped')) {\n            frames[k].in_app = false;\n            break;\n          }\n          frames[k].in_app = false;\n        }\n      }\n      // Mark ravenFetchWrapper as not in_app so errors don't get reported to the Raven source route\n      for (var l = 0; l < frames.length; l++) {\n        if (frames[l].function.includes('ravenFetchWrapper')) {\n          frames[l].in_app = false;\n        }\n      }\n    }\n\n    frames = frames.slice(0, this._globalOptions.stackTraceLimit);\n    return frames;\n  },\n\n  _normalizeFrame: function (frame, stackInfoUrl) {\n    // normalize the frames data\n    var normalized = {\n      filename: frame.url,\n      lineno: frame.line,\n      colno: frame.column,\n      function: frame.func || '?',\n    };\n\n    // Case when we don't have any information about the error\n    // E.g. throwing a string or raw object, instead of an `Error` in Firefox\n    // Generating synthetic error doesn't add any value here\n    //\n    // We should probably somehow let a user know that they should fix their code\n    if (!frame.url) {\n      normalized.filename = stackInfoUrl; // fallback to whole stacks url from onerror handler\n    }\n\n    normalized.in_app = !(\n      // determine if an exception came from outside of our app\n      // first we check the global includePaths list.\n      (\n        (!!this._globalOptions.includePaths.test &&\n          !this._globalOptions.includePaths.test(normalized.filename)) ||\n        // Now we check for fun, if the function name is Raven or TraceKit\n        /(Raven|TraceKit)\\./.test(normalized['function'])\n      )\n    );\n\n    return normalized;\n  },\n\n  _processException: function (\n    type,\n    message,\n    fileurl,\n    lineno,\n    frames,\n    options\n  ) {\n    var prefixedMessage = (type ? type + ': ' : '') + (message || '');\n    let errorCause =\n      (this._lastCapturedException &&\n        this._lastCapturedException.cause &&\n        this._lastCapturedException.cause.message) ||\n      '';\n    if (\n      !!this._globalOptions.ignoreErrors.test &&\n      (this._globalOptions.ignoreErrors.test(message) ||\n        this._globalOptions.ignoreErrors.test(prefixedMessage) ||\n        this._globalOptions.ignoreErrors.test(errorCause))\n    ) {\n      this._triggerEvent('captureIgnored', {\n        level: (options && options.level) || 'error',\n      });\n      return;\n    }\n\n    var stacktrace;\n\n    if (frames && frames.length) {\n      fileurl = frames[0].filename || fileurl;\n      // Sentry expects frames oldest to newest\n      // and JS sends them as newest to oldest\n      frames.reverse();\n      stacktrace = { frames: frames };\n    } else if (fileurl) {\n      stacktrace = {\n        frames: [\n          {\n            filename: fileurl,\n            lineno: lineno,\n            in_app: true,\n          },\n        ],\n      };\n    }\n\n    if (\n      !!this._globalOptions.ignoreUrls.test &&\n      this._globalOptions.ignoreUrls.test(fileurl)\n    ) {\n      return;\n    }\n\n    if (\n      !!this._globalOptions.whitelistUrls.test &&\n      !this._globalOptions.whitelistUrls.test(fileurl)\n    ) {\n      return;\n    }\n\n    var data = objectMerge(\n      {\n        // sentry.interfaces.Exception\n        exception: {\n          values: [\n            {\n              type: type,\n              value: message,\n              stacktrace: stacktrace,\n            },\n          ],\n        },\n        culprit: fileurl,\n      },\n      options\n    );\n\n    // Fire away!\n    this._send(data);\n  },\n\n  _trimPacket: function (data) {\n    // For now, we only want to truncate the two different messages\n    // but this could/should be expanded to just trim everything\n    var max = this._globalOptions.maxMessageLength;\n    if (data.message) {\n      data.message = truncate(data.message, max);\n    }\n    if (data.exception) {\n      var exception = data.exception.values[0];\n      exception.value = truncate(exception.value, max);\n    }\n\n    var request = data.request;\n    if (request) {\n      if (request.url) {\n        request.url = redactSensitiveUrlParams(\n          truncate(request.url, this._globalOptions.maxUrlLength)\n        );\n      }\n      if (request.Referer) {\n        request.Referer = redactSensitiveUrlParams(\n          truncate(request.Referer, this._globalOptions.maxUrlLength)\n        );\n      }\n    }\n\n    return data;\n  },\n\n  _getHttpData: function () {\n    if (!this._hasNavigator && !this._hasDocument) return;\n    var httpData = {};\n\n    if (this._hasNavigator && _navigator.userAgent) {\n      httpData.headers = {\n        'User-Agent': navigator.userAgent,\n      };\n    }\n\n    if (this._hasDocument) {\n      if (_document.location && _document.location.href) {\n        httpData.url = redactSensitiveUrlParams(_document.location.href);\n      }\n      if (_document.referrer) {\n        if (!httpData.headers) httpData.headers = {};\n        httpData.headers.Referer = redactSensitiveUrlParams(_document.referrer);\n      }\n    }\n\n    return httpData;\n  },\n\n  _resetBackoff: function () {\n    this._backoffDuration = 0;\n    this._backoffStart = null;\n  },\n\n  _shouldBackoff: function () {\n    return (\n      this._backoffDuration &&\n      now() - this._backoffStart < this._backoffDuration\n    );\n  },\n\n  /**\n   * Returns true if the in-process data payload matches the signature\n   * of the previously-sent data\n   *\n   * NOTE: This has to be done at this level because TraceKit can generate\n   *       data from window.onerror WITHOUT an exception object (IE8, IE9,\n   *       other old browsers). This can take the form of an \"exception\"\n   *       data object with a single frame (derived from the onerror args).\n   */\n  _isRepeatData: function (current) {\n    // Page events should not be de-deduped\n    if (current.isPageEvent) {\n      return false;\n    }\n\n    var last = this._lastData;\n\n    if (\n      !last ||\n      current.message !== last.message || // defined for captureMessage\n      current.culprit !== last.culprit // defined for captureException/onerror\n    )\n      return false;\n\n    // Stacktrace interface (i.e. from captureMessage)\n    if (current.stacktrace || last.stacktrace) {\n      return isSameStacktrace(current.stacktrace, last.stacktrace);\n    } else if (current.exception || last.exception) {\n      // Exception interface (i.e. from captureException/onerror)\n      return isSameException(current.exception, last.exception);\n    }\n\n    return true;\n  },\n\n  _setBackoffState: function (request) {\n    // If we are already in a backoff state, don't change anything\n    if (this._shouldBackoff()) {\n      return;\n    }\n\n    var status = request.status;\n\n    // 400 - project_id doesn't exist or some other fatal\n    // 401 - invalid/revoked dsn\n    // 429 - too many requests\n    if (!(status === 400 || status === 401 || status === 429)) return;\n\n    var retry;\n    try {\n      // If Retry-After is not in Access-Control-Expose-Headers, most\n      // browsers will throw an exception trying to access it\n      retry = request.getResponseHeader('Retry-After');\n      retry = parseInt(retry, 10) * 1000; // Retry-After is returned in seconds\n    } catch (e) {\n      /* eslint no-empty:0 */\n    }\n\n    this._backoffDuration = retry\n      ? // If Sentry server returned a Retry-After value, use it\n        retry\n      : // Otherwise, double the last backoff duration (starts at 1 sec)\n        this._backoffDuration * 2 || 1000;\n\n    this._backoffStart = now();\n  },\n\n  _getRecentFailedNetworkRequest: function () {\n    if (this._breadcrumbs && this._breadcrumbs.length > 0) {\n      // Look through recent breadcrumbs (last 10) for failed network requests\n      var recentBreadcrumbs = this._breadcrumbs.slice(-10);\n\n      for (var i = recentBreadcrumbs.length - 1; i >= 0; i--) {\n        var breadcrumb = recentBreadcrumbs[i];\n\n        // Check if this is an HTTP breadcrumb (XHR or fetch)\n        if (\n          breadcrumb.type === 'http' &&\n          (breadcrumb.category === 'xhr' || breadcrumb.category === 'fetch') &&\n          breadcrumb.data &&\n          breadcrumb.data.status_code &&\n          breadcrumb.data.correlationId\n        ) {\n          // Consider HTTP status codes 400+ as failed requests\n          if (breadcrumb.data.status_code >= 400) {\n            return breadcrumb.data;\n          }\n        }\n      }\n    }\n\n    return null;\n  },\n\n  _send: function (data) {\n    var globalOptions = this._globalOptions;\n\n    var baseData = {\n        project: this._globalProject,\n        logger: globalOptions.logger,\n        platform: 'javascript',\n      },\n      httpData = this._getHttpData();\n\n    if (httpData) {\n      baseData.request = httpData;\n    }\n\n    // HACK: delete `trimHeadFrames` to prevent from appearing in outbound payload\n    if (data.trimHeadFrames) delete data.trimHeadFrames;\n\n    data = objectMerge(baseData, data);\n\n    // Merge in the tags and extra separately since objectMerge doesn't handle a deep merge\n    data.tags = objectMerge(\n      objectMerge({}, this._globalContext.tags || {}),\n      data.tags || {}\n    );\n    data.extra = objectMerge(\n      objectMerge({}, this._globalContext.extra || {}),\n      data.extra || {}\n    );\n\n    // Send along our own collected metadata with extra\n    if (!data.extra) data.extra = {};\n    data.extra['session:duration'] = now() - this._startTime;\n    data.extra['sessionId'] = _window.hubspot && _window.hubspot.sessionId;\n\n    // Capture Amplitude session ID for correlation with session replays and analytics\n    try {\n      if (_window.localStorage) {\n        var hmplData = _window.localStorage.getItem('__hmpl');\n        if (hmplData) {\n          var parsedHmplData = JSON.parse(hmplData);\n          if (parsedHmplData && parsedHmplData.session_id) {\n            data.extra['amplitudeSessionId'] = parsedHmplData.session_id;\n          }\n        }\n      }\n    } catch (e) {}\n\n    // Add correlation ID from recent failed network requests to extra object\n    if (\n      !data.isPageEvent &&\n      this._breadcrumbs &&\n      this._breadcrumbs.length > 0\n    ) {\n      var recentFailedRequest = this._getRecentFailedNetworkRequest();\n      if (recentFailedRequest && recentFailedRequest.correlationId) {\n        data.extra.correlationId = recentFailedRequest.correlationId;\n      }\n    }\n\n    if (\n      !data.isPageEvent &&\n      this._breadcrumbs &&\n      this._breadcrumbs.length > 0\n    ) {\n      // intentionally make shallow copy so that additions\n      // to breadcrumbs aren't accidentally sent in this request\n      data.breadcrumbs = {\n        values: [].slice.call(this._breadcrumbs, 0),\n      };\n    }\n\n    // If there are no tags/extra, strip the key from the payload alltogther.\n    if (isEmptyObject(data.tags)) delete data.tags;\n\n    if (this._globalContext.user) {\n      // sentry.interfaces.User\n      data.user = this._globalContext.user;\n    }\n\n    // Include the environment if it's defined in globalOptions\n    if (globalOptions.environment) data.environment = globalOptions.environment;\n\n    // Include the release if it's defined in globalOptions\n    if (globalOptions.release) data.release = globalOptions.release;\n\n    // Include server_name if it's defined in globalOptions\n    if (globalOptions.serverName) data.server_name = globalOptions.serverName;\n\n    if (isFunction(globalOptions.dataCallback)) {\n      data = globalOptions.dataCallback(data) || data;\n    }\n\n    // Why??????????\n    if (!data || isEmptyObject(data)) {\n      return;\n    }\n\n    // Check if the request should be filtered or not\n    if (\n      isFunction(globalOptions.shouldSendCallback) &&\n      !globalOptions.shouldSendCallback(data)\n    ) {\n      return;\n    }\n\n    // Backoff state: Sentry server previously responded w/ an error (e.g. 429 - too many requests),\n    // so drop requests until \"cool-off\" period has elapsed.\n    if (this._shouldBackoff()) {\n      this._logDebug('warn', 'Raven dropped error due to backoff: ', data);\n      return;\n    }\n\n    if (typeof globalOptions.sampleRate === 'number') {\n      if (Math.random() < globalOptions.sampleRate) {\n        this._sendProcessedPayload(data);\n      }\n    } else {\n      this._sendProcessedPayload(data);\n    }\n  },\n\n  _getUuid: function () {\n    return uuid4();\n  },\n\n  _sendProcessedPayload: function (data, callback) {\n    var self = this;\n    var globalOptions = this._globalOptions;\n\n    if (!this.isSetup()) return;\n\n    // Try and clean up the packet before sending by truncating long values\n    data = this._trimPacket(data);\n\n    // ideally duplicate error testing should occur *before* dataCallback/shouldSendCallback,\n    // but this would require copying an un-truncated copy of the data packet, which can be\n    // arbitrarily deep (extra_data) -- could be worthwhile? will revisit\n    if (!this._globalOptions.allowDuplicates && this._isRepeatData(data)) {\n      this._logDebug('warn', 'Raven dropped repeat event: ', data);\n      return;\n    }\n\n    // Send along an event_id if not explicitly passed.\n    // This event_id can be used to reference the error within Sentry itself.\n    // Set lastEventId after we know the error should actually be sent\n    this._lastEventId = data.event_id || (data.event_id = this._getUuid());\n\n    // Store outbound payload after trim\n    this._lastData = data;\n\n    this._logDebug('debug', 'Raven about to send:', data);\n\n    var auth = {\n      sentry_version: '7',\n      sentry_client: 'raven-js/' + this.VERSION,\n    };\n\n    if (this._globalKey) {\n      auth.sentry_key = this._globalKey;\n    }\n\n    if (this._globalSecret) {\n      auth.sentry_secret = this._globalSecret;\n    }\n\n    var params = {};\n    var hasProjectTag = data.tags && data.tags.project;\n    var hasParams = hasProjectTag;\n\n    if (hasProjectTag) {\n      params.deployable = data.tags.project;\n    }\n\n    var exception = data.exception && data.exception.values[0];\n    this.captureBreadcrumb({\n      category: data.isPageEvent ? 'pageEvent' : 'sentry',\n      message: exception\n        ? (exception.type ? exception.type + ': ' : '') + exception.value\n        : data.message,\n      data: data.isPageEvent ? data.extra : undefined,\n      event_id: data.event_id,\n      level: data.level || 'error', // presume error unless specified\n    });\n\n    var url = data.isPageEvent\n      ? this._globalPageEventEndpoint\n      : this._globalEndpoint;\n\n    (globalOptions.transport || this._makeRequest).call(this, {\n      url: url,\n      auth: auth,\n      query: hasParams ? params : undefined,\n      data: data,\n      options: globalOptions,\n      onSuccess: function success() {\n        self._resetBackoff();\n\n        self._triggerEvent('success', {\n          data: data,\n          src: url,\n        });\n        callback && callback();\n      },\n      onError: function failure(error) {\n        self._logDebug('error', 'Raven transport failed to send: ', error);\n\n        if (error.request) {\n          self._setBackoffState(error.request);\n        }\n\n        self._triggerEvent('failure', {\n          data: data,\n          src: url,\n          error,\n        });\n        error =\n          error ||\n          new Error('Raven send failed (no additional details provided)');\n        callback && callback(error);\n      },\n    });\n  },\n\n  _makeRequest: function (opts) {\n    var request = _window.XMLHttpRequest && new _window.XMLHttpRequest();\n    if (!request) return;\n\n    // if browser doesn't support CORS (e.g. IE7), we are out of luck\n    var hasCORS =\n      'withCredentials' in request || typeof XDomainRequest !== 'undefined';\n\n    if (!hasCORS) return;\n\n    var url = opts.url;\n\n    if ('withCredentials' in request) {\n      request.onreadystatechange = function () {\n        if (request.readyState !== 4) {\n          return;\n        } else if (request.status === 200) {\n          opts.onSuccess && opts.onSuccess();\n        } else if (opts.onError) {\n          var err = new Error('Sentry error code: ' + request.status);\n          err.request = request;\n          opts.onError(err);\n        }\n      };\n    } else {\n      request = new XDomainRequest();\n      // xdomainrequest cannot go http -> https (or vice versa),\n      // so always use protocol relative\n      url = url.replace(/^https?:/, '');\n\n      // onreadystatechange not supported by XDomainRequest\n      if (opts.onSuccess) {\n        request.onload = opts.onSuccess;\n      }\n      if (opts.onError) {\n        request.onerror = function () {\n          var err = new Error('Sentry error code: XDomainRequest');\n          err.request = request;\n          opts.onError(err);\n        };\n      }\n    }\n\n    // NOTE: auth is intentionally sent as part of query string (NOT as custom\n    //       HTTP header) so as to avoid preflight CORS requests\n    try {\n      request.open(\n        'POST',\n        `${url}?${urlencode(opts.auth)}${\n          opts.query ? `&${urlencode(opts.query)}` : ''\n        }`\n      );\n      request.send(stringify(opts.data));\n    } catch (e) {\n      // Handle \"Document is not fully active\" error when XMLHttpRequest operations\n      // are called on inactive documents (e.g., removed iframes)\n      if (opts.onError) {\n        var err = new Error('XMLHttpRequest failed: ' + e.message);\n        err.request = request;\n        err.originalError = e;\n        opts.onError(err);\n      }\n    }\n  },\n\n  _logDebug: function (level) {\n    if (this._originalConsoleMethods[level] && this.debug) {\n      // In IE<10 console methods do not have their own 'apply' method\n      Function.prototype.apply.call(\n        this._originalConsoleMethods[level],\n        this._originalConsole,\n        [].slice.call(arguments, 1)\n      );\n    }\n  },\n\n  _mergeContext: function (key, context) {\n    if (isUndefined(context)) {\n      delete this._globalContext[key];\n    } else {\n      this._globalContext[key] = objectMerge(\n        this._globalContext[key] || {},\n        context\n      );\n    }\n  },\n};\n\n// Deprecations\nRaven.prototype.setUser = Raven.prototype.setUserContext;\nRaven.prototype.setReleaseContext = Raven.prototype.setRelease;\n","var _window =\n  typeof window !== 'undefined'\n    ? window\n    : typeof global !== 'undefined'\n    ? global\n    : typeof self !== 'undefined'\n    ? self\n    : {};\n\nfunction isObject(what) {\n  return typeof what === 'object' && what !== null;\n}\n\n// Yanked from https://git.io/vS8DV re-used under CC0\n// with some tiny modifications\nfunction isError(value) {\n  switch ({}.toString.call(value)) {\n    case '[object Error]':\n      return true;\n    case '[object Exception]':\n      return true;\n    case '[object DOMException]':\n      return true;\n    default:\n      return value instanceof Error;\n  }\n}\n\nfunction isErrorEvent(value) {\n  return (\n    supportsErrorEvent() && {}.toString.call(value) === '[object ErrorEvent]'\n  );\n}\n\nfunction isUndefined(what) {\n  return what === void 0;\n}\n\nfunction isFunction(what) {\n  return typeof what === 'function';\n}\n\nfunction isString(what) {\n  return Object.prototype.toString.call(what) === '[object String]';\n}\n\nfunction isEmptyObject(what) {\n  for (var _ in what) return false; // eslint-disable-line guard-for-in, no-unused-vars\n  return true;\n}\n\nfunction supportsErrorEvent() {\n  try {\n    new ErrorEvent(''); // eslint-disable-line no-new\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction wrappedCallback(callback) {\n  function dataCallback(data, original) {\n    var normalizedData = callback(data) || data;\n    if (original) {\n      return original(normalizedData) || normalizedData;\n    }\n    return normalizedData;\n  }\n\n  return dataCallback;\n}\n\nfunction each(obj, callback) {\n  var i, j;\n\n  if (isUndefined(obj.length)) {\n    for (i in obj) {\n      if (hasKey(obj, i)) {\n        callback.call(null, i, obj[i]);\n      }\n    }\n  } else {\n    j = obj.length;\n    if (j) {\n      for (i = 0; i < j; i++) {\n        callback.call(null, i, obj[i]);\n      }\n    }\n  }\n}\n\nfunction objectMerge(obj1, obj2) {\n  if (!obj2) {\n    return obj1;\n  }\n  each(obj2, function (key, value) {\n    obj1[key] = value;\n  });\n  return obj1;\n}\n\n/**\n * This function is only used for react-native.\n * react-native freezes object that have already been sent over the\n * js bridge. We need this function in order to check if the object is frozen.\n * So it's ok that objectFrozen returns false if Object.isFrozen is not\n * supported because it's not relevant for other \"platforms\". See related issue:\n * https://github.com/getsentry/react-native-sentry/issues/57\n */\nfunction objectFrozen(obj) {\n  if (!Object.isFrozen) {\n    return false;\n  }\n  return Object.isFrozen(obj);\n}\n\nfunction truncate(str, max) {\n  return !max || str.length <= max ? str : str.substr(0, max) + '\\u2026';\n}\n\n/**\n * hasKey, a better form of hasOwnProperty\n * Example: hasKey(MainHostObject, property) === true/false\n *\n * @param {Object} host object to check property\n * @param {string} key to check\n */\nfunction hasKey(object, key) {\n  return Object.prototype.hasOwnProperty.call(object, key);\n}\n\nfunction joinRegExp(patterns) {\n  // Combine an array of regular expressions and strings into one large regexp\n  // Be mad.\n  var sources = [],\n    i = 0,\n    len = patterns.length,\n    pattern;\n\n  for (; i < len; i++) {\n    pattern = patterns[i];\n    if (isString(pattern)) {\n      // If it's a string, we need to escape it\n      // Taken from: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions\n      sources.push(pattern.replace(/([.*+?^=!:${}()|\\[\\]\\/\\\\])/g, '\\\\$1'));\n    } else if (pattern && pattern.source) {\n      // If it's a regexp already, we want to extract the source\n      sources.push(pattern.source);\n    }\n    // Intentionally skip other cases\n  }\n  return new RegExp(sources.join('|'), 'i');\n}\n\nfunction urlencode(o) {\n  var pairs = [];\n  each(o, function (key, value) {\n    pairs.push(encodeURIComponent(key) + '=' + encodeURIComponent(value));\n  });\n  return pairs.join('&');\n}\n\n// borrowed from https://tools.ietf.org/html/rfc3986#appendix-B\n// intentionally using regex and not <a/> href parsing trick because React Native and other\n// environments where DOM might not be available\nfunction parseUrl(url) {\n  var match = url.match(\n    /^(([^:\\/?#]+):)?(\\/\\/([^\\/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$/\n  );\n  if (!match) return {};\n\n  // coerce to undefined values to empty string so we don't get 'undefined'\n  var query = match[6] || '';\n  var fragment = match[8] || '';\n  return {\n    protocol: match[2],\n    host: match[4],\n    path: match[5],\n    relative: match[5] + query + fragment, // everything minus origin\n  };\n}\nfunction uuid4() {\n  var crypto = _window.crypto || _window.msCrypto;\n\n  if (!isUndefined(crypto) && crypto.getRandomValues) {\n    // Use window.crypto API if available\n    // eslint-disable-next-line no-undef\n    var arr = new Uint16Array(8);\n    crypto.getRandomValues(arr);\n\n    // set 4 in byte 7\n    arr[3] = (arr[3] & 0xfff) | 0x4000;\n    // set 2 most significant bits of byte 9 to '10'\n    arr[4] = (arr[4] & 0x3fff) | 0x8000;\n\n    var pad = function (num) {\n      var v = num.toString(16);\n      while (v.length < 4) {\n        v = '0' + v;\n      }\n      return v;\n    };\n\n    return (\n      pad(arr[0]) +\n      pad(arr[1]) +\n      pad(arr[2]) +\n      pad(arr[3]) +\n      pad(arr[4]) +\n      pad(arr[5]) +\n      pad(arr[6]) +\n      pad(arr[7])\n    );\n  } else {\n    // http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/2117523#2117523\n    return 'xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n      var r = (Math.random() * 16) | 0,\n        v = c === 'x' ? r : (r & 0x3) | 0x8;\n      return v.toString(16);\n    });\n  }\n}\n\n/**\n * Returns true if either a OR b is truthy, but not both\n */\nfunction isOnlyOneTruthy(a, b) {\n  return !!(!!a ^ !!b);\n}\n\n/**\n * Returns true if the two input exception interfaces have the same content\n */\nfunction isSameException(ex1, ex2) {\n  if (isOnlyOneTruthy(ex1, ex2)) return false;\n\n  ex1 = ex1.values[0];\n  ex2 = ex2.values[0];\n\n  if (ex1.type !== ex2.type || ex1.value !== ex2.value) return false;\n\n  return isSameStacktrace(ex1.stacktrace, ex2.stacktrace);\n}\n\n/**\n * Compare two objects for equality by checking all properties and values\n */\nfunction isSameObject(obj1, obj2) {\n  if (obj1 === obj2) return true;\n  if (obj1 == null && obj2 == null) return true;\n  if (isOnlyOneTruthy(obj1, obj2)) return false;\n\n  var keys1 = Object.keys(obj1);\n  var keys2 = Object.keys(obj2);\n\n  if (keys1.length !== keys2.length) return false;\n\n  for (var i = 0; i < keys1.length; i++) {\n    var key = keys1[i];\n    if (!hasKey(obj2, key)) return false;\n    if (obj1[key] !== obj2[key]) return false;\n  }\n\n  return true;\n}\n\n/**\n * Returns true if the two input stack trace interfaces have the same content\n */\nfunction isSameStacktrace(stack1, stack2) {\n  if (stack1 == null && stack2 == null) return true;\n  if (isOnlyOneTruthy(stack1, stack2)) return false;\n\n  var frames1 = stack1.frames;\n  var frames2 = stack2.frames;\n\n  // Exit early if no frames or if frame count differs\n  if (frames1 == null && frames2 == null) return isSameObject(stack1, stack2);\n  if (isOnlyOneTruthy(frames1, frames2)) return false;\n  if (frames1.length == null && frames2.length == null)\n    return isSameObject(stack1, stack2);\n  if (frames1.length !== frames2.length) return false;\n\n  // Iterate through every frame; bail out if anything differs\n  var a, b;\n  for (var i = 0; i < frames1.length; i++) {\n    a = frames1[i];\n    b = frames2[i];\n    if (\n      a.filename !== b.filename ||\n      a.lineno !== b.lineno ||\n      a.colno !== b.colno ||\n      a['function'] !== b['function']\n    )\n      return false;\n  }\n  return true;\n}\n\n/**\n * Polyfill a method\n * @param obj object e.g. `document`\n * @param name method name present on object e.g. `addEventListener`\n * @param replacement replacement function\n * @param track {optional} record instrumentation to an array\n */\nfunction fill(obj, name, replacement, track) {\n  var orig = obj[name];\n  obj[name] = replacement(orig);\n  if (track) {\n    track.push([obj, name, orig]);\n  }\n}\n\n/**\n * Redacts sensitive parameters from a URL\n * @param {string} url - The URL to redact sensitive parameters from\n * @returns {string} - The URL with sensitive parameters redacted\n */\nfunction redactSensitiveUrlParams(url) {\n  if (!url || typeof url !== 'string') {\n    return url;\n  }\n\n  try {\n    // Parse the URL\n    const parsedUrl = new URL(url);\n\n    // Redact search params\n    const searchParams = parsedUrl.searchParams;\n    if (searchParams.has('otp')) {\n      searchParams.set('otp', '**REDACTED**');\n    }\n    if (searchParams.has('otpId')) {\n      searchParams.set('otpId', '**REDACTED**');\n    }\n\n    // Redact hash parameters\n    if (parsedUrl.hash) {\n      // Remove the leading # character\n      const hashWithoutLeadingChar = parsedUrl.hash.substring(1);\n\n      // Check if there are parameters in the hash\n      if (hashWithoutLeadingChar.includes('=')) {\n        // Replace the entire hash with redacted\n        parsedUrl.hash = '**REDACTED**';\n      }\n    }\n\n    return parsedUrl.toString();\n  } catch (e) {\n    // If URL parsing fails, return the original URL\n    return url;\n  }\n}\n\nmodule.exports = {\n  isObject: isObject,\n  isError: isError,\n  isErrorEvent: isErrorEvent,\n  isUndefined: isUndefined,\n  isFunction: isFunction,\n  isString: isString,\n  isEmptyObject: isEmptyObject,\n  supportsErrorEvent: supportsErrorEvent,\n  wrappedCallback: wrappedCallback,\n  each: each,\n  objectMerge: objectMerge,\n  truncate: truncate,\n  objectFrozen: objectFrozen,\n  hasKey: hasKey,\n  joinRegExp: joinRegExp,\n  urlencode: urlencode,\n  uuid4: uuid4,\n  isSameObject: isSameObject,\n  isSameException: isSameException,\n  isSameStacktrace: isSameStacktrace,\n  parseUrl: parseUrl,\n  fill: fill,\n  redactSensitiveUrlParams: redactSensitiveUrlParams,\n};\n","var utils = require('../utils');\n\n/*\n TraceKit - Cross brower stack traces\n\n This was originally forked from github.com/occ/TraceKit, but has since been\n largely re-written and is now maintained as part of raven-js.  Tests for\n this are in test/vendor.\n\n MIT license\n*/\n\nvar TraceKit = {\n  collectWindowErrors: true,\n  debug: false,\n};\n\n// This is to be defensive in environments where window does not exist (see https://github.com/getsentry/raven-js/pull/785)\nvar _window =\n  typeof window !== 'undefined'\n    ? window\n    : typeof global !== 'undefined'\n    ? global\n    : typeof self !== 'undefined'\n    ? self\n    : {};\n\n// global reference to slice\nvar _slice = [].slice;\nvar UNKNOWN_FUNCTION = '?';\n\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error#Error_types\nvar ERROR_TYPES_RE =\n  /^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;\n\nfunction getLocationHref() {\n  if (typeof document === 'undefined' || document.location == null) return '';\n\n  return document.location.href;\n}\n\n/**\n * TraceKit.report: cross-browser processing of unhandled exceptions\n *\n * Syntax:\n *   TraceKit.report.subscribe(function(stackInfo) { ... })\n *   TraceKit.report.unsubscribe(function(stackInfo) { ... })\n *   TraceKit.report(exception)\n *   try { ...code... } catch(ex) { TraceKit.report(ex); }\n *\n * Supports:\n *   - Firefox: full stack trace with line numbers, plus column number\n *              on top frame; column number is not guaranteed\n *   - Opera:   full stack trace with line and column numbers\n *   - Chrome:  full stack trace with line and column numbers\n *   - Safari:  line and column number for the top frame only; some frames\n *              may be missing, and column number is not guaranteed\n *   - IE:      line and column number for the top frame only; some frames\n *              may be missing, and column number is not guaranteed\n *\n * In theory, TraceKit should work on all of the following versions:\n *   - IE5.5+ (only 8.0 tested)\n *   - Firefox 0.9+ (only 3.5+ tested)\n *   - Opera 7+ (only 10.50 tested; versions 9 and earlier may require\n *     Exceptions Have Stacktrace to be enabled in opera:config)\n *   - Safari 3+ (only 4+ tested)\n *   - Chrome 1+ (only 5+ tested)\n *   - Konqueror 3.5+ (untested)\n *\n * Requires TraceKit.computeStackTrace.\n *\n * Tries to catch all unhandled exceptions and report them to the\n * subscribed handlers. Please note that TraceKit.report will rethrow the\n * exception. This is REQUIRED in order to get a useful stack trace in IE.\n * If the exception does not reach the top of the browser, you will only\n * get a stack trace from the point where TraceKit.report was called.\n *\n * Handlers receive a stackInfo object as described in the\n * TraceKit.computeStackTrace docs.\n */\nTraceKit.report = (function reportModuleWrapper() {\n  var handlers = [],\n    lastArgs = null,\n    lastException = null,\n    lastExceptionStack = null;\n\n  /**\n   * Add a crash handler.\n   * @param {Function} handler\n   */\n  function subscribe(handler) {\n    installGlobalHandler();\n    handlers.push(handler);\n  }\n\n  /**\n   * Remove a crash handler.\n   * @param {Function} handler\n   */\n  function unsubscribe(handler) {\n    for (var i = handlers.length - 1; i >= 0; --i) {\n      if (handlers[i] === handler) {\n        handlers.splice(i, 1);\n      }\n    }\n  }\n\n  /**\n   * Remove all crash handlers.\n   */\n  function unsubscribeAll() {\n    uninstallGlobalHandler();\n    handlers = [];\n  }\n\n  /**\n   * Dispatch stack information to all handlers.\n   * @param {Object.<string, *>} stack\n   */\n  function notifyHandlers(stack, isWindowError) {\n    var exception = null;\n    if (isWindowError && !TraceKit.collectWindowErrors) {\n      return;\n    }\n    for (var i in handlers) {\n      if (handlers.hasOwnProperty(i)) {\n        try {\n          handlers[i].apply(null, [stack].concat(_slice.call(arguments, 2)));\n        } catch (inner) {\n          exception = inner;\n        }\n      }\n    }\n\n    if (exception) {\n      throw exception;\n    }\n  }\n\n  var _oldOnerrorHandler, _onErrorHandlerInstalled;\n\n  /**\n   * Ensures all global unhandled exceptions are recorded.\n   * Supported by Gecko and IE.\n   * @param {string} message Error message.\n   * @param {string} url URL of script that generated the exception.\n   * @param {(number|string)} lineNo The line number at which the error\n   * occurred.\n   * @param {?(number|string)} colNo The column number at which the error\n   * occurred.\n   * @param {?Error} ex The actual Error object.\n   */\n  function traceKitWindowOnError(message, url, lineNo, colNo, ex) {\n    var stack = null;\n\n    if (lastExceptionStack) {\n      TraceKit.computeStackTrace.augmentStackTraceWithInitialElement(\n        lastExceptionStack,\n        url,\n        lineNo,\n        message\n      );\n      processLastException();\n    } else if (ex && utils.isError(ex)) {\n      // non-string `ex` arg; attempt to extract stack trace\n\n      // New chrome and blink send along a real error object\n      // Let's just report that like a normal error.\n      // See: https://mikewest.org/2013/08/debugging-runtime-errors-with-window-onerror\n      stack = TraceKit.computeStackTrace(ex);\n      notifyHandlers(stack, true);\n    } else {\n      var location = {\n        url: url,\n        line: lineNo,\n        column: colNo,\n      };\n\n      var name = undefined;\n      var msg = message; // must be new var or will modify original `arguments`\n      var groups;\n      if ({}.toString.call(message) === '[object String]') {\n        var groups = message.match(ERROR_TYPES_RE);\n        if (groups) {\n          name = groups[1];\n          msg = groups[2];\n        }\n      }\n\n      location.func = UNKNOWN_FUNCTION;\n\n      stack = {\n        name: name,\n        message: msg,\n        url: getLocationHref(),\n        stack: [location],\n      };\n      notifyHandlers(stack, true);\n    }\n\n    try {\n      if (_oldOnerrorHandler) {\n        return _oldOnerrorHandler.apply(this, arguments);\n      }\n    } catch (e) {\n      if (e.message && e.message.indexOf(/permission denied/) !== -1) {\n        // This can happen if this is being called inside an iframe which doesn't have access to the window onError handler.\n        // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Property_access_denied\n        // We can ignore this.\n      } else {\n        throw e;\n      }\n    }\n\n    return false;\n  }\n\n  function installGlobalHandler() {\n    if (_onErrorHandlerInstalled) {\n      return;\n    }\n    _oldOnerrorHandler = _window.onerror;\n    _window.onerror = traceKitWindowOnError;\n    _onErrorHandlerInstalled = true;\n  }\n\n  function uninstallGlobalHandler() {\n    if (!_onErrorHandlerInstalled) {\n      return;\n    }\n    _window.onerror = _oldOnerrorHandler;\n    _onErrorHandlerInstalled = false;\n    _oldOnerrorHandler = undefined;\n  }\n\n  function processLastException() {\n    var _lastExceptionStack = lastExceptionStack,\n      _lastArgs = lastArgs;\n    lastArgs = null;\n    lastExceptionStack = null;\n    lastException = null;\n    notifyHandlers.apply(null, [_lastExceptionStack, false].concat(_lastArgs));\n  }\n\n  /**\n   * Reports an unhandled Error to TraceKit.\n   * @param {Error} ex\n   * @param {?boolean} rethrow If false, do not re-throw the exception.\n   * Only used for window.onerror to not cause an infinite loop of\n   * rethrowing.\n   */\n  function report(ex, rethrow) {\n    var args = _slice.call(arguments, 1);\n    if (lastExceptionStack) {\n      if (lastException === ex) {\n        return; // already caught by an inner catch block, ignore\n      } else {\n        processLastException();\n      }\n    }\n\n    var stack = TraceKit.computeStackTrace(ex);\n    lastExceptionStack = stack;\n    lastException = ex;\n    lastArgs = args;\n\n    // If the stack trace is incomplete, wait for 2 seconds for\n    // slow slow IE to see if onerror occurs or not before reporting\n    // this exception; otherwise, we will end up with an incomplete\n    // stack trace\n    setTimeout(\n      function () {\n        if (lastException === ex) {\n          processLastException();\n        }\n      },\n      stack.incomplete ? 2000 : 0\n    );\n\n    if (rethrow !== false) {\n      throw ex; // re-throw to propagate to the top level (and cause window.onerror)\n    }\n  }\n\n  report.subscribe = subscribe;\n  report.unsubscribe = unsubscribe;\n  report.uninstall = unsubscribeAll;\n  return report;\n})();\n\n/**\n * TraceKit.computeStackTrace: cross-browser stack traces in JavaScript\n *\n * Syntax:\n *   s = TraceKit.computeStackTrace(exception) // consider using TraceKit.report instead (see below)\n * Returns:\n *   s.name              - exception name\n *   s.message           - exception message\n *   s.stack[i].url      - JavaScript or HTML file URL\n *   s.stack[i].func     - function name, or empty for anonymous functions (if guessing did not work)\n *   s.stack[i].args     - arguments passed to the function, if known\n *   s.stack[i].line     - line number, if known\n *   s.stack[i].column   - column number, if known\n *\n * Supports:\n *   - Firefox:  full stack trace with line numbers and unreliable column\n *               number on top frame\n *   - Opera 10: full stack trace with line and column numbers\n *   - Opera 9-: full stack trace with line numbers\n *   - Chrome:   full stack trace with line and column numbers\n *   - Safari:   line and column number for the topmost stacktrace element\n *               only\n *   - IE:       no line numbers whatsoever\n *\n * Tries to guess names of anonymous functions by looking for assignments\n * in the source code. In IE and Safari, we have to guess source file names\n * by searching for function bodies inside all page scripts. This will not\n * work for scripts that are loaded cross-domain.\n * Here be dragons: some function names may be guessed incorrectly, and\n * duplicate functions may be mismatched.\n *\n * TraceKit.computeStackTrace should only be used for tracing purposes.\n * Logging of unhandled exceptions should be done with TraceKit.report,\n * which builds on top of TraceKit.computeStackTrace and provides better\n * IE support by utilizing the window.onerror event to retrieve information\n * about the top of the stack.\n *\n * Note: In IE and Safari, no stack trace is recorded on the Error object,\n * so computeStackTrace instead walks its *own* chain of callers.\n * This means that:\n *  * in Safari, some methods may be missing from the stack trace;\n *  * in IE, the topmost function in the stack trace will always be the\n *    caller of computeStackTrace.\n *\n * This is okay for tracing (because you are likely to be calling\n * computeStackTrace from the function you want to be the topmost element\n * of the stack trace anyway), but not okay for logging unhandled\n * exceptions (because your catch block will likely be far away from the\n * inner function that actually caused the exception).\n *\n */\nTraceKit.computeStackTrace = (function computeStackTraceWrapper() {\n  // Contents of Exception in various browsers.\n  //\n  // SAFARI:\n  // ex.message = Can't find variable: qq\n  // ex.line = 59\n  // ex.sourceId = 580238192\n  // ex.sourceURL = http://...\n  // ex.expressionBeginOffset = 96\n  // ex.expressionCaretOffset = 98\n  // ex.expressionEndOffset = 98\n  // ex.name = ReferenceError\n  //\n  // FIREFOX:\n  // ex.message = qq is not defined\n  // ex.fileName = http://...\n  // ex.lineNumber = 59\n  // ex.columnNumber = 69\n  // ex.stack = ...stack trace... (see the example below)\n  // ex.name = ReferenceError\n  //\n  // CHROME:\n  // ex.message = qq is not defined\n  // ex.name = ReferenceError\n  // ex.type = not_defined\n  // ex.arguments = ['aa']\n  // ex.stack = ...stack trace...\n  //\n  // INTERNET EXPLORER:\n  // ex.message = ...\n  // ex.name = ReferenceError\n  //\n  // OPERA:\n  // ex.message = ...message... (see the example below)\n  // ex.name = ReferenceError\n  // ex.opera#sourceloc = 11  (pretty much useless, duplicates the info in ex.message)\n  // ex.stacktrace = n/a; see 'opera:config#UserPrefs|Exceptions Have Stacktrace'\n\n  /**\n   * Computes stack trace information from the stack property.\n   * Chrome and Gecko use this property.\n   * @param {Error} ex\n   * @return {?Object.<string, *>} Stack trace information.\n   */\n  function computeStackTraceFromStackProp(ex) {\n    if (typeof ex.stack === 'undefined' || !ex.stack) return;\n\n    var chrome =\n        /^\\s*at (.*?) ?\\(((?:file|https?|blob|chrome-extension|native|eval|webpack|bpm|<anonymous>|[a-z]:|\\/).*?)(?::(\\d+))?(?::(\\d+))?\\)?\\s*$/i,\n      gecko =\n        /^\\s*(.*?)(?:\\((.*?)\\))?(?:^|@)((?:file|https?|blob|chrome|webpack|bpm|resource|\\[native).*?|[^@]*bundle)(?::(\\d+))?(?::(\\d+))?\\s*$/i,\n      winjs =\n        /^\\s*at (?:((?:\\[object object\\])?.+) )?\\(?((?:file|ms-appx|https?|webpack|bpm|blob):.*?):(\\d+)(?::(\\d+))?\\)?\\s*$/i,\n      // Used to additionally parse URL/line/column from eval frames\n      geckoEval = /(\\S+) line (\\d+)(?: > eval line \\d+)* > eval/i,\n      chromeEval = /\\((\\S*)(?::(\\d+))(?::(\\d+))\\)/,\n      lines = ex.stack.split('\\n'),\n      stack = [],\n      submatch,\n      parts,\n      element,\n      reference = /^(.*) is undefined$/.exec(ex.message);\n\n    for (var i = 0, j = lines.length; i < j; ++i) {\n      if ((parts = chrome.exec(lines[i]))) {\n        var isNative = parts[2] && parts[2].indexOf('native') === 0; // start of line\n        var isEval = parts[2] && parts[2].indexOf('eval') === 0; // start of line\n        if (isEval && (submatch = chromeEval.exec(parts[2]))) {\n          // throw out eval line/column and use top-most line/column number\n          parts[2] = submatch[1]; // url\n          parts[3] = submatch[2]; // line\n          parts[4] = submatch[3]; // column\n        }\n        element = {\n          url: !isNative ? parts[2] : null,\n          func: parts[1] || UNKNOWN_FUNCTION,\n          args: isNative ? [parts[2]] : [],\n          line: parts[3] ? +parts[3] : null,\n          column: parts[4] ? +parts[4] : null,\n        };\n      } else if ((parts = winjs.exec(lines[i]))) {\n        element = {\n          url: parts[2],\n          func: parts[1] || UNKNOWN_FUNCTION,\n          args: [],\n          line: +parts[3],\n          column: parts[4] ? +parts[4] : null,\n        };\n      } else if ((parts = gecko.exec(lines[i]))) {\n        var isEval = parts[3] && parts[3].indexOf(' > eval') > -1;\n        if (isEval && (submatch = geckoEval.exec(parts[3]))) {\n          // throw out eval line/column and use top-most line number\n          parts[3] = submatch[1];\n          parts[4] = submatch[2];\n          parts[5] = null; // no column when eval\n        } else if (\n          i === 0 &&\n          !parts[5] &&\n          typeof ex.columnNumber !== 'undefined'\n        ) {\n          // FireFox uses this awesome columnNumber property for its top frame\n          // Also note, Firefox's column number is 0-based and everything else expects 1-based,\n          // so adding 1\n          // NOTE: this hack doesn't work if top-most frame is eval\n          stack[0].column = ex.columnNumber + 1;\n        }\n        element = {\n          url: parts[3],\n          func: parts[1] || UNKNOWN_FUNCTION,\n          args: parts[2] ? parts[2].split(',') : [],\n          line: parts[4] ? +parts[4] : null,\n          column: parts[5] ? +parts[5] : null,\n        };\n      } else {\n        continue;\n      }\n\n      if (!element.func && element.line) {\n        element.func = UNKNOWN_FUNCTION;\n      }\n\n      stack.push(element);\n    }\n\n    if (!stack.length) {\n      return null;\n    }\n\n    return {\n      name: ex.name,\n      message: ex.message,\n      url: getLocationHref(),\n      stack: stack,\n    };\n  }\n\n  /**\n   * Adds information about the first frame to incomplete stack traces.\n   * Safari and IE require this to get complete data on the first frame.\n   * @param {Object.<string, *>} stackInfo Stack trace information from\n   * one of the compute* methods.\n   * @param {string} url The URL of the script that caused an error.\n   * @param {(number|string)} lineNo The line number of the script that\n   * caused an error.\n   * @param {string=} message The error generated by the browser, which\n   * hopefully contains the name of the object that caused the error.\n   * @return {boolean} Whether or not the stack information was\n   * augmented.\n   */\n  function augmentStackTraceWithInitialElement(\n    stackInfo,\n    url,\n    lineNo,\n    message\n  ) {\n    var initial = {\n      url: url,\n      line: lineNo,\n    };\n\n    if (initial.url && initial.line) {\n      stackInfo.incomplete = false;\n\n      if (!initial.func) {\n        initial.func = UNKNOWN_FUNCTION;\n      }\n\n      if (stackInfo.stack.length > 0) {\n        if (stackInfo.stack[0].url === initial.url) {\n          if (stackInfo.stack[0].line === initial.line) {\n            return false; // already in stack trace\n          } else if (\n            !stackInfo.stack[0].line &&\n            stackInfo.stack[0].func === initial.func\n          ) {\n            stackInfo.stack[0].line = initial.line;\n            return false;\n          }\n        }\n      }\n\n      stackInfo.stack.unshift(initial);\n      stackInfo.partial = true;\n      return true;\n    } else {\n      stackInfo.incomplete = true;\n    }\n\n    return false;\n  }\n\n  /**\n   * Computes stack trace information by walking the arguments.caller\n   * chain at the time the exception occurred. This will cause earlier\n   * frames to be missed but is the only way to get any stack trace in\n   * Safari and IE. The top frame is restored by\n   * {@link augmentStackTraceWithInitialElement}.\n   * @param {Error} ex\n   * @return {?Object.<string, *>} Stack trace information.\n   */\n  function computeStackTraceByWalkingCallerChain(ex, depth) {\n    var functionName =\n        /function\\s+([_$a-zA-Z\\xA0-\\uFFFF][_$a-zA-Z0-9\\xA0-\\uFFFF]*)?\\s*\\(/i,\n      stack = [],\n      funcs = {},\n      recursion = false,\n      parts,\n      item,\n      source;\n\n    for (\n      var curr = computeStackTraceByWalkingCallerChain.caller;\n      curr && !recursion;\n      curr = curr.caller\n    ) {\n      if (curr === computeStackTrace || curr === TraceKit.report) {\n        // console.log('skipping internal function');\n        continue;\n      }\n\n      item = {\n        url: null,\n        func: UNKNOWN_FUNCTION,\n        line: null,\n        column: null,\n      };\n\n      if (curr.name) {\n        item.func = curr.name;\n      } else if ((parts = functionName.exec(curr.toString()))) {\n        item.func = parts[1];\n      }\n\n      if (typeof item.func === 'undefined') {\n        try {\n          item.func = parts.input.substring(0, parts.input.indexOf('{'));\n        } catch (e) {}\n      }\n\n      if (funcs['' + curr]) {\n        recursion = true;\n      } else {\n        funcs['' + curr] = true;\n      }\n\n      stack.push(item);\n    }\n\n    if (depth) {\n      // console.log('depth is ' + depth);\n      // console.log('stack is ' + stack.length);\n      stack.splice(0, depth);\n    }\n\n    var result = {\n      name: ex.name,\n      message: ex.message,\n      url: getLocationHref(),\n      stack: stack,\n    };\n    augmentStackTraceWithInitialElement(\n      result,\n      ex.sourceURL || ex.fileName,\n      ex.line || ex.lineNumber,\n      ex.message || ex.description\n    );\n    return result;\n  }\n\n  /**\n   * Computes a stack trace for an exception.\n   * @param {Error} ex\n   * @param {(string|number)=} depth\n   */\n  function computeStackTrace(ex, depth) {\n    var stack = null;\n    depth = depth == null ? 0 : +depth;\n\n    try {\n      stack = computeStackTraceFromStackProp(ex);\n      if (stack) {\n        return stack;\n      }\n    } catch (e) {\n      if (TraceKit.debug) {\n        throw e;\n      }\n    }\n\n    try {\n      stack = computeStackTraceByWalkingCallerChain(ex, depth + 1);\n      if (stack) {\n        return stack;\n      }\n    } catch (e) {\n      if (TraceKit.debug) {\n        throw e;\n      }\n    }\n    return {\n      name: ex.name,\n      message: ex.message,\n      url: getLocationHref(),\n    };\n  }\n\n  computeStackTrace.augmentStackTraceWithInitialElement =\n    augmentStackTraceWithInitialElement;\n  computeStackTrace.computeStackTraceFromStackProp =\n    computeStackTraceFromStackProp;\n\n  return computeStackTrace;\n})();\n\nmodule.exports = TraceKit;\n","/*\n json-stringify-safe\n Like JSON.stringify, but doesn't throw on circular references.\n\n Originally forked from https://github.com/isaacs/json-stringify-safe\n version 5.0.1 on 3/8/2017 and modified to handle Errors serialization\n and IE8 compatibility. Tests for this are in test/vendor.\n\n ISC license: https://github.com/isaacs/json-stringify-safe/blob/master/LICENSE\n*/\n\nexports = module.exports = stringify;\nexports.getSerialize = serializer;\n\nfunction indexOf(haystack, needle) {\n  for (var i = 0; i < haystack.length; ++i) {\n    if (haystack[i] === needle) return i;\n  }\n  return -1;\n}\n\nfunction stringify(obj, replacer, spaces, cycleReplacer) {\n  return JSON.stringify(obj, serializer(replacer, cycleReplacer), spaces);\n}\n\n// https://github.com/ftlabs/js-abbreviate/blob/fa709e5f139e7770a71827b1893f22418097fbda/index.js#L95-L106\nfunction stringifyError(value) {\n  var err = {\n    // These properties are implemented as magical getters and don't show up in for in\n    stack: value.stack,\n    message: value.message,\n    name: value.name,\n  };\n\n  for (var i in value) {\n    if (Object.prototype.hasOwnProperty.call(value, i)) {\n      err[i] = value[i];\n    }\n  }\n\n  return err;\n}\n\nfunction serializer(replacer, cycleReplacer) {\n  var stack = [];\n  var keys = [];\n\n  if (cycleReplacer == null) {\n    cycleReplacer = function (key, value) {\n      if (stack[0] === value) {\n        return '[Circular ~]';\n      }\n      return (\n        '[Circular ~.' + keys.slice(0, indexOf(stack, value)).join('.') + ']'\n      );\n    };\n  }\n\n  return function (key, value) {\n    if (stack.length > 0) {\n      var thisPos = indexOf(stack, this);\n      ~thisPos ? stack.splice(thisPos + 1) : stack.push(this);\n      ~thisPos ? keys.splice(thisPos, Infinity, key) : keys.push(key);\n\n      if (~indexOf(stack, value)) {\n        value = cycleReplacer.call(this, key, value);\n      }\n    } else {\n      stack.push(value);\n    }\n\n    return replacer == null\n      ? value instanceof Error\n        ? stringifyError(value)\n        : value\n      : replacer.call(this, key, value);\n  };\n}\n","function RavenConfigError(message) {\n  this.name = 'RavenConfigError';\n  this.message = message;\n}\nRavenConfigError.prototype = new Error();\nRavenConfigError.prototype.constructor = RavenConfigError;\n\nmodule.exports = RavenConfigError;\n","/**\n * The server-timing header is a string which represents a map that looks like this:\n * \"cache;desc=\"Cache Read\";dur=23.2, hcid;desc=\"445b7839-9a35-4c18-ba6e-4251e0b20c96\"\"\n *\n * hcid is the correlation id we are interested in.\n */\nexport function getCorrelationIdFromServerTiming(serverTiming: string) {\n  const hcidEntry = serverTiming.split(',').find((entry) => {\n    return entry.trim().startsWith('hcid;');\n  });\n\n  if (!hcidEntry) {\n    return null;\n  }\n\n  const valueEntry = hcidEntry.split(';').find((entry) => {\n    return entry.trim().startsWith('desc=');\n  });\n\n  if (!valueEntry) {\n    return null;\n  }\n\n  const value = valueEntry.split('=')[1]?.trim();\n\n  if (!value) {\n    return null;\n  }\n\n  if (value.startsWith('\"') && value.endsWith('\"')) {\n    return JSON.parse(value);\n  }\n\n  return value;\n}\n\n/**\n * Instead of using xhr.getResponseHeader, we need to use xhr.getAllResponseHeaders\n * to avoid the warning message some browsers report to the console when the header\n * is blocked by CORS.\n */\nexport function getCorrelationIdFromXHR(xhr: XMLHttpRequest) {\n  const allHeaders = xhr.getAllResponseHeaders().split('\\r\\n');\n\n  // First try to get correlation ID from X-HubSpot-Correlation-Id header\n  const xHubspotCorrelationIdHeader = allHeaders.find((header) => {\n    return header.toLowerCase().startsWith('x-hubspot-correlation-id');\n  });\n\n  if (xHubspotCorrelationIdHeader) {\n    const correlationId = xHubspotCorrelationIdHeader\n      .slice('x-hubspot-correlation-id: '.length)\n      .trim();\n    if (correlationId) {\n      return correlationId;\n    }\n  }\n\n  // Fallback to Server-Timing header for backward compatibility\n  const serverTimingHeader = allHeaders.find((header) => {\n    return header.toLowerCase().startsWith('server-timing');\n  });\n\n  if (!serverTimingHeader) {\n    return null;\n  }\n\n  return getCorrelationIdFromServerTiming(\n    serverTimingHeader.slice('Server-Timing: '.length)\n  );\n}\n\n/**\n * Similar to getCorrelationIdFromXHR, but for fetch responses.\n */\nexport function getCorrelationIdFromResponse(response: Response) {\n  // First try to get correlation ID from X-HubSpot-Correlation-Id header\n  const xHubspotCorrelationId = response.headers.get(\n    'x-hubspot-correlation-id'\n  );\n  if (xHubspotCorrelationId) {\n    return xHubspotCorrelationId;\n  }\n\n  // Fallback to Server-Timing header for backward compatibility\n  const serverTimingHeader = [...response.headers.entries()].find(\n    ([key]) => key.toLowerCase() === 'server-timing'\n  )?.[1];\n\n  if (!serverTimingHeader) {\n    return null;\n  }\n\n  return getCorrelationIdFromServerTiming(serverTimingHeader);\n}\n","var wrapMethod = function (console, level, callback) {\n  var originalConsoleLevel = console[level];\n  var originalConsole = console;\n\n  if (!(level in console)) {\n    return;\n  }\n\n  var sentryLevel = level === 'warn' ? 'warning' : level;\n\n  console[level] = function () {\n    var args = [].slice.call(arguments);\n\n    var msg = '' + args.join(' ');\n    var data = {\n      level: sentryLevel,\n      logger: 'console',\n      extra: { arguments: args },\n    };\n\n    if (level === 'assert') {\n      if (args[0] === false) {\n        // Default browsers message\n        msg =\n          'Assertion failed: ' + (args.slice(1).join(' ') || 'console.assert');\n        data.extra.arguments = args.slice(1);\n        callback && callback(msg, data);\n      }\n    } else {\n      callback && callback(msg, data);\n    }\n\n    // this fails for some browsers. :(\n    if (originalConsoleLevel) {\n      // IE9 doesn't allow calling apply on console functions directly\n      // See: https://stackoverflow.com/questions/5472938/does-ie9-support-console-log-and-is-it-a-real-function#answer-5473193\n      Function.prototype.apply.call(\n        originalConsoleLevel,\n        originalConsole,\n        args\n      );\n    }\n  };\n};\n\nmodule.exports = {\n  wrapMethod: wrapMethod,\n};\n","/**\n *  Copyright (c) 2014-2015, Facebook, Inc.\n *  All rights reserved.\n *\n *  This source code is licensed under the BSD-style license found in the\n *  LICENSE file in the root directory of this source tree. An additional grant\n *  of patent rights can be found in the PATENTS file in the same directory.\n */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global.Immutable = factory());\n}(this, function () { 'use strict';var SLICE$0 = Array.prototype.slice;\n\n  function createClass(ctor, superClass) {\n    if (superClass) {\n      ctor.prototype = Object.create(superClass.prototype);\n    }\n    ctor.prototype.constructor = ctor;\n  }\n\n  function Iterable(value) {\n      return isIterable(value) ? value : Seq(value);\n    }\n\n\n  createClass(KeyedIterable, Iterable);\n    function KeyedIterable(value) {\n      return isKeyed(value) ? value : KeyedSeq(value);\n    }\n\n\n  createClass(IndexedIterable, Iterable);\n    function IndexedIterable(value) {\n      return isIndexed(value) ? value : IndexedSeq(value);\n    }\n\n\n  createClass(SetIterable, Iterable);\n    function SetIterable(value) {\n      return isIterable(value) && !isAssociative(value) ? value : SetSeq(value);\n    }\n\n\n\n  function isIterable(maybeIterable) {\n    return !!(maybeIterable && maybeIterable[IS_ITERABLE_SENTINEL]);\n  }\n\n  function isKeyed(maybeKeyed) {\n    return !!(maybeKeyed && maybeKeyed[IS_KEYED_SENTINEL]);\n  }\n\n  function isIndexed(maybeIndexed) {\n    return !!(maybeIndexed && maybeIndexed[IS_INDEXED_SENTINEL]);\n  }\n\n  function isAssociative(maybeAssociative) {\n    return isKeyed(maybeAssociative) || isIndexed(maybeAssociative);\n  }\n\n  function isOrdered(maybeOrdered) {\n    return !!(maybeOrdered && maybeOrdered[IS_ORDERED_SENTINEL]);\n  }\n\n  Iterable.isIterable = isIterable;\n  Iterable.isKeyed = isKeyed;\n  Iterable.isIndexed = isIndexed;\n  Iterable.isAssociative = isAssociative;\n  Iterable.isOrdered = isOrdered;\n\n  Iterable.Keyed = KeyedIterable;\n  Iterable.Indexed = IndexedIterable;\n  Iterable.Set = SetIterable;\n\n\n  var IS_ITERABLE_SENTINEL = '@@__IMMUTABLE_ITERABLE__@@';\n  var IS_KEYED_SENTINEL = '@@__IMMUTABLE_KEYED__@@';\n  var IS_INDEXED_SENTINEL = '@@__IMMUTABLE_INDEXED__@@';\n  var IS_ORDERED_SENTINEL = '@@__IMMUTABLE_ORDERED__@@';\n\n  // Used for setting prototype methods that IE8 chokes on.\n  var DELETE = 'delete';\n\n  // Constants describing the size of trie nodes.\n  var SHIFT = 5; // Resulted in best performance after ______?\n  var SIZE = 1 << SHIFT;\n  var MASK = SIZE - 1;\n\n  // A consistent shared value representing \"not set\" which equals nothing other\n  // than itself, and nothing that could be provided externally.\n  var NOT_SET = {};\n\n  // Boolean references, Rough equivalent of `bool &`.\n  var CHANGE_LENGTH = { value: false };\n  var DID_ALTER = { value: false };\n\n  function MakeRef(ref) {\n    ref.value = false;\n    return ref;\n  }\n\n  function SetRef(ref) {\n    ref && (ref.value = true);\n  }\n\n  // A function which returns a value representing an \"owner\" for transient writes\n  // to tries. The return value will only ever equal itself, and will not equal\n  // the return of any subsequent call of this function.\n  function OwnerID() {}\n\n  // http://jsperf.com/copy-array-inline\n  function arrCopy(arr, offset) {\n    offset = offset || 0;\n    var len = Math.max(0, arr.length - offset);\n    var newArr = new Array(len);\n    for (var ii = 0; ii < len; ii++) {\n      newArr[ii] = arr[ii + offset];\n    }\n    return newArr;\n  }\n\n  function ensureSize(iter) {\n    if (iter.size === undefined) {\n      iter.size = iter.__iterate(returnTrue);\n    }\n    return iter.size;\n  }\n\n  function wrapIndex(iter, index) {\n    // This implements \"is array index\" which the ECMAString spec defines as:\n    //\n    //     A String property name P is an array index if and only if\n    //     ToString(ToUint32(P)) is equal to P and ToUint32(P) is not equal\n    //     to 2^321.\n    //\n    // http://www.ecma-international.org/ecma-262/6.0/#sec-array-exotic-objects\n    if (typeof index !== 'number') {\n      var uint32Index = index >>> 0; // N >>> 0 is shorthand for ToUint32\n      if ('' + uint32Index !== index || uint32Index === 4294967295) {\n        return NaN;\n      }\n      index = uint32Index;\n    }\n    return index < 0 ? ensureSize(iter) + index : index;\n  }\n\n  function returnTrue() {\n    return true;\n  }\n\n  function wholeSlice(begin, end, size) {\n    return (begin === 0 || (size !== undefined && begin <= -size)) &&\n      (end === undefined || (size !== undefined && end >= size));\n  }\n\n  function resolveBegin(begin, size) {\n    return resolveIndex(begin, size, 0);\n  }\n\n  function resolveEnd(end, size) {\n    return resolveIndex(end, size, size);\n  }\n\n  function resolveIndex(index, size, defaultIndex) {\n    return index === undefined ?\n      defaultIndex :\n      index < 0 ?\n        Math.max(0, size + index) :\n        size === undefined ?\n          index :\n          Math.min(size, index);\n  }\n\n  /* global Symbol */\n\n  var ITERATE_KEYS = 0;\n  var ITERATE_VALUES = 1;\n  var ITERATE_ENTRIES = 2;\n\n  var REAL_ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n  var FAUX_ITERATOR_SYMBOL = '@@iterator';\n\n  var ITERATOR_SYMBOL = REAL_ITERATOR_SYMBOL || FAUX_ITERATOR_SYMBOL;\n\n\n  function Iterator(next) {\n      this.next = next;\n    }\n\n    Iterator.prototype.toString = function() {\n      return '[Iterator]';\n    };\n\n\n  Iterator.KEYS = ITERATE_KEYS;\n  Iterator.VALUES = ITERATE_VALUES;\n  Iterator.ENTRIES = ITERATE_ENTRIES;\n\n  Iterator.prototype.inspect =\n  Iterator.prototype.toSource = function () { return this.toString(); }\n  Iterator.prototype[ITERATOR_SYMBOL] = function () {\n    return this;\n  };\n\n\n  function iteratorValue(type, k, v, iteratorResult) {\n    var value = type === 0 ? k : type === 1 ? v : [k, v];\n    iteratorResult ? (iteratorResult.value = value) : (iteratorResult = {\n      value: value, done: false\n    });\n    return iteratorResult;\n  }\n\n  function iteratorDone() {\n    return { value: undefined, done: true };\n  }\n\n  function hasIterator(maybeIterable) {\n    return !!getIteratorFn(maybeIterable);\n  }\n\n  function isIterator(maybeIterator) {\n    return maybeIterator && typeof maybeIterator.next === 'function';\n  }\n\n  function getIterator(iterable) {\n    var iteratorFn = getIteratorFn(iterable);\n    return iteratorFn && iteratorFn.call(iterable);\n  }\n\n  function getIteratorFn(iterable) {\n    var iteratorFn = iterable && (\n      (REAL_ITERATOR_SYMBOL && iterable[REAL_ITERATOR_SYMBOL]) ||\n      iterable[FAUX_ITERATOR_SYMBOL]\n    );\n    if (typeof iteratorFn === 'function') {\n      return iteratorFn;\n    }\n  }\n\n  function isArrayLike(value) {\n    return value && typeof value.length === 'number';\n  }\n\n  createClass(Seq, Iterable);\n    function Seq(value) {\n      return value === null || value === undefined ? emptySequence() :\n        isIterable(value) ? value.toSeq() : seqFromValue(value);\n    }\n\n    Seq.of = function(/*...values*/) {\n      return Seq(arguments);\n    };\n\n    Seq.prototype.toSeq = function() {\n      return this;\n    };\n\n    Seq.prototype.toString = function() {\n      return this.__toString('Seq {', '}');\n    };\n\n    Seq.prototype.cacheResult = function() {\n      if (!this._cache && this.__iterateUncached) {\n        this._cache = this.entrySeq().toArray();\n        this.size = this._cache.length;\n      }\n      return this;\n    };\n\n    // abstract __iterateUncached(fn, reverse)\n\n    Seq.prototype.__iterate = function(fn, reverse) {\n      return seqIterate(this, fn, reverse, true);\n    };\n\n    // abstract __iteratorUncached(type, reverse)\n\n    Seq.prototype.__iterator = function(type, reverse) {\n      return seqIterator(this, type, reverse, true);\n    };\n\n\n\n  createClass(KeyedSeq, Seq);\n    function KeyedSeq(value) {\n      return value === null || value === undefined ?\n        emptySequence().toKeyedSeq() :\n        isIterable(value) ?\n          (isKeyed(value) ? value.toSeq() : value.fromEntrySeq()) :\n          keyedSeqFromValue(value);\n    }\n\n    KeyedSeq.prototype.toKeyedSeq = function() {\n      return this;\n    };\n\n\n\n  createClass(IndexedSeq, Seq);\n    function IndexedSeq(value) {\n      return value === null || value === undefined ? emptySequence() :\n        !isIterable(value) ? indexedSeqFromValue(value) :\n        isKeyed(value) ? value.entrySeq() : value.toIndexedSeq();\n    }\n\n    IndexedSeq.of = function(/*...values*/) {\n      return IndexedSeq(arguments);\n    };\n\n    IndexedSeq.prototype.toIndexedSeq = function() {\n      return this;\n    };\n\n    IndexedSeq.prototype.toString = function() {\n      return this.__toString('Seq [', ']');\n    };\n\n    IndexedSeq.prototype.__iterate = function(fn, reverse) {\n      return seqIterate(this, fn, reverse, false);\n    };\n\n    IndexedSeq.prototype.__iterator = function(type, reverse) {\n      return seqIterator(this, type, reverse, false);\n    };\n\n\n\n  createClass(SetSeq, Seq);\n    function SetSeq(value) {\n      return (\n        value === null || value === undefined ? emptySequence() :\n        !isIterable(value) ? indexedSeqFromValue(value) :\n        isKeyed(value) ? value.entrySeq() : value\n      ).toSetSeq();\n    }\n\n    SetSeq.of = function(/*...values*/) {\n      return SetSeq(arguments);\n    };\n\n    SetSeq.prototype.toSetSeq = function() {\n      return this;\n    };\n\n\n\n  Seq.isSeq = isSeq;\n  Seq.Keyed = KeyedSeq;\n  Seq.Set = SetSeq;\n  Seq.Indexed = IndexedSeq;\n\n  var IS_SEQ_SENTINEL = '@@__IMMUTABLE_SEQ__@@';\n\n  Seq.prototype[IS_SEQ_SENTINEL] = true;\n\n\n\n  createClass(ArraySeq, IndexedSeq);\n    function ArraySeq(array) {\n      this._array = array;\n      this.size = array.length;\n    }\n\n    ArraySeq.prototype.get = function(index, notSetValue) {\n      return this.has(index) ? this._array[wrapIndex(this, index)] : notSetValue;\n    };\n\n    ArraySeq.prototype.__iterate = function(fn, reverse) {\n      var array = this._array;\n      var maxIndex = array.length - 1;\n      for (var ii = 0; ii <= maxIndex; ii++) {\n        if (fn(array[reverse ? maxIndex - ii : ii], ii, this) === false) {\n          return ii + 1;\n        }\n      }\n      return ii;\n    };\n\n    ArraySeq.prototype.__iterator = function(type, reverse) {\n      var array = this._array;\n      var maxIndex = array.length - 1;\n      var ii = 0;\n      return new Iterator(function() \n        {return ii > maxIndex ?\n          iteratorDone() :\n          iteratorValue(type, ii, array[reverse ? maxIndex - ii++ : ii++])}\n      );\n    };\n\n\n\n  createClass(ObjectSeq, KeyedSeq);\n    function ObjectSeq(object) {\n      var keys = Object.keys(object);\n      this._object = object;\n      this._keys = keys;\n      this.size = keys.length;\n    }\n\n    ObjectSeq.prototype.get = function(key, notSetValue) {\n      if (notSetValue !== undefined && !this.has(key)) {\n        return notSetValue;\n      }\n      return this._object[key];\n    };\n\n    ObjectSeq.prototype.has = function(key) {\n      return this._object.hasOwnProperty(key);\n    };\n\n    ObjectSeq.prototype.__iterate = function(fn, reverse) {\n      var object = this._object;\n      var keys = this._keys;\n      var maxIndex = keys.length - 1;\n      for (var ii = 0; ii <= maxIndex; ii++) {\n        var key = keys[reverse ? maxIndex - ii : ii];\n        if (fn(object[key], key, this) === false) {\n          return ii + 1;\n        }\n      }\n      return ii;\n    };\n\n    ObjectSeq.prototype.__iterator = function(type, reverse) {\n      var object = this._object;\n      var keys = this._keys;\n      var maxIndex = keys.length - 1;\n      var ii = 0;\n      return new Iterator(function()  {\n        var key = keys[reverse ? maxIndex - ii : ii];\n        return ii++ > maxIndex ?\n          iteratorDone() :\n          iteratorValue(type, key, object[key]);\n      });\n    };\n\n  ObjectSeq.prototype[IS_ORDERED_SENTINEL] = true;\n\n\n  createClass(IterableSeq, IndexedSeq);\n    function IterableSeq(iterable) {\n      this._iterable = iterable;\n      this.size = iterable.length || iterable.size;\n    }\n\n    IterableSeq.prototype.__iterateUncached = function(fn, reverse) {\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var iterable = this._iterable;\n      var iterator = getIterator(iterable);\n      var iterations = 0;\n      if (isIterator(iterator)) {\n        var step;\n        while (!(step = iterator.next()).done) {\n          if (fn(step.value, iterations++, this) === false) {\n            break;\n          }\n        }\n      }\n      return iterations;\n    };\n\n    IterableSeq.prototype.__iteratorUncached = function(type, reverse) {\n      if (reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      var iterable = this._iterable;\n      var iterator = getIterator(iterable);\n      if (!isIterator(iterator)) {\n        return new Iterator(iteratorDone);\n      }\n      var iterations = 0;\n      return new Iterator(function()  {\n        var step = iterator.next();\n        return step.done ? step : iteratorValue(type, iterations++, step.value);\n      });\n    };\n\n\n\n  createClass(IteratorSeq, IndexedSeq);\n    function IteratorSeq(iterator) {\n      this._iterator = iterator;\n      this._iteratorCache = [];\n    }\n\n    IteratorSeq.prototype.__iterateUncached = function(fn, reverse) {\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var iterator = this._iterator;\n      var cache = this._iteratorCache;\n      var iterations = 0;\n      while (iterations < cache.length) {\n        if (fn(cache[iterations], iterations++, this) === false) {\n          return iterations;\n        }\n      }\n      var step;\n      while (!(step = iterator.next()).done) {\n        var val = step.value;\n        cache[iterations] = val;\n        if (fn(val, iterations++, this) === false) {\n          break;\n        }\n      }\n      return iterations;\n    };\n\n    IteratorSeq.prototype.__iteratorUncached = function(type, reverse) {\n      if (reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      var iterator = this._iterator;\n      var cache = this._iteratorCache;\n      var iterations = 0;\n      return new Iterator(function()  {\n        if (iterations >= cache.length) {\n          var step = iterator.next();\n          if (step.done) {\n            return step;\n          }\n          cache[iterations] = step.value;\n        }\n        return iteratorValue(type, iterations, cache[iterations++]);\n      });\n    };\n\n\n\n\n  // # pragma Helper functions\n\n  function isSeq(maybeSeq) {\n    return !!(maybeSeq && maybeSeq[IS_SEQ_SENTINEL]);\n  }\n\n  var EMPTY_SEQ;\n\n  function emptySequence() {\n    return EMPTY_SEQ || (EMPTY_SEQ = new ArraySeq([]));\n  }\n\n  function keyedSeqFromValue(value) {\n    var seq =\n      Array.isArray(value) ? new ArraySeq(value).fromEntrySeq() :\n      isIterator(value) ? new IteratorSeq(value).fromEntrySeq() :\n      hasIterator(value) ? new IterableSeq(value).fromEntrySeq() :\n      typeof value === 'object' ? new ObjectSeq(value) :\n      undefined;\n    if (!seq) {\n      throw new TypeError(\n        'Expected Array or iterable object of [k, v] entries, '+\n        'or keyed object: ' + value\n      );\n    }\n    return seq;\n  }\n\n  function indexedSeqFromValue(value) {\n    var seq = maybeIndexedSeqFromValue(value);\n    if (!seq) {\n      throw new TypeError(\n        'Expected Array or iterable object of values: ' + value\n      );\n    }\n    return seq;\n  }\n\n  function seqFromValue(value) {\n    var seq = maybeIndexedSeqFromValue(value) ||\n      (typeof value === 'object' && new ObjectSeq(value));\n    if (!seq) {\n      throw new TypeError(\n        'Expected Array or iterable object of values, or keyed object: ' + value\n      );\n    }\n    return seq;\n  }\n\n  function maybeIndexedSeqFromValue(value) {\n    return (\n      isArrayLike(value) ? new ArraySeq(value) :\n      isIterator(value) ? new IteratorSeq(value) :\n      hasIterator(value) ? new IterableSeq(value) :\n      undefined\n    );\n  }\n\n  function seqIterate(seq, fn, reverse, useKeys) {\n    var cache = seq._cache;\n    if (cache) {\n      var maxIndex = cache.length - 1;\n      for (var ii = 0; ii <= maxIndex; ii++) {\n        var entry = cache[reverse ? maxIndex - ii : ii];\n        if (fn(entry[1], useKeys ? entry[0] : ii, seq) === false) {\n          return ii + 1;\n        }\n      }\n      return ii;\n    }\n    return seq.__iterateUncached(fn, reverse);\n  }\n\n  function seqIterator(seq, type, reverse, useKeys) {\n    var cache = seq._cache;\n    if (cache) {\n      var maxIndex = cache.length - 1;\n      var ii = 0;\n      return new Iterator(function()  {\n        var entry = cache[reverse ? maxIndex - ii : ii];\n        return ii++ > maxIndex ?\n          iteratorDone() :\n          iteratorValue(type, useKeys ? entry[0] : ii - 1, entry[1]);\n      });\n    }\n    return seq.__iteratorUncached(type, reverse);\n  }\n\n  function fromJS(json, converter) {\n    return converter ?\n      fromJSWith(converter, json, '', {'': json}) :\n      fromJSDefault(json);\n  }\n\n  function fromJSWith(converter, json, key, parentJSON) {\n    if (Array.isArray(json)) {\n      return converter.call(parentJSON, key, IndexedSeq(json).map(function(v, k)  {return fromJSWith(converter, v, k, json)}));\n    }\n    if (isPlainObj(json)) {\n      return converter.call(parentJSON, key, KeyedSeq(json).map(function(v, k)  {return fromJSWith(converter, v, k, json)}));\n    }\n    return json;\n  }\n\n  function fromJSDefault(json) {\n    if (Array.isArray(json)) {\n      return IndexedSeq(json).map(fromJSDefault).toList();\n    }\n    if (isPlainObj(json)) {\n      return KeyedSeq(json).map(fromJSDefault).toMap();\n    }\n    return json;\n  }\n\n  // Applied fix for JIRA CRM-18007: https://github.com/immutable-js/immutable-js/commit/5767783cc9c802ada88cfc0749cb7e652c839093\n  function isPlainObj(value) {\n    return (\n      value &&\n      (typeof value.constructor !== 'function' ||\n        value.constructor.name === 'Object')\n    );\n  }\n\n  /**\n   * An extension of the \"same-value\" algorithm as [described for use by ES6 Map\n   * and Set](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map#Key_equality)\n   *\n   * NaN is considered the same as NaN, however -0 and 0 are considered the same\n   * value, which is different from the algorithm described by\n   * [`Object.is`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is).\n   *\n   * This is extended further to allow Objects to describe the values they\n   * represent, by way of `valueOf` or `equals` (and `hashCode`).\n   *\n   * Note: because of this extension, the key equality of Immutable.Map and the\n   * value equality of Immutable.Set will differ from ES6 Map and Set.\n   *\n   * ### Defining custom values\n   *\n   * The easiest way to describe the value an object represents is by implementing\n   * `valueOf`. For example, `Date` represents a value by returning a unix\n   * timestamp for `valueOf`:\n   *\n   *     var date1 = new Date(1234567890000); // Fri Feb 13 2009 ...\n   *     var date2 = new Date(1234567890000);\n   *     date1.valueOf(); // 1234567890000\n   *     assert( date1 !== date2 );\n   *     assert( Immutable.is( date1, date2 ) );\n   *\n   * Note: overriding `valueOf` may have other implications if you use this object\n   * where JavaScript expects a primitive, such as implicit string coercion.\n   *\n   * For more complex types, especially collections, implementing `valueOf` may\n   * not be performant. An alternative is to implement `equals` and `hashCode`.\n   *\n   * `equals` takes another object, presumably of similar type, and returns true\n   * if the it is equal. Equality is symmetrical, so the same result should be\n   * returned if this and the argument are flipped.\n   *\n   *     assert( a.equals(b) === b.equals(a) );\n   *\n   * `hashCode` returns a 32bit integer number representing the object which will\n   * be used to determine how to store the value object in a Map or Set. You must\n   * provide both or neither methods, one must not exist without the other.\n   *\n   * Also, an important relationship between these methods must be upheld: if two\n   * values are equal, they *must* return the same hashCode. If the values are not\n   * equal, they might have the same hashCode; this is called a hash collision,\n   * and while undesirable for performance reasons, it is acceptable.\n   *\n   *     if (a.equals(b)) {\n   *       assert( a.hashCode() === b.hashCode() );\n   *     }\n   *\n   * All Immutable collections implement `equals` and `hashCode`.\n   *\n   */\n  function is(valueA, valueB) {\n    if (valueA === valueB || (valueA !== valueA && valueB !== valueB)) {\n      return true;\n    }\n    if (!valueA || !valueB) {\n      return false;\n    }\n    if (typeof valueA.valueOf === 'function' &&\n        typeof valueB.valueOf === 'function') {\n      valueA = valueA.valueOf();\n      valueB = valueB.valueOf();\n      if (valueA === valueB || (valueA !== valueA && valueB !== valueB)) {\n        return true;\n      }\n      if (!valueA || !valueB) {\n        return false;\n      }\n    }\n    if (typeof valueA.equals === 'function' &&\n        typeof valueB.equals === 'function' &&\n        valueA.equals(valueB)) {\n      return true;\n    }\n    return false;\n  }\n\n  function deepEqual(a, b) {\n    if (a === b) {\n      return true;\n    }\n\n    if (\n      !isIterable(b) ||\n      a.size !== undefined && b.size !== undefined && a.size !== b.size ||\n      a.__hash !== undefined && b.__hash !== undefined && a.__hash !== b.__hash ||\n      isKeyed(a) !== isKeyed(b) ||\n      isIndexed(a) !== isIndexed(b) ||\n      isOrdered(a) !== isOrdered(b)\n    ) {\n      return false;\n    }\n\n    if (a.size === 0 && b.size === 0) {\n      return true;\n    }\n\n    var notAssociative = !isAssociative(a);\n\n    if (isOrdered(a)) {\n      var entries = a.entries();\n      return b.every(function(v, k)  {\n        var entry = entries.next().value;\n        return entry && is(entry[1], v) && (notAssociative || is(entry[0], k));\n      }) && entries.next().done;\n    }\n\n    var flipped = false;\n\n    if (a.size === undefined) {\n      if (b.size === undefined) {\n        if (typeof a.cacheResult === 'function') {\n          a.cacheResult();\n        }\n      } else {\n        flipped = true;\n        var _ = a;\n        a = b;\n        b = _;\n      }\n    }\n\n    var allEqual = true;\n    var bSize = b.__iterate(function(v, k)  {\n      if (notAssociative ? !a.has(v) :\n          flipped ? !is(v, a.get(k, NOT_SET)) : !is(a.get(k, NOT_SET), v)) {\n        allEqual = false;\n        return false;\n      }\n    });\n\n    return allEqual && a.size === bSize;\n  }\n\n  createClass(Repeat, IndexedSeq);\n\n    function Repeat(value, times) {\n      if (!(this instanceof Repeat)) {\n        return new Repeat(value, times);\n      }\n      this._value = value;\n      this.size = times === undefined ? Infinity : Math.max(0, times);\n      if (this.size === 0) {\n        if (EMPTY_REPEAT) {\n          return EMPTY_REPEAT;\n        }\n        EMPTY_REPEAT = this;\n      }\n    }\n\n    Repeat.prototype.toString = function() {\n      if (this.size === 0) {\n        return 'Repeat []';\n      }\n      return 'Repeat [ ' + this._value + ' ' + this.size + ' times ]';\n    };\n\n    Repeat.prototype.get = function(index, notSetValue) {\n      return this.has(index) ? this._value : notSetValue;\n    };\n\n    Repeat.prototype.includes = function(searchValue) {\n      return is(this._value, searchValue);\n    };\n\n    Repeat.prototype.slice = function(begin, end) {\n      var size = this.size;\n      return wholeSlice(begin, end, size) ? this :\n        new Repeat(this._value, resolveEnd(end, size) - resolveBegin(begin, size));\n    };\n\n    Repeat.prototype.reverse = function() {\n      return this;\n    };\n\n    Repeat.prototype.indexOf = function(searchValue) {\n      if (is(this._value, searchValue)) {\n        return 0;\n      }\n      return -1;\n    };\n\n    Repeat.prototype.lastIndexOf = function(searchValue) {\n      if (is(this._value, searchValue)) {\n        return this.size;\n      }\n      return -1;\n    };\n\n    Repeat.prototype.__iterate = function(fn, reverse) {\n      for (var ii = 0; ii < this.size; ii++) {\n        if (fn(this._value, ii, this) === false) {\n          return ii + 1;\n        }\n      }\n      return ii;\n    };\n\n    Repeat.prototype.__iterator = function(type, reverse) {var this$0 = this;\n      var ii = 0;\n      return new Iterator(function() \n        {return ii < this$0.size ? iteratorValue(type, ii++, this$0._value) : iteratorDone()}\n      );\n    };\n\n    Repeat.prototype.equals = function(other) {\n      return other instanceof Repeat ?\n        is(this._value, other._value) :\n        deepEqual(other);\n    };\n\n\n  var EMPTY_REPEAT;\n\n  function invariant(condition, error) {\n    if (!condition) throw new Error(error);\n  }\n\n  createClass(Range, IndexedSeq);\n\n    function Range(start, end, step) {\n      if (!(this instanceof Range)) {\n        return new Range(start, end, step);\n      }\n      invariant(step !== 0, 'Cannot step a Range by 0');\n      start = start || 0;\n      if (end === undefined) {\n        end = Infinity;\n      }\n      step = step === undefined ? 1 : Math.abs(step);\n      if (end < start) {\n        step = -step;\n      }\n      this._start = start;\n      this._end = end;\n      this._step = step;\n      this.size = Math.max(0, Math.ceil((end - start) / step - 1) + 1);\n      if (this.size === 0) {\n        if (EMPTY_RANGE) {\n          return EMPTY_RANGE;\n        }\n        EMPTY_RANGE = this;\n      }\n    }\n\n    Range.prototype.toString = function() {\n      if (this.size === 0) {\n        return 'Range []';\n      }\n      return 'Range [ ' +\n        this._start + '...' + this._end +\n        (this._step !== 1 ? ' by ' + this._step : '') +\n      ' ]';\n    };\n\n    Range.prototype.get = function(index, notSetValue) {\n      return this.has(index) ?\n        this._start + wrapIndex(this, index) * this._step :\n        notSetValue;\n    };\n\n    Range.prototype.includes = function(searchValue) {\n      var possibleIndex = (searchValue - this._start) / this._step;\n      return possibleIndex >= 0 &&\n        possibleIndex < this.size &&\n        possibleIndex === Math.floor(possibleIndex);\n    };\n\n    Range.prototype.slice = function(begin, end) {\n      if (wholeSlice(begin, end, this.size)) {\n        return this;\n      }\n      begin = resolveBegin(begin, this.size);\n      end = resolveEnd(end, this.size);\n      if (end <= begin) {\n        return new Range(0, 0);\n      }\n      return new Range(this.get(begin, this._end), this.get(end, this._end), this._step);\n    };\n\n    Range.prototype.indexOf = function(searchValue) {\n      var offsetValue = searchValue - this._start;\n      if (offsetValue % this._step === 0) {\n        var index = offsetValue / this._step;\n        if (index >= 0 && index < this.size) {\n          return index\n        }\n      }\n      return -1;\n    };\n\n    Range.prototype.lastIndexOf = function(searchValue) {\n      return this.indexOf(searchValue);\n    };\n\n    Range.prototype.__iterate = function(fn, reverse) {\n      var maxIndex = this.size - 1;\n      var step = this._step;\n      var value = reverse ? this._start + maxIndex * step : this._start;\n      for (var ii = 0; ii <= maxIndex; ii++) {\n        if (fn(value, ii, this) === false) {\n          return ii + 1;\n        }\n        value += reverse ? -step : step;\n      }\n      return ii;\n    };\n\n    Range.prototype.__iterator = function(type, reverse) {\n      var maxIndex = this.size - 1;\n      var step = this._step;\n      var value = reverse ? this._start + maxIndex * step : this._start;\n      var ii = 0;\n      return new Iterator(function()  {\n        var v = value;\n        value += reverse ? -step : step;\n        return ii > maxIndex ? iteratorDone() : iteratorValue(type, ii++, v);\n      });\n    };\n\n    Range.prototype.equals = function(other) {\n      return other instanceof Range ?\n        this._start === other._start &&\n        this._end === other._end &&\n        this._step === other._step :\n        deepEqual(this, other);\n    };\n\n\n  var EMPTY_RANGE;\n\n  createClass(Collection, Iterable);\n    function Collection() {\n      throw TypeError('Abstract');\n    }\n\n\n  createClass(KeyedCollection, Collection);function KeyedCollection() {}\n\n  createClass(IndexedCollection, Collection);function IndexedCollection() {}\n\n  createClass(SetCollection, Collection);function SetCollection() {}\n\n\n  Collection.Keyed = KeyedCollection;\n  Collection.Indexed = IndexedCollection;\n  Collection.Set = SetCollection;\n\n  var imul =\n    typeof Math.imul === 'function' && Math.imul(0xffffffff, 2) === -2 ?\n    Math.imul :\n    function imul(a, b) {\n      a = a | 0; // int\n      b = b | 0; // int\n      var c = a & 0xffff;\n      var d = b & 0xffff;\n      // Shift by 0 fixes the sign on the high part.\n      return (c * d) + ((((a >>> 16) * d + c * (b >>> 16)) << 16) >>> 0) | 0; // int\n    };\n\n  // v8 has an optimization for storing 31-bit signed numbers.\n  // Values which have either 00 or 11 as the high order bits qualify.\n  // This function drops the highest order bit in a signed number, maintaining\n  // the sign bit.\n  function smi(i32) {\n    return ((i32 >>> 1) & 0x40000000) | (i32 & 0xBFFFFFFF);\n  }\n\n  function hash(o) {\n    if (o === false || o === null || o === undefined) {\n      return 0;\n    }\n    if (typeof o.valueOf === 'function') {\n      o = o.valueOf();\n      if (o === false || o === null || o === undefined) {\n        return 0;\n      }\n    }\n    if (o === true) {\n      return 1;\n    }\n    var type = typeof o;\n    if (type === 'number') {\n      if (o !== o || o === Infinity) {\n        return 0;\n      }\n      var h = o | 0;\n      if (h !== o) {\n        h ^= o * 0xFFFFFFFF;\n      }\n      while (o > 0xFFFFFFFF) {\n        o /= 0xFFFFFFFF;\n        h ^= o;\n      }\n      return smi(h);\n    }\n    if (type === 'string') {\n      return o.length > STRING_HASH_CACHE_MIN_STRLEN ? cachedHashString(o) : hashString(o);\n    }\n    if (typeof o.hashCode === 'function') {\n      return o.hashCode();\n    }\n    if (type === 'object') {\n      return hashJSObj(o);\n    }\n    if (typeof o.toString === 'function') {\n      return hashString(o.toString());\n    }\n    throw new Error('Value type ' + type + ' cannot be hashed.');\n  }\n\n  function cachedHashString(string) {\n    var hash = stringHashCache[string];\n    if (hash === undefined) {\n      hash = hashString(string);\n      if (STRING_HASH_CACHE_SIZE === STRING_HASH_CACHE_MAX_SIZE) {\n        STRING_HASH_CACHE_SIZE = 0;\n        stringHashCache = {};\n      }\n      STRING_HASH_CACHE_SIZE++;\n      stringHashCache[string] = hash;\n    }\n    return hash;\n  }\n\n  // http://jsperf.com/hashing-strings\n  function hashString(string) {\n    // This is the hash from JVM\n    // The hash code for a string is computed as\n    // s[0] * 31 ^ (n - 1) + s[1] * 31 ^ (n - 2) + ... + s[n - 1],\n    // where s[i] is the ith character of the string and n is the length of\n    // the string. We \"mod\" the result to make it between 0 (inclusive) and 2^31\n    // (exclusive) by dropping high bits.\n    var hash = 0;\n    for (var ii = 0; ii < string.length; ii++) {\n      hash = 31 * hash + string.charCodeAt(ii) | 0;\n    }\n    return smi(hash);\n  }\n\n  function hashJSObj(obj) {\n    var hash;\n    if (usingWeakMap) {\n      hash = weakMap.get(obj);\n      if (hash !== undefined) {\n        return hash;\n      }\n    }\n\n    hash = obj[UID_HASH_KEY];\n    if (hash !== undefined) {\n      return hash;\n    }\n\n    if (!canDefineProperty) {\n      hash = obj.propertyIsEnumerable && obj.propertyIsEnumerable[UID_HASH_KEY];\n      if (hash !== undefined) {\n        return hash;\n      }\n\n      hash = getIENodeHash(obj);\n      if (hash !== undefined) {\n        return hash;\n      }\n    }\n\n    hash = ++objHashUID;\n    if (objHashUID & 0x40000000) {\n      objHashUID = 0;\n    }\n\n    if (usingWeakMap) {\n      weakMap.set(obj, hash);\n    } else if (isExtensible !== undefined && isExtensible(obj) === false) {\n      throw new Error('Non-extensible objects are not allowed as keys.');\n    } else if (canDefineProperty) {\n      Object.defineProperty(obj, UID_HASH_KEY, {\n        'enumerable': false,\n        'configurable': false,\n        'writable': false,\n        'value': hash\n      });\n    } else if (obj.propertyIsEnumerable !== undefined &&\n               obj.propertyIsEnumerable === obj.constructor.prototype.propertyIsEnumerable) {\n      // Since we can't define a non-enumerable property on the object\n      // we'll hijack one of the less-used non-enumerable properties to\n      // save our hash on it. Since this is a function it will not show up in\n      // `JSON.stringify` which is what we want.\n      obj.propertyIsEnumerable = function() {\n        return this.constructor.prototype.propertyIsEnumerable.apply(this, arguments);\n      };\n      obj.propertyIsEnumerable[UID_HASH_KEY] = hash;\n    } else if (obj.nodeType !== undefined) {\n      // At this point we couldn't get the IE `uniqueID` to use as a hash\n      // and we couldn't use a non-enumerable property to exploit the\n      // dontEnum bug so we simply add the `UID_HASH_KEY` on the node\n      // itself.\n      obj[UID_HASH_KEY] = hash;\n    } else {\n      throw new Error('Unable to set a non-enumerable property on object.');\n    }\n\n    return hash;\n  }\n\n  // Get references to ES5 object methods.\n  var isExtensible = Object.isExtensible;\n\n  // True if Object.defineProperty works as expected. IE8 fails this test.\n  var canDefineProperty = (function() {\n    try {\n      Object.defineProperty({}, '@', {});\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }());\n\n  // IE has a `uniqueID` property on DOM nodes. We can construct the hash from it\n  // and avoid memory leaks from the IE cloneNode bug.\n  function getIENodeHash(node) {\n    if (node && node.nodeType > 0) {\n      switch (node.nodeType) {\n        case 1: // Element\n          return node.uniqueID;\n        case 9: // Document\n          return node.documentElement && node.documentElement.uniqueID;\n      }\n    }\n  }\n\n  // If possible, use a WeakMap.\n  var usingWeakMap = typeof WeakMap === 'function';\n  var weakMap;\n  if (usingWeakMap) {\n    weakMap = new WeakMap();\n  }\n\n  var objHashUID = 0;\n\n  var UID_HASH_KEY = '__immutablehash__';\n  if (typeof Symbol === 'function') {\n    UID_HASH_KEY = Symbol(UID_HASH_KEY);\n  }\n\n  var STRING_HASH_CACHE_MIN_STRLEN = 16;\n  var STRING_HASH_CACHE_MAX_SIZE = 255;\n  var STRING_HASH_CACHE_SIZE = 0;\n  var stringHashCache = {};\n\n  function assertNotInfinite(size) {\n    invariant(\n      size !== Infinity,\n      'Cannot perform this action with an infinite size.'\n    );\n  }\n\n  createClass(Map, KeyedCollection);\n\n    // @pragma Construction\n\n    function Map(value) {\n      return value === null || value === undefined ? emptyMap() :\n        isMap(value) && !isOrdered(value) ? value :\n        emptyMap().withMutations(function(map ) {\n          var iter = KeyedIterable(value);\n          assertNotInfinite(iter.size);\n          iter.forEach(function(v, k)  {return map.set(k, v)});\n        });\n    }\n\n    Map.of = function() {var keyValues = SLICE$0.call(arguments, 0);\n      return emptyMap().withMutations(function(map ) {\n        for (var i = 0; i < keyValues.length; i += 2) {\n          if (i + 1 >= keyValues.length) {\n            throw new Error('Missing value for key: ' + keyValues[i]);\n          }\n          map.set(keyValues[i], keyValues[i + 1]);\n        }\n      });\n    };\n\n    Map.prototype.toString = function() {\n      return this.__toString('Map {', '}');\n    };\n\n    // @pragma Access\n\n    Map.prototype.get = function(k, notSetValue) {\n      return this._root ?\n        this._root.get(0, undefined, k, notSetValue) :\n        notSetValue;\n    };\n\n    // @pragma Modification\n\n    Map.prototype.set = function(k, v) {\n      return updateMap(this, k, v);\n    };\n\n    Map.prototype.setIn = function(keyPath, v) {\n      return this.updateIn(keyPath, NOT_SET, function()  {return v});\n    };\n\n    Map.prototype.remove = function(k) {\n      return updateMap(this, k, NOT_SET);\n    };\n\n    Map.prototype.deleteIn = function(keyPath) {\n      return this.updateIn(keyPath, function()  {return NOT_SET});\n    };\n\n    Map.prototype.update = function(k, notSetValue, updater) {\n      return arguments.length === 1 ?\n        k(this) :\n        this.updateIn([k], notSetValue, updater);\n    };\n\n    Map.prototype.updateIn = function(keyPath, notSetValue, updater) {\n      if (!updater) {\n        updater = notSetValue;\n        notSetValue = undefined;\n      }\n      var updatedValue = updateInDeepMap(\n        this,\n        forceIterator(keyPath),\n        notSetValue,\n        updater\n      );\n      return updatedValue === NOT_SET ? undefined : updatedValue;\n    };\n\n    Map.prototype.clear = function() {\n      if (this.size === 0) {\n        return this;\n      }\n      if (this.__ownerID) {\n        this.size = 0;\n        this._root = null;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return emptyMap();\n    };\n\n    // @pragma Composition\n\n    Map.prototype.merge = function(/*...iters*/) {\n      return mergeIntoMapWith(this, undefined, arguments);\n    };\n\n    Map.prototype.mergeWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n      return mergeIntoMapWith(this, merger, iters);\n    };\n\n    Map.prototype.mergeIn = function(keyPath) {var iters = SLICE$0.call(arguments, 1);\n      return this.updateIn(\n        keyPath,\n        emptyMap(),\n        function(m ) {return typeof m.merge === 'function' ?\n          m.merge.apply(m, iters) :\n          iters[iters.length - 1]}\n      );\n    };\n\n    Map.prototype.mergeDeep = function(/*...iters*/) {\n      return mergeIntoMapWith(this, deepMerger, arguments);\n    };\n\n    Map.prototype.mergeDeepWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n      return mergeIntoMapWith(this, deepMergerWith(merger), iters);\n    };\n\n    Map.prototype.mergeDeepIn = function(keyPath) {var iters = SLICE$0.call(arguments, 1);\n      return this.updateIn(\n        keyPath,\n        emptyMap(),\n        function(m ) {return typeof m.mergeDeep === 'function' ?\n          m.mergeDeep.apply(m, iters) :\n          iters[iters.length - 1]}\n      );\n    };\n\n    Map.prototype.sort = function(comparator) {\n      // Late binding\n      return OrderedMap(sortFactory(this, comparator));\n    };\n\n    Map.prototype.sortBy = function(mapper, comparator) {\n      // Late binding\n      return OrderedMap(sortFactory(this, comparator, mapper));\n    };\n\n    // @pragma Mutability\n\n    Map.prototype.withMutations = function(fn) {\n      var mutable = this.asMutable();\n      fn(mutable);\n      return mutable.wasAltered() ? mutable.__ensureOwner(this.__ownerID) : this;\n    };\n\n    Map.prototype.asMutable = function() {\n      return this.__ownerID ? this : this.__ensureOwner(new OwnerID());\n    };\n\n    Map.prototype.asImmutable = function() {\n      return this.__ensureOwner();\n    };\n\n    Map.prototype.wasAltered = function() {\n      return this.__altered;\n    };\n\n    Map.prototype.__iterator = function(type, reverse) {\n      return new MapIterator(this, type, reverse);\n    };\n\n    Map.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      var iterations = 0;\n      this._root && this._root.iterate(function(entry ) {\n        iterations++;\n        return fn(entry[1], entry[0], this$0);\n      }, reverse);\n      return iterations;\n    };\n\n    Map.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        this.__altered = false;\n        return this;\n      }\n      return makeMap(this.size, this._root, ownerID, this.__hash);\n    };\n\n\n  function isMap(maybeMap) {\n    return !!(maybeMap && maybeMap[IS_MAP_SENTINEL]);\n  }\n\n  Map.isMap = isMap;\n\n  var IS_MAP_SENTINEL = '@@__IMMUTABLE_MAP__@@';\n\n  var MapPrototype = Map.prototype;\n  MapPrototype[IS_MAP_SENTINEL] = true;\n  MapPrototype[DELETE] = MapPrototype.remove;\n  MapPrototype.removeIn = MapPrototype.deleteIn;\n\n\n  // #pragma Trie Nodes\n\n\n\n    function ArrayMapNode(ownerID, entries) {\n      this.ownerID = ownerID;\n      this.entries = entries;\n    }\n\n    ArrayMapNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n      var entries = this.entries;\n      for (var ii = 0, len = entries.length; ii < len; ii++) {\n        if (is(key, entries[ii][0])) {\n          return entries[ii][1];\n        }\n      }\n      return notSetValue;\n    };\n\n    ArrayMapNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n      var removed = value === NOT_SET;\n\n      var entries = this.entries;\n      var idx = 0;\n      for (var len = entries.length; idx < len; idx++) {\n        if (is(key, entries[idx][0])) {\n          break;\n        }\n      }\n      var exists = idx < len;\n\n      if (exists ? entries[idx][1] === value : removed) {\n        return this;\n      }\n\n      SetRef(didAlter);\n      (removed || !exists) && SetRef(didChangeSize);\n\n      if (removed && entries.length === 1) {\n        return; // undefined\n      }\n\n      if (!exists && !removed && entries.length >= MAX_ARRAY_MAP_SIZE) {\n        return createNodes(ownerID, entries, key, value);\n      }\n\n      var isEditable = ownerID && ownerID === this.ownerID;\n      var newEntries = isEditable ? entries : arrCopy(entries);\n\n      if (exists) {\n        if (removed) {\n          idx === len - 1 ? newEntries.pop() : (newEntries[idx] = newEntries.pop());\n        } else {\n          newEntries[idx] = [key, value];\n        }\n      } else {\n        newEntries.push([key, value]);\n      }\n\n      if (isEditable) {\n        this.entries = newEntries;\n        return this;\n      }\n\n      return new ArrayMapNode(ownerID, newEntries);\n    };\n\n\n\n\n    function BitmapIndexedNode(ownerID, bitmap, nodes) {\n      this.ownerID = ownerID;\n      this.bitmap = bitmap;\n      this.nodes = nodes;\n    }\n\n    BitmapIndexedNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n      if (keyHash === undefined) {\n        keyHash = hash(key);\n      }\n      var bit = (1 << ((shift === 0 ? keyHash : keyHash >>> shift) & MASK));\n      var bitmap = this.bitmap;\n      return (bitmap & bit) === 0 ? notSetValue :\n        this.nodes[popCount(bitmap & (bit - 1))].get(shift + SHIFT, keyHash, key, notSetValue);\n    };\n\n    BitmapIndexedNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n      if (keyHash === undefined) {\n        keyHash = hash(key);\n      }\n      var keyHashFrag = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n      var bit = 1 << keyHashFrag;\n      var bitmap = this.bitmap;\n      var exists = (bitmap & bit) !== 0;\n\n      if (!exists && value === NOT_SET) {\n        return this;\n      }\n\n      var idx = popCount(bitmap & (bit - 1));\n      var nodes = this.nodes;\n      var node = exists ? nodes[idx] : undefined;\n      var newNode = updateNode(node, ownerID, shift + SHIFT, keyHash, key, value, didChangeSize, didAlter);\n\n      if (newNode === node) {\n        return this;\n      }\n\n      if (!exists && newNode && nodes.length >= MAX_BITMAP_INDEXED_SIZE) {\n        return expandNodes(ownerID, nodes, bitmap, keyHashFrag, newNode);\n      }\n\n      if (exists && !newNode && nodes.length === 2 && isLeafNode(nodes[idx ^ 1])) {\n        return nodes[idx ^ 1];\n      }\n\n      if (exists && newNode && nodes.length === 1 && isLeafNode(newNode)) {\n        return newNode;\n      }\n\n      var isEditable = ownerID && ownerID === this.ownerID;\n      var newBitmap = exists ? newNode ? bitmap : bitmap ^ bit : bitmap | bit;\n      var newNodes = exists ? newNode ?\n        setIn(nodes, idx, newNode, isEditable) :\n        spliceOut(nodes, idx, isEditable) :\n        spliceIn(nodes, idx, newNode, isEditable);\n\n      if (isEditable) {\n        this.bitmap = newBitmap;\n        this.nodes = newNodes;\n        return this;\n      }\n\n      return new BitmapIndexedNode(ownerID, newBitmap, newNodes);\n    };\n\n\n\n\n    function HashArrayMapNode(ownerID, count, nodes) {\n      this.ownerID = ownerID;\n      this.count = count;\n      this.nodes = nodes;\n    }\n\n    HashArrayMapNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n      if (keyHash === undefined) {\n        keyHash = hash(key);\n      }\n      var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n      var node = this.nodes[idx];\n      return node ? node.get(shift + SHIFT, keyHash, key, notSetValue) : notSetValue;\n    };\n\n    HashArrayMapNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n      if (keyHash === undefined) {\n        keyHash = hash(key);\n      }\n      var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n      var removed = value === NOT_SET;\n      var nodes = this.nodes;\n      var node = nodes[idx];\n\n      if (removed && !node) {\n        return this;\n      }\n\n      var newNode = updateNode(node, ownerID, shift + SHIFT, keyHash, key, value, didChangeSize, didAlter);\n      if (newNode === node) {\n        return this;\n      }\n\n      var newCount = this.count;\n      if (!node) {\n        newCount++;\n      } else if (!newNode) {\n        newCount--;\n        if (newCount < MIN_HASH_ARRAY_MAP_SIZE) {\n          return packNodes(ownerID, nodes, newCount, idx);\n        }\n      }\n\n      var isEditable = ownerID && ownerID === this.ownerID;\n      var newNodes = setIn(nodes, idx, newNode, isEditable);\n\n      if (isEditable) {\n        this.count = newCount;\n        this.nodes = newNodes;\n        return this;\n      }\n\n      return new HashArrayMapNode(ownerID, newCount, newNodes);\n    };\n\n\n\n\n    function HashCollisionNode(ownerID, keyHash, entries) {\n      this.ownerID = ownerID;\n      this.keyHash = keyHash;\n      this.entries = entries;\n    }\n\n    HashCollisionNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n      var entries = this.entries;\n      for (var ii = 0, len = entries.length; ii < len; ii++) {\n        if (is(key, entries[ii][0])) {\n          return entries[ii][1];\n        }\n      }\n      return notSetValue;\n    };\n\n    HashCollisionNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n      if (keyHash === undefined) {\n        keyHash = hash(key);\n      }\n\n      var removed = value === NOT_SET;\n\n      if (keyHash !== this.keyHash) {\n        if (removed) {\n          return this;\n        }\n        SetRef(didAlter);\n        SetRef(didChangeSize);\n        return mergeIntoNode(this, ownerID, shift, keyHash, [key, value]);\n      }\n\n      var entries = this.entries;\n      var idx = 0;\n      for (var len = entries.length; idx < len; idx++) {\n        if (is(key, entries[idx][0])) {\n          break;\n        }\n      }\n      var exists = idx < len;\n\n      if (exists ? entries[idx][1] === value : removed) {\n        return this;\n      }\n\n      SetRef(didAlter);\n      (removed || !exists) && SetRef(didChangeSize);\n\n      if (removed && len === 2) {\n        return new ValueNode(ownerID, this.keyHash, entries[idx ^ 1]);\n      }\n\n      var isEditable = ownerID && ownerID === this.ownerID;\n      var newEntries = isEditable ? entries : arrCopy(entries);\n\n      if (exists) {\n        if (removed) {\n          idx === len - 1 ? newEntries.pop() : (newEntries[idx] = newEntries.pop());\n        } else {\n          newEntries[idx] = [key, value];\n        }\n      } else {\n        newEntries.push([key, value]);\n      }\n\n      if (isEditable) {\n        this.entries = newEntries;\n        return this;\n      }\n\n      return new HashCollisionNode(ownerID, this.keyHash, newEntries);\n    };\n\n\n\n\n    function ValueNode(ownerID, keyHash, entry) {\n      this.ownerID = ownerID;\n      this.keyHash = keyHash;\n      this.entry = entry;\n    }\n\n    ValueNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n      return is(key, this.entry[0]) ? this.entry[1] : notSetValue;\n    };\n\n    ValueNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n      var removed = value === NOT_SET;\n      var keyMatch = is(key, this.entry[0]);\n      if (keyMatch ? value === this.entry[1] : removed) {\n        return this;\n      }\n\n      SetRef(didAlter);\n\n      if (removed) {\n        SetRef(didChangeSize);\n        return; // undefined\n      }\n\n      if (keyMatch) {\n        if (ownerID && ownerID === this.ownerID) {\n          this.entry[1] = value;\n          return this;\n        }\n        return new ValueNode(ownerID, this.keyHash, [key, value]);\n      }\n\n      SetRef(didChangeSize);\n      return mergeIntoNode(this, ownerID, shift, hash(key), [key, value]);\n    };\n\n\n\n  // #pragma Iterators\n\n  ArrayMapNode.prototype.iterate =\n  HashCollisionNode.prototype.iterate = function (fn, reverse) {\n    var entries = this.entries;\n    for (var ii = 0, maxIndex = entries.length - 1; ii <= maxIndex; ii++) {\n      if (fn(entries[reverse ? maxIndex - ii : ii]) === false) {\n        return false;\n      }\n    }\n  }\n\n  BitmapIndexedNode.prototype.iterate =\n  HashArrayMapNode.prototype.iterate = function (fn, reverse) {\n    var nodes = this.nodes;\n    for (var ii = 0, maxIndex = nodes.length - 1; ii <= maxIndex; ii++) {\n      var node = nodes[reverse ? maxIndex - ii : ii];\n      if (node && node.iterate(fn, reverse) === false) {\n        return false;\n      }\n    }\n  }\n\n  ValueNode.prototype.iterate = function (fn, reverse) {\n    return fn(this.entry);\n  }\n\n  createClass(MapIterator, Iterator);\n\n    function MapIterator(map, type, reverse) {\n      this._type = type;\n      this._reverse = reverse;\n      this._stack = map._root && mapIteratorFrame(map._root);\n    }\n\n    MapIterator.prototype.next = function() {\n      var type = this._type;\n      var stack = this._stack;\n      while (stack) {\n        var node = stack.node;\n        var index = stack.index++;\n        var maxIndex;\n        if (node.entry) {\n          if (index === 0) {\n            return mapIteratorValue(type, node.entry);\n          }\n        } else if (node.entries) {\n          maxIndex = node.entries.length - 1;\n          if (index <= maxIndex) {\n            return mapIteratorValue(type, node.entries[this._reverse ? maxIndex - index : index]);\n          }\n        } else {\n          maxIndex = node.nodes.length - 1;\n          if (index <= maxIndex) {\n            var subNode = node.nodes[this._reverse ? maxIndex - index : index];\n            if (subNode) {\n              if (subNode.entry) {\n                return mapIteratorValue(type, subNode.entry);\n              }\n              stack = this._stack = mapIteratorFrame(subNode, stack);\n            }\n            continue;\n          }\n        }\n        stack = this._stack = this._stack.__prev;\n      }\n      return iteratorDone();\n    };\n\n\n  function mapIteratorValue(type, entry) {\n    return iteratorValue(type, entry[0], entry[1]);\n  }\n\n  function mapIteratorFrame(node, prev) {\n    return {\n      node: node,\n      index: 0,\n      __prev: prev\n    };\n  }\n\n  function makeMap(size, root, ownerID, hash) {\n    var map = Object.create(MapPrototype);\n    map.size = size;\n    map._root = root;\n    map.__ownerID = ownerID;\n    map.__hash = hash;\n    map.__altered = false;\n    return map;\n  }\n\n  var EMPTY_MAP;\n  function emptyMap() {\n    return EMPTY_MAP || (EMPTY_MAP = makeMap(0));\n  }\n\n  function updateMap(map, k, v) {\n    var newRoot;\n    var newSize;\n    if (!map._root) {\n      if (v === NOT_SET) {\n        return map;\n      }\n      newSize = 1;\n      newRoot = new ArrayMapNode(map.__ownerID, [[k, v]]);\n    } else {\n      var didChangeSize = MakeRef(CHANGE_LENGTH);\n      var didAlter = MakeRef(DID_ALTER);\n      newRoot = updateNode(map._root, map.__ownerID, 0, undefined, k, v, didChangeSize, didAlter);\n      if (!didAlter.value) {\n        return map;\n      }\n      newSize = map.size + (didChangeSize.value ? v === NOT_SET ? -1 : 1 : 0);\n    }\n    if (map.__ownerID) {\n      map.size = newSize;\n      map._root = newRoot;\n      map.__hash = undefined;\n      map.__altered = true;\n      return map;\n    }\n    return newRoot ? makeMap(newSize, newRoot) : emptyMap();\n  }\n\n  function updateNode(node, ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n    if (!node) {\n      if (value === NOT_SET) {\n        return node;\n      }\n      SetRef(didAlter);\n      SetRef(didChangeSize);\n      return new ValueNode(ownerID, keyHash, [key, value]);\n    }\n    return node.update(ownerID, shift, keyHash, key, value, didChangeSize, didAlter);\n  }\n\n  function isLeafNode(node) {\n    return node.constructor === ValueNode || node.constructor === HashCollisionNode;\n  }\n\n  function mergeIntoNode(node, ownerID, shift, keyHash, entry) {\n    if (node.keyHash === keyHash) {\n      return new HashCollisionNode(ownerID, keyHash, [node.entry, entry]);\n    }\n\n    var idx1 = (shift === 0 ? node.keyHash : node.keyHash >>> shift) & MASK;\n    var idx2 = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n\n    var newNode;\n    var nodes = idx1 === idx2 ?\n      [mergeIntoNode(node, ownerID, shift + SHIFT, keyHash, entry)] :\n      ((newNode = new ValueNode(ownerID, keyHash, entry)), idx1 < idx2 ? [node, newNode] : [newNode, node]);\n\n    return new BitmapIndexedNode(ownerID, (1 << idx1) | (1 << idx2), nodes);\n  }\n\n  function createNodes(ownerID, entries, key, value) {\n    if (!ownerID) {\n      ownerID = new OwnerID();\n    }\n    var node = new ValueNode(ownerID, hash(key), [key, value]);\n    for (var ii = 0; ii < entries.length; ii++) {\n      var entry = entries[ii];\n      node = node.update(ownerID, 0, undefined, entry[0], entry[1]);\n    }\n    return node;\n  }\n\n  function packNodes(ownerID, nodes, count, excluding) {\n    var bitmap = 0;\n    var packedII = 0;\n    var packedNodes = new Array(count);\n    for (var ii = 0, bit = 1, len = nodes.length; ii < len; ii++, bit <<= 1) {\n      var node = nodes[ii];\n      if (node !== undefined && ii !== excluding) {\n        bitmap |= bit;\n        packedNodes[packedII++] = node;\n      }\n    }\n    return new BitmapIndexedNode(ownerID, bitmap, packedNodes);\n  }\n\n  function expandNodes(ownerID, nodes, bitmap, including, node) {\n    var count = 0;\n    var expandedNodes = new Array(SIZE);\n    for (var ii = 0; bitmap !== 0; ii++, bitmap >>>= 1) {\n      expandedNodes[ii] = bitmap & 1 ? nodes[count++] : undefined;\n    }\n    expandedNodes[including] = node;\n    return new HashArrayMapNode(ownerID, count + 1, expandedNodes);\n  }\n\n  function mergeIntoMapWith(map, merger, iterables) {\n    var iters = [];\n    for (var ii = 0; ii < iterables.length; ii++) {\n      var value = iterables[ii];\n      var iter = KeyedIterable(value);\n      if (!isIterable(value)) {\n        iter = iter.map(function(v ) {return fromJS(v)});\n      }\n      iters.push(iter);\n    }\n    return mergeIntoCollectionWith(map, merger, iters);\n  }\n\n  function deepMerger(existing, value, key) {\n    return existing && existing.mergeDeep && isIterable(value) ?\n      existing.mergeDeep(value) :\n      is(existing, value) ? existing : value;\n  }\n\n  function deepMergerWith(merger) {\n    return function(existing, value, key)  {\n      if (existing && existing.mergeDeepWith && isIterable(value)) {\n        return existing.mergeDeepWith(merger, value);\n      }\n      var nextValue = merger(existing, value, key);\n      return is(existing, nextValue) ? existing : nextValue;\n    };\n  }\n\n  function mergeIntoCollectionWith(collection, merger, iters) {\n    iters = iters.filter(function(x ) {return x.size !== 0});\n    if (iters.length === 0) {\n      return collection;\n    }\n    if (collection.size === 0 && !collection.__ownerID && iters.length === 1) {\n      return collection.constructor(iters[0]);\n    }\n    return collection.withMutations(function(collection ) {\n      var mergeIntoMap = merger ?\n        function(value, key)  {\n          collection.update(key, NOT_SET, function(existing )\n            {return existing === NOT_SET ? value : merger(existing, value, key)}\n          );\n        } :\n        function(value, key)  {\n          collection.set(key, value);\n        }\n      for (var ii = 0; ii < iters.length; ii++) {\n        iters[ii].forEach(mergeIntoMap);\n      }\n    });\n  }\n\n  function updateInDeepMap(existing, keyPathIter, notSetValue, updater) {\n    var isNotSet = existing === NOT_SET;\n    var step = keyPathIter.next();\n    if (step.done) {\n      var existingValue = isNotSet ? notSetValue : existing;\n      var newValue = updater(existingValue);\n      return newValue === existingValue ? existing : newValue;\n    }\n    invariant(\n      isNotSet || (existing && existing.set),\n      'invalid keyPath'\n    );\n    var key = step.value;\n    var nextExisting = isNotSet ? NOT_SET : existing.get(key, NOT_SET);\n    var nextUpdated = updateInDeepMap(\n      nextExisting,\n      keyPathIter,\n      notSetValue,\n      updater\n    );\n    return nextUpdated === nextExisting ? existing :\n      nextUpdated === NOT_SET ? existing.remove(key) :\n      (isNotSet ? emptyMap() : existing).set(key, nextUpdated);\n  }\n\n  function popCount(x) {\n    x = x - ((x >> 1) & 0x55555555);\n    x = (x & 0x33333333) + ((x >> 2) & 0x33333333);\n    x = (x + (x >> 4)) & 0x0f0f0f0f;\n    x = x + (x >> 8);\n    x = x + (x >> 16);\n    return x & 0x7f;\n  }\n\n  function setIn(array, idx, val, canEdit) {\n    var newArray = canEdit ? array : arrCopy(array);\n    newArray[idx] = val;\n    return newArray;\n  }\n\n  function spliceIn(array, idx, val, canEdit) {\n    var newLen = array.length + 1;\n    if (canEdit && idx + 1 === newLen) {\n      array[idx] = val;\n      return array;\n    }\n    var newArray = new Array(newLen);\n    var after = 0;\n    for (var ii = 0; ii < newLen; ii++) {\n      if (ii === idx) {\n        newArray[ii] = val;\n        after = -1;\n      } else {\n        newArray[ii] = array[ii + after];\n      }\n    }\n    return newArray;\n  }\n\n  function spliceOut(array, idx, canEdit) {\n    var newLen = array.length - 1;\n    if (canEdit && idx === newLen) {\n      array.pop();\n      return array;\n    }\n    var newArray = new Array(newLen);\n    var after = 0;\n    for (var ii = 0; ii < newLen; ii++) {\n      if (ii === idx) {\n        after = 1;\n      }\n      newArray[ii] = array[ii + after];\n    }\n    return newArray;\n  }\n\n  var MAX_ARRAY_MAP_SIZE = SIZE / 4;\n  var MAX_BITMAP_INDEXED_SIZE = SIZE / 2;\n  var MIN_HASH_ARRAY_MAP_SIZE = SIZE / 4;\n\n  createClass(List, IndexedCollection);\n\n    // @pragma Construction\n\n    function List(value) {\n      var empty = emptyList();\n      if (value === null || value === undefined) {\n        return empty;\n      }\n      if (isList(value)) {\n        return value;\n      }\n      var iter = IndexedIterable(value);\n      var size = iter.size;\n      if (size === 0) {\n        return empty;\n      }\n      assertNotInfinite(size);\n      if (size > 0 && size < SIZE) {\n        return makeList(0, size, SHIFT, null, new VNode(iter.toArray()));\n      }\n      return empty.withMutations(function(list ) {\n        list.setSize(size);\n        iter.forEach(function(v, i)  {return list.set(i, v)});\n      });\n    }\n\n    List.of = function(/*...values*/) {\n      return this(arguments);\n    };\n\n    List.prototype.toString = function() {\n      return this.__toString('List [', ']');\n    };\n\n    // @pragma Access\n\n    List.prototype.get = function(index, notSetValue) {\n      index = wrapIndex(this, index);\n      if (index >= 0 && index < this.size) {\n        index += this._origin;\n        var node = listNodeFor(this, index);\n        return node && node.array[index & MASK];\n      }\n      return notSetValue;\n    };\n\n    // @pragma Modification\n\n    List.prototype.set = function(index, value) {\n      return updateList(this, index, value);\n    };\n\n    List.prototype.remove = function(index) {\n      return !this.has(index) ? this :\n        index === 0 ? this.shift() :\n        index === this.size - 1 ? this.pop() :\n        this.splice(index, 1);\n    };\n\n    List.prototype.insert = function(index, value) {\n      return this.splice(index, 0, value);\n    };\n\n    List.prototype.clear = function() {\n      if (this.size === 0) {\n        return this;\n      }\n      if (this.__ownerID) {\n        this.size = this._origin = this._capacity = 0;\n        this._level = SHIFT;\n        this._root = this._tail = null;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return emptyList();\n    };\n\n    List.prototype.push = function(/*...values*/) {\n      var values = arguments;\n      var oldSize = this.size;\n      return this.withMutations(function(list ) {\n        setListBounds(list, 0, oldSize + values.length);\n        for (var ii = 0; ii < values.length; ii++) {\n          list.set(oldSize + ii, values[ii]);\n        }\n      });\n    };\n\n    List.prototype.pop = function() {\n      return setListBounds(this, 0, -1);\n    };\n\n    List.prototype.unshift = function(/*...values*/) {\n      var values = arguments;\n      return this.withMutations(function(list ) {\n        setListBounds(list, -values.length);\n        for (var ii = 0; ii < values.length; ii++) {\n          list.set(ii, values[ii]);\n        }\n      });\n    };\n\n    List.prototype.shift = function() {\n      return setListBounds(this, 1);\n    };\n\n    // @pragma Composition\n\n    List.prototype.merge = function(/*...iters*/) {\n      return mergeIntoListWith(this, undefined, arguments);\n    };\n\n    List.prototype.mergeWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n      return mergeIntoListWith(this, merger, iters);\n    };\n\n    List.prototype.mergeDeep = function(/*...iters*/) {\n      return mergeIntoListWith(this, deepMerger, arguments);\n    };\n\n    List.prototype.mergeDeepWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n      return mergeIntoListWith(this, deepMergerWith(merger), iters);\n    };\n\n    List.prototype.setSize = function(size) {\n      return setListBounds(this, 0, size);\n    };\n\n    // @pragma Iteration\n\n    List.prototype.slice = function(begin, end) {\n      var size = this.size;\n      if (wholeSlice(begin, end, size)) {\n        return this;\n      }\n      return setListBounds(\n        this,\n        resolveBegin(begin, size),\n        resolveEnd(end, size)\n      );\n    };\n\n    List.prototype.__iterator = function(type, reverse) {\n      var index = 0;\n      var values = iterateList(this, reverse);\n      return new Iterator(function()  {\n        var value = values();\n        return value === DONE ?\n          iteratorDone() :\n          iteratorValue(type, index++, value);\n      });\n    };\n\n    List.prototype.__iterate = function(fn, reverse) {\n      var index = 0;\n      var values = iterateList(this, reverse);\n      var value;\n      while ((value = values()) !== DONE) {\n        if (fn(value, index++, this) === false) {\n          break;\n        }\n      }\n      return index;\n    };\n\n    List.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        return this;\n      }\n      return makeList(this._origin, this._capacity, this._level, this._root, this._tail, ownerID, this.__hash);\n    };\n\n\n  function isList(maybeList) {\n    return !!(maybeList && maybeList[IS_LIST_SENTINEL]);\n  }\n\n  List.isList = isList;\n\n  var IS_LIST_SENTINEL = '@@__IMMUTABLE_LIST__@@';\n\n  var ListPrototype = List.prototype;\n  ListPrototype[IS_LIST_SENTINEL] = true;\n  ListPrototype[DELETE] = ListPrototype.remove;\n  ListPrototype.setIn = MapPrototype.setIn;\n  ListPrototype.deleteIn =\n  ListPrototype.removeIn = MapPrototype.removeIn;\n  ListPrototype.update = MapPrototype.update;\n  ListPrototype.updateIn = MapPrototype.updateIn;\n  ListPrototype.mergeIn = MapPrototype.mergeIn;\n  ListPrototype.mergeDeepIn = MapPrototype.mergeDeepIn;\n  ListPrototype.withMutations = MapPrototype.withMutations;\n  ListPrototype.asMutable = MapPrototype.asMutable;\n  ListPrototype.asImmutable = MapPrototype.asImmutable;\n  ListPrototype.wasAltered = MapPrototype.wasAltered;\n\n\n\n    function VNode(array, ownerID) {\n      this.array = array;\n      this.ownerID = ownerID;\n    }\n\n    // TODO: seems like these methods are very similar\n\n    VNode.prototype.removeBefore = function(ownerID, level, index) {\n      if (index === level ? 1 << level : 0 || this.array.length === 0) {\n        return this;\n      }\n      var originIndex = (index >>> level) & MASK;\n      if (originIndex >= this.array.length) {\n        return new VNode([], ownerID);\n      }\n      var removingFirst = originIndex === 0;\n      var newChild;\n      if (level > 0) {\n        var oldChild = this.array[originIndex];\n        newChild = oldChild && oldChild.removeBefore(ownerID, level - SHIFT, index);\n        if (newChild === oldChild && removingFirst) {\n          return this;\n        }\n      }\n      if (removingFirst && !newChild) {\n        return this;\n      }\n      var editable = editableVNode(this, ownerID);\n      if (!removingFirst) {\n        for (var ii = 0; ii < originIndex; ii++) {\n          editable.array[ii] = undefined;\n        }\n      }\n      if (newChild) {\n        editable.array[originIndex] = newChild;\n      }\n      return editable;\n    };\n\n    VNode.prototype.removeAfter = function(ownerID, level, index) {\n      if (index === (level ? 1 << level : 0) || this.array.length === 0) {\n        return this;\n      }\n      var sizeIndex = ((index - 1) >>> level) & MASK;\n      if (sizeIndex >= this.array.length) {\n        return this;\n      }\n\n      var newChild;\n      if (level > 0) {\n        var oldChild = this.array[sizeIndex];\n        newChild = oldChild && oldChild.removeAfter(ownerID, level - SHIFT, index);\n        if (newChild === oldChild && sizeIndex === this.array.length - 1) {\n          return this;\n        }\n      }\n\n      var editable = editableVNode(this, ownerID);\n      editable.array.splice(sizeIndex + 1);\n      if (newChild) {\n        editable.array[sizeIndex] = newChild;\n      }\n      return editable;\n    };\n\n\n\n  var DONE = {};\n\n  function iterateList(list, reverse) {\n    var left = list._origin;\n    var right = list._capacity;\n    var tailPos = getTailOffset(right);\n    var tail = list._tail;\n\n    return iterateNodeOrLeaf(list._root, list._level, 0);\n\n    function iterateNodeOrLeaf(node, level, offset) {\n      return level === 0 ?\n        iterateLeaf(node, offset) :\n        iterateNode(node, level, offset);\n    }\n\n    function iterateLeaf(node, offset) {\n      var array = offset === tailPos ? tail && tail.array : node && node.array;\n      var from = offset > left ? 0 : left - offset;\n      var to = right - offset;\n      if (to > SIZE) {\n        to = SIZE;\n      }\n      return function()  {\n        if (from === to) {\n          return DONE;\n        }\n        var idx = reverse ? --to : from++;\n        return array && array[idx];\n      };\n    }\n\n    function iterateNode(node, level, offset) {\n      var values;\n      var array = node && node.array;\n      var from = offset > left ? 0 : (left - offset) >> level;\n      var to = ((right - offset) >> level) + 1;\n      if (to > SIZE) {\n        to = SIZE;\n      }\n      return function()  {\n        do {\n          if (values) {\n            var value = values();\n            if (value !== DONE) {\n              return value;\n            }\n            values = null;\n          }\n          if (from === to) {\n            return DONE;\n          }\n          var idx = reverse ? --to : from++;\n          values = iterateNodeOrLeaf(\n            array && array[idx], level - SHIFT, offset + (idx << level)\n          );\n        } while (true);\n      };\n    }\n  }\n\n  function makeList(origin, capacity, level, root, tail, ownerID, hash) {\n    var list = Object.create(ListPrototype);\n    list.size = capacity - origin;\n    list._origin = origin;\n    list._capacity = capacity;\n    list._level = level;\n    list._root = root;\n    list._tail = tail;\n    list.__ownerID = ownerID;\n    list.__hash = hash;\n    list.__altered = false;\n    return list;\n  }\n\n  var EMPTY_LIST;\n  function emptyList() {\n    return EMPTY_LIST || (EMPTY_LIST = makeList(0, 0, SHIFT));\n  }\n\n  function updateList(list, index, value) {\n    index = wrapIndex(list, index);\n\n    if (index !== index) {\n      return list;\n    }\n\n    if (index >= list.size || index < 0) {\n      return list.withMutations(function(list ) {\n        index < 0 ?\n          setListBounds(list, index).set(0, value) :\n          setListBounds(list, 0, index + 1).set(index, value)\n      });\n    }\n\n    index += list._origin;\n\n    var newTail = list._tail;\n    var newRoot = list._root;\n    var didAlter = MakeRef(DID_ALTER);\n    if (index >= getTailOffset(list._capacity)) {\n      newTail = updateVNode(newTail, list.__ownerID, 0, index, value, didAlter);\n    } else {\n      newRoot = updateVNode(newRoot, list.__ownerID, list._level, index, value, didAlter);\n    }\n\n    if (!didAlter.value) {\n      return list;\n    }\n\n    if (list.__ownerID) {\n      list._root = newRoot;\n      list._tail = newTail;\n      list.__hash = undefined;\n      list.__altered = true;\n      return list;\n    }\n    return makeList(list._origin, list._capacity, list._level, newRoot, newTail);\n  }\n\n  function updateVNode(node, ownerID, level, index, value, didAlter) {\n    var idx = (index >>> level) & MASK;\n    var nodeHas = node && idx < node.array.length;\n    if (!nodeHas && value === undefined) {\n      return node;\n    }\n\n    var newNode;\n\n    if (level > 0) {\n      var lowerNode = node && node.array[idx];\n      var newLowerNode = updateVNode(lowerNode, ownerID, level - SHIFT, index, value, didAlter);\n      if (newLowerNode === lowerNode) {\n        return node;\n      }\n      newNode = editableVNode(node, ownerID);\n      newNode.array[idx] = newLowerNode;\n      return newNode;\n    }\n\n    if (nodeHas && node.array[idx] === value) {\n      return node;\n    }\n\n    SetRef(didAlter);\n\n    newNode = editableVNode(node, ownerID);\n    if (value === undefined && idx === newNode.array.length - 1) {\n      newNode.array.pop();\n    } else {\n      newNode.array[idx] = value;\n    }\n    return newNode;\n  }\n\n  function editableVNode(node, ownerID) {\n    if (ownerID && node && ownerID === node.ownerID) {\n      return node;\n    }\n    return new VNode(node ? node.array.slice() : [], ownerID);\n  }\n\n  function listNodeFor(list, rawIndex) {\n    if (rawIndex >= getTailOffset(list._capacity)) {\n      return list._tail;\n    }\n    if (rawIndex < 1 << (list._level + SHIFT)) {\n      var node = list._root;\n      var level = list._level;\n      while (node && level > 0) {\n        node = node.array[(rawIndex >>> level) & MASK];\n        level -= SHIFT;\n      }\n      return node;\n    }\n  }\n\n  function setListBounds(list, begin, end) {\n    // Sanitize begin & end using this shorthand for ToInt32(argument)\n    // http://www.ecma-international.org/ecma-262/6.0/#sec-toint32\n    if (begin !== undefined) {\n      begin = begin | 0;\n    }\n    if (end !== undefined) {\n      end = end | 0;\n    }\n    var owner = list.__ownerID || new OwnerID();\n    var oldOrigin = list._origin;\n    var oldCapacity = list._capacity;\n    var newOrigin = oldOrigin + begin;\n    var newCapacity = end === undefined ? oldCapacity : end < 0 ? oldCapacity + end : oldOrigin + end;\n    if (newOrigin === oldOrigin && newCapacity === oldCapacity) {\n      return list;\n    }\n\n    // If it's going to end after it starts, it's empty.\n    if (newOrigin >= newCapacity) {\n      return list.clear();\n    }\n\n    var newLevel = list._level;\n    var newRoot = list._root;\n\n    // New origin might need creating a higher root.\n    var offsetShift = 0;\n    while (newOrigin + offsetShift < 0) {\n      newRoot = new VNode(newRoot && newRoot.array.length ? [undefined, newRoot] : [], owner);\n      newLevel += SHIFT;\n      offsetShift += 1 << newLevel;\n    }\n    if (offsetShift) {\n      newOrigin += offsetShift;\n      oldOrigin += offsetShift;\n      newCapacity += offsetShift;\n      oldCapacity += offsetShift;\n    }\n\n    var oldTailOffset = getTailOffset(oldCapacity);\n    var newTailOffset = getTailOffset(newCapacity);\n\n    // New size might need creating a higher root.\n    while (newTailOffset >= 1 << (newLevel + SHIFT)) {\n      newRoot = new VNode(newRoot && newRoot.array.length ? [newRoot] : [], owner);\n      newLevel += SHIFT;\n    }\n\n    // Locate or create the new tail.\n    var oldTail = list._tail;\n    var newTail = newTailOffset < oldTailOffset ?\n      listNodeFor(list, newCapacity - 1) :\n      newTailOffset > oldTailOffset ? new VNode([], owner) : oldTail;\n\n    // Merge Tail into tree.\n    if (oldTail && newTailOffset > oldTailOffset && newOrigin < oldCapacity && oldTail.array.length) {\n      newRoot = editableVNode(newRoot, owner);\n      var node = newRoot;\n      for (var level = newLevel; level > SHIFT; level -= SHIFT) {\n        var idx = (oldTailOffset >>> level) & MASK;\n        node = node.array[idx] = editableVNode(node.array[idx], owner);\n      }\n      node.array[(oldTailOffset >>> SHIFT) & MASK] = oldTail;\n    }\n\n    // If the size has been reduced, there's a chance the tail needs to be trimmed.\n    if (newCapacity < oldCapacity) {\n      newTail = newTail && newTail.removeAfter(owner, 0, newCapacity);\n    }\n\n    // If the new origin is within the tail, then we do not need a root.\n    if (newOrigin >= newTailOffset) {\n      newOrigin -= newTailOffset;\n      newCapacity -= newTailOffset;\n      newLevel = SHIFT;\n      newRoot = null;\n      newTail = newTail && newTail.removeBefore(owner, 0, newOrigin);\n\n    // Otherwise, if the root has been trimmed, garbage collect.\n    } else if (newOrigin > oldOrigin || newTailOffset < oldTailOffset) {\n      offsetShift = 0;\n\n      // Identify the new top root node of the subtree of the old root.\n      while (newRoot) {\n        var beginIndex = (newOrigin >>> newLevel) & MASK;\n        if (beginIndex !== (newTailOffset >>> newLevel) & MASK) {\n          break;\n        }\n        if (beginIndex) {\n          offsetShift += (1 << newLevel) * beginIndex;\n        }\n        newLevel -= SHIFT;\n        newRoot = newRoot.array[beginIndex];\n      }\n\n      // Trim the new sides of the new root.\n      if (newRoot && newOrigin > oldOrigin) {\n        newRoot = newRoot.removeBefore(owner, newLevel, newOrigin - offsetShift);\n      }\n      if (newRoot && newTailOffset < oldTailOffset) {\n        newRoot = newRoot.removeAfter(owner, newLevel, newTailOffset - offsetShift);\n      }\n      if (offsetShift) {\n        newOrigin -= offsetShift;\n        newCapacity -= offsetShift;\n      }\n    }\n\n    if (list.__ownerID) {\n      list.size = newCapacity - newOrigin;\n      list._origin = newOrigin;\n      list._capacity = newCapacity;\n      list._level = newLevel;\n      list._root = newRoot;\n      list._tail = newTail;\n      list.__hash = undefined;\n      list.__altered = true;\n      return list;\n    }\n    return makeList(newOrigin, newCapacity, newLevel, newRoot, newTail);\n  }\n\n  function mergeIntoListWith(list, merger, iterables) {\n    var iters = [];\n    var maxSize = 0;\n    for (var ii = 0; ii < iterables.length; ii++) {\n      var value = iterables[ii];\n      var iter = IndexedIterable(value);\n      if (iter.size > maxSize) {\n        maxSize = iter.size;\n      }\n      if (!isIterable(value)) {\n        iter = iter.map(function(v ) {return fromJS(v)});\n      }\n      iters.push(iter);\n    }\n    if (maxSize > list.size) {\n      list = list.setSize(maxSize);\n    }\n    return mergeIntoCollectionWith(list, merger, iters);\n  }\n\n  function getTailOffset(size) {\n    return size < SIZE ? 0 : (((size - 1) >>> SHIFT) << SHIFT);\n  }\n\n  createClass(OrderedMap, Map);\n\n    // @pragma Construction\n\n    function OrderedMap(value) {\n      return value === null || value === undefined ? emptyOrderedMap() :\n        isOrderedMap(value) ? value :\n        emptyOrderedMap().withMutations(function(map ) {\n          var iter = KeyedIterable(value);\n          assertNotInfinite(iter.size);\n          iter.forEach(function(v, k)  {return map.set(k, v)});\n        });\n    }\n\n    OrderedMap.of = function(/*...values*/) {\n      return this(arguments);\n    };\n\n    OrderedMap.prototype.toString = function() {\n      return this.__toString('OrderedMap {', '}');\n    };\n\n    // @pragma Access\n\n    OrderedMap.prototype.get = function(k, notSetValue) {\n      var index = this._map.get(k);\n      return index !== undefined ? this._list.get(index)[1] : notSetValue;\n    };\n\n    // @pragma Modification\n\n    OrderedMap.prototype.clear = function() {\n      if (this.size === 0) {\n        return this;\n      }\n      if (this.__ownerID) {\n        this.size = 0;\n        this._map.clear();\n        this._list.clear();\n        return this;\n      }\n      return emptyOrderedMap();\n    };\n\n    OrderedMap.prototype.set = function(k, v) {\n      return updateOrderedMap(this, k, v);\n    };\n\n    OrderedMap.prototype.remove = function(k) {\n      return updateOrderedMap(this, k, NOT_SET);\n    };\n\n    OrderedMap.prototype.wasAltered = function() {\n      return this._map.wasAltered() || this._list.wasAltered();\n    };\n\n    OrderedMap.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      return this._list.__iterate(\n        function(entry ) {return entry && fn(entry[1], entry[0], this$0)},\n        reverse\n      );\n    };\n\n    OrderedMap.prototype.__iterator = function(type, reverse) {\n      return this._list.fromEntrySeq().__iterator(type, reverse);\n    };\n\n    OrderedMap.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      var newMap = this._map.__ensureOwner(ownerID);\n      var newList = this._list.__ensureOwner(ownerID);\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        this._map = newMap;\n        this._list = newList;\n        return this;\n      }\n      return makeOrderedMap(newMap, newList, ownerID, this.__hash);\n    };\n\n\n  function isOrderedMap(maybeOrderedMap) {\n    return isMap(maybeOrderedMap) && isOrdered(maybeOrderedMap);\n  }\n\n  OrderedMap.isOrderedMap = isOrderedMap;\n\n  OrderedMap.prototype[IS_ORDERED_SENTINEL] = true;\n  OrderedMap.prototype[DELETE] = OrderedMap.prototype.remove;\n\n\n\n  function makeOrderedMap(map, list, ownerID, hash) {\n    var omap = Object.create(OrderedMap.prototype);\n    omap.size = map ? map.size : 0;\n    omap._map = map;\n    omap._list = list;\n    omap.__ownerID = ownerID;\n    omap.__hash = hash;\n    return omap;\n  }\n\n  var EMPTY_ORDERED_MAP;\n  function emptyOrderedMap() {\n    return EMPTY_ORDERED_MAP || (EMPTY_ORDERED_MAP = makeOrderedMap(emptyMap(), emptyList()));\n  }\n\n  function updateOrderedMap(omap, k, v) {\n    var map = omap._map;\n    var list = omap._list;\n    var i = map.get(k);\n    var has = i !== undefined;\n    var newMap;\n    var newList;\n    if (v === NOT_SET) { // removed\n      if (!has) {\n        return omap;\n      }\n      if (list.size >= SIZE && list.size >= map.size * 2) {\n        newList = list.filter(function(entry, idx)  {return entry !== undefined && i !== idx});\n        newMap = newList.toKeyedSeq().map(function(entry ) {return entry[0]}).flip().toMap();\n        if (omap.__ownerID) {\n          newMap.__ownerID = newList.__ownerID = omap.__ownerID;\n        }\n      } else {\n        newMap = map.remove(k);\n        newList = i === list.size - 1 ? list.pop() : list.set(i, undefined);\n      }\n    } else {\n      if (has) {\n        if (v === list.get(i)[1]) {\n          return omap;\n        }\n        newMap = map;\n        newList = list.set(i, [k, v]);\n      } else {\n        newMap = map.set(k, list.size);\n        newList = list.set(list.size, [k, v]);\n      }\n    }\n    if (omap.__ownerID) {\n      omap.size = newMap.size;\n      omap._map = newMap;\n      omap._list = newList;\n      omap.__hash = undefined;\n      return omap;\n    }\n    return makeOrderedMap(newMap, newList);\n  }\n\n  createClass(ToKeyedSequence, KeyedSeq);\n    function ToKeyedSequence(indexed, useKeys) {\n      this._iter = indexed;\n      this._useKeys = useKeys;\n      this.size = indexed.size;\n    }\n\n    ToKeyedSequence.prototype.get = function(key, notSetValue) {\n      return this._iter.get(key, notSetValue);\n    };\n\n    ToKeyedSequence.prototype.has = function(key) {\n      return this._iter.has(key);\n    };\n\n    ToKeyedSequence.prototype.valueSeq = function() {\n      return this._iter.valueSeq();\n    };\n\n    ToKeyedSequence.prototype.reverse = function() {var this$0 = this;\n      var reversedSequence = reverseFactory(this, true);\n      if (!this._useKeys) {\n        reversedSequence.valueSeq = function()  {return this$0._iter.toSeq().reverse()};\n      }\n      return reversedSequence;\n    };\n\n    ToKeyedSequence.prototype.map = function(mapper, context) {var this$0 = this;\n      var mappedSequence = mapFactory(this, mapper, context);\n      if (!this._useKeys) {\n        mappedSequence.valueSeq = function()  {return this$0._iter.toSeq().map(mapper, context)};\n      }\n      return mappedSequence;\n    };\n\n    ToKeyedSequence.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      var ii;\n      return this._iter.__iterate(\n        this._useKeys ?\n          function(v, k)  {return fn(v, k, this$0)} :\n          ((ii = reverse ? resolveSize(this) : 0),\n            function(v ) {return fn(v, reverse ? --ii : ii++, this$0)}),\n        reverse\n      );\n    };\n\n    ToKeyedSequence.prototype.__iterator = function(type, reverse) {\n      if (this._useKeys) {\n        return this._iter.__iterator(type, reverse);\n      }\n      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n      var ii = reverse ? resolveSize(this) : 0;\n      return new Iterator(function()  {\n        var step = iterator.next();\n        return step.done ? step :\n          iteratorValue(type, reverse ? --ii : ii++, step.value, step);\n      });\n    };\n\n  ToKeyedSequence.prototype[IS_ORDERED_SENTINEL] = true;\n\n\n  createClass(ToIndexedSequence, IndexedSeq);\n    function ToIndexedSequence(iter) {\n      this._iter = iter;\n      this.size = iter.size;\n    }\n\n    ToIndexedSequence.prototype.includes = function(value) {\n      return this._iter.includes(value);\n    };\n\n    ToIndexedSequence.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      var iterations = 0;\n      return this._iter.__iterate(function(v ) {return fn(v, iterations++, this$0)}, reverse);\n    };\n\n    ToIndexedSequence.prototype.__iterator = function(type, reverse) {\n      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n      var iterations = 0;\n      return new Iterator(function()  {\n        var step = iterator.next();\n        return step.done ? step :\n          iteratorValue(type, iterations++, step.value, step)\n      });\n    };\n\n\n\n  createClass(ToSetSequence, SetSeq);\n    function ToSetSequence(iter) {\n      this._iter = iter;\n      this.size = iter.size;\n    }\n\n    ToSetSequence.prototype.has = function(key) {\n      return this._iter.includes(key);\n    };\n\n    ToSetSequence.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      return this._iter.__iterate(function(v ) {return fn(v, v, this$0)}, reverse);\n    };\n\n    ToSetSequence.prototype.__iterator = function(type, reverse) {\n      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n      return new Iterator(function()  {\n        var step = iterator.next();\n        return step.done ? step :\n          iteratorValue(type, step.value, step.value, step);\n      });\n    };\n\n\n\n  createClass(FromEntriesSequence, KeyedSeq);\n    function FromEntriesSequence(entries) {\n      this._iter = entries;\n      this.size = entries.size;\n    }\n\n    FromEntriesSequence.prototype.entrySeq = function() {\n      return this._iter.toSeq();\n    };\n\n    FromEntriesSequence.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      return this._iter.__iterate(function(entry ) {\n        // Check if entry exists first so array access doesn't throw for holes\n        // in the parent iteration.\n        if (entry) {\n          validateEntry(entry);\n          var indexedIterable = isIterable(entry);\n          return fn(\n            indexedIterable ? entry.get(1) : entry[1],\n            indexedIterable ? entry.get(0) : entry[0],\n            this$0\n          );\n        }\n      }, reverse);\n    };\n\n    FromEntriesSequence.prototype.__iterator = function(type, reverse) {\n      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n      return new Iterator(function()  {\n        while (true) {\n          var step = iterator.next();\n          if (step.done) {\n            return step;\n          }\n          var entry = step.value;\n          // Check if entry exists first so array access doesn't throw for holes\n          // in the parent iteration.\n          if (entry) {\n            validateEntry(entry);\n            var indexedIterable = isIterable(entry);\n            return iteratorValue(\n              type,\n              indexedIterable ? entry.get(0) : entry[0],\n              indexedIterable ? entry.get(1) : entry[1],\n              step\n            );\n          }\n        }\n      });\n    };\n\n\n  ToIndexedSequence.prototype.cacheResult =\n  ToKeyedSequence.prototype.cacheResult =\n  ToSetSequence.prototype.cacheResult =\n  FromEntriesSequence.prototype.cacheResult =\n    cacheResultThrough;\n\n\n  function flipFactory(iterable) {\n    var flipSequence = makeSequence(iterable);\n    flipSequence._iter = iterable;\n    flipSequence.size = iterable.size;\n    flipSequence.flip = function()  {return iterable};\n    flipSequence.reverse = function () {\n      var reversedSequence = iterable.reverse.apply(this); // super.reverse()\n      reversedSequence.flip = function()  {return iterable.reverse()};\n      return reversedSequence;\n    };\n    flipSequence.has = function(key ) {return iterable.includes(key)};\n    flipSequence.includes = function(key ) {return iterable.has(key)};\n    flipSequence.cacheResult = cacheResultThrough;\n    flipSequence.__iterateUncached = function (fn, reverse) {var this$0 = this;\n      return iterable.__iterate(function(v, k)  {return fn(k, v, this$0) !== false}, reverse);\n    }\n    flipSequence.__iteratorUncached = function(type, reverse) {\n      if (type === ITERATE_ENTRIES) {\n        var iterator = iterable.__iterator(type, reverse);\n        return new Iterator(function()  {\n          var step = iterator.next();\n          if (!step.done) {\n            var k = step.value[0];\n            step.value[0] = step.value[1];\n            step.value[1] = k;\n          }\n          return step;\n        });\n      }\n      return iterable.__iterator(\n        type === ITERATE_VALUES ? ITERATE_KEYS : ITERATE_VALUES,\n        reverse\n      );\n    }\n    return flipSequence;\n  }\n\n\n  function mapFactory(iterable, mapper, context) {\n    var mappedSequence = makeSequence(iterable);\n    mappedSequence.size = iterable.size;\n    mappedSequence.has = function(key ) {return iterable.has(key)};\n    mappedSequence.get = function(key, notSetValue)  {\n      var v = iterable.get(key, NOT_SET);\n      return v === NOT_SET ?\n        notSetValue :\n        mapper.call(context, v, key, iterable);\n    };\n    mappedSequence.__iterateUncached = function (fn, reverse) {var this$0 = this;\n      return iterable.__iterate(\n        function(v, k, c)  {return fn(mapper.call(context, v, k, c), k, this$0) !== false},\n        reverse\n      );\n    }\n    mappedSequence.__iteratorUncached = function (type, reverse) {\n      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n      return new Iterator(function()  {\n        var step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n        var entry = step.value;\n        var key = entry[0];\n        return iteratorValue(\n          type,\n          key,\n          mapper.call(context, entry[1], key, iterable),\n          step\n        );\n      });\n    }\n    return mappedSequence;\n  }\n\n\n  function reverseFactory(iterable, useKeys) {\n    var reversedSequence = makeSequence(iterable);\n    reversedSequence._iter = iterable;\n    reversedSequence.size = iterable.size;\n    reversedSequence.reverse = function()  {return iterable};\n    if (iterable.flip) {\n      reversedSequence.flip = function () {\n        var flipSequence = flipFactory(iterable);\n        flipSequence.reverse = function()  {return iterable.flip()};\n        return flipSequence;\n      };\n    }\n    reversedSequence.get = function(key, notSetValue) \n      {return iterable.get(useKeys ? key : -1 - key, notSetValue)};\n    reversedSequence.has = function(key )\n      {return iterable.has(useKeys ? key : -1 - key)};\n    reversedSequence.includes = function(value ) {return iterable.includes(value)};\n    reversedSequence.cacheResult = cacheResultThrough;\n    reversedSequence.__iterate = function (fn, reverse) {var this$0 = this;\n      return iterable.__iterate(function(v, k)  {return fn(v, k, this$0)}, !reverse);\n    };\n    reversedSequence.__iterator =\n      function(type, reverse)  {return iterable.__iterator(type, !reverse)};\n    return reversedSequence;\n  }\n\n\n  function filterFactory(iterable, predicate, context, useKeys) {\n    var filterSequence = makeSequence(iterable);\n    if (useKeys) {\n      filterSequence.has = function(key ) {\n        var v = iterable.get(key, NOT_SET);\n        return v !== NOT_SET && !!predicate.call(context, v, key, iterable);\n      };\n      filterSequence.get = function(key, notSetValue)  {\n        var v = iterable.get(key, NOT_SET);\n        return v !== NOT_SET && predicate.call(context, v, key, iterable) ?\n          v : notSetValue;\n      };\n    }\n    filterSequence.__iterateUncached = function (fn, reverse) {var this$0 = this;\n      var iterations = 0;\n      iterable.__iterate(function(v, k, c)  {\n        if (predicate.call(context, v, k, c)) {\n          iterations++;\n          return fn(v, useKeys ? k : iterations - 1, this$0);\n        }\n      }, reverse);\n      return iterations;\n    };\n    filterSequence.__iteratorUncached = function (type, reverse) {\n      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n      var iterations = 0;\n      return new Iterator(function()  {\n        while (true) {\n          var step = iterator.next();\n          if (step.done) {\n            return step;\n          }\n          var entry = step.value;\n          var key = entry[0];\n          var value = entry[1];\n          if (predicate.call(context, value, key, iterable)) {\n            return iteratorValue(type, useKeys ? key : iterations++, value, step);\n          }\n        }\n      });\n    }\n    return filterSequence;\n  }\n\n\n  function countByFactory(iterable, grouper, context) {\n    var groups = Map().asMutable();\n    iterable.__iterate(function(v, k)  {\n      groups.update(\n        grouper.call(context, v, k, iterable),\n        0,\n        function(a ) {return a + 1}\n      );\n    });\n    return groups.asImmutable();\n  }\n\n\n  function groupByFactory(iterable, grouper, context) {\n    var isKeyedIter = isKeyed(iterable);\n    var groups = (isOrdered(iterable) ? OrderedMap() : Map()).asMutable();\n    iterable.__iterate(function(v, k)  {\n      groups.update(\n        grouper.call(context, v, k, iterable),\n        function(a ) {return (a = a || [], a.push(isKeyedIter ? [k, v] : v), a)}\n      );\n    });\n    var coerce = iterableClass(iterable);\n    return groups.map(function(arr ) {return reify(iterable, coerce(arr))});\n  }\n\n\n  function sliceFactory(iterable, begin, end, useKeys) {\n    var originalSize = iterable.size;\n\n    // Sanitize begin & end using this shorthand for ToInt32(argument)\n    // http://www.ecma-international.org/ecma-262/6.0/#sec-toint32\n    if (begin !== undefined) {\n      begin = begin | 0;\n    }\n    if (end !== undefined) {\n      if (end === Infinity) {\n        end = originalSize;\n      } else {\n        end = end | 0;\n      }\n    }\n\n    if (wholeSlice(begin, end, originalSize)) {\n      return iterable;\n    }\n\n    var resolvedBegin = resolveBegin(begin, originalSize);\n    var resolvedEnd = resolveEnd(end, originalSize);\n\n    // begin or end will be NaN if they were provided as negative numbers and\n    // this iterable's size is unknown. In that case, cache first so there is\n    // a known size and these do not resolve to NaN.\n    if (resolvedBegin !== resolvedBegin || resolvedEnd !== resolvedEnd) {\n      return sliceFactory(iterable.toSeq().cacheResult(), begin, end, useKeys);\n    }\n\n    // Note: resolvedEnd is undefined when the original sequence's length is\n    // unknown and this slice did not supply an end and should contain all\n    // elements after resolvedBegin.\n    // In that case, resolvedSize will be NaN and sliceSize will remain undefined.\n    var resolvedSize = resolvedEnd - resolvedBegin;\n    var sliceSize;\n    if (resolvedSize === resolvedSize) {\n      sliceSize = resolvedSize < 0 ? 0 : resolvedSize;\n    }\n\n    var sliceSeq = makeSequence(iterable);\n\n    // If iterable.size is undefined, the size of the realized sliceSeq is\n    // unknown at this point unless the number of items to slice is 0\n    sliceSeq.size = sliceSize === 0 ? sliceSize : iterable.size && sliceSize || undefined;\n\n    if (!useKeys && isSeq(iterable) && sliceSize >= 0) {\n      sliceSeq.get = function (index, notSetValue) {\n        index = wrapIndex(this, index);\n        return index >= 0 && index < sliceSize ?\n          iterable.get(index + resolvedBegin, notSetValue) :\n          notSetValue;\n      }\n    }\n\n    sliceSeq.__iterateUncached = function(fn, reverse) {var this$0 = this;\n      if (sliceSize === 0) {\n        return 0;\n      }\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var skipped = 0;\n      var isSkipping = true;\n      var iterations = 0;\n      iterable.__iterate(function(v, k)  {\n        if (!(isSkipping && (isSkipping = skipped++ < resolvedBegin))) {\n          iterations++;\n          return fn(v, useKeys ? k : iterations - 1, this$0) !== false &&\n                 iterations !== sliceSize;\n        }\n      });\n      return iterations;\n    };\n\n    sliceSeq.__iteratorUncached = function(type, reverse) {\n      if (sliceSize !== 0 && reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      // Don't bother instantiating parent iterator if taking 0.\n      var iterator = sliceSize !== 0 && iterable.__iterator(type, reverse);\n      var skipped = 0;\n      var iterations = 0;\n      return new Iterator(function()  {\n        while (skipped++ < resolvedBegin) {\n          iterator.next();\n        }\n        if (++iterations > sliceSize) {\n          return iteratorDone();\n        }\n        var step = iterator.next();\n        if (useKeys || type === ITERATE_VALUES) {\n          return step;\n        } else if (type === ITERATE_KEYS) {\n          return iteratorValue(type, iterations - 1, undefined, step);\n        } else {\n          return iteratorValue(type, iterations - 1, step.value[1], step);\n        }\n      });\n    }\n\n    return sliceSeq;\n  }\n\n\n  function takeWhileFactory(iterable, predicate, context) {\n    var takeSequence = makeSequence(iterable);\n    takeSequence.__iterateUncached = function(fn, reverse) {var this$0 = this;\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var iterations = 0;\n      iterable.__iterate(function(v, k, c) \n        {return predicate.call(context, v, k, c) && ++iterations && fn(v, k, this$0)}\n      );\n      return iterations;\n    };\n    takeSequence.__iteratorUncached = function(type, reverse) {var this$0 = this;\n      if (reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n      var iterating = true;\n      return new Iterator(function()  {\n        if (!iterating) {\n          return iteratorDone();\n        }\n        var step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n        var entry = step.value;\n        var k = entry[0];\n        var v = entry[1];\n        if (!predicate.call(context, v, k, this$0)) {\n          iterating = false;\n          return iteratorDone();\n        }\n        return type === ITERATE_ENTRIES ? step :\n          iteratorValue(type, k, v, step);\n      });\n    };\n    return takeSequence;\n  }\n\n\n  function skipWhileFactory(iterable, predicate, context, useKeys) {\n    var skipSequence = makeSequence(iterable);\n    skipSequence.__iterateUncached = function (fn, reverse) {var this$0 = this;\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var isSkipping = true;\n      var iterations = 0;\n      iterable.__iterate(function(v, k, c)  {\n        if (!(isSkipping && (isSkipping = predicate.call(context, v, k, c)))) {\n          iterations++;\n          return fn(v, useKeys ? k : iterations - 1, this$0);\n        }\n      });\n      return iterations;\n    };\n    skipSequence.__iteratorUncached = function(type, reverse) {var this$0 = this;\n      if (reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n      var skipping = true;\n      var iterations = 0;\n      return new Iterator(function()  {\n        var step, k, v;\n        do {\n          step = iterator.next();\n          if (step.done) {\n            if (useKeys || type === ITERATE_VALUES) {\n              return step;\n            } else if (type === ITERATE_KEYS) {\n              return iteratorValue(type, iterations++, undefined, step);\n            } else {\n              return iteratorValue(type, iterations++, step.value[1], step);\n            }\n          }\n          var entry = step.value;\n          k = entry[0];\n          v = entry[1];\n          skipping && (skipping = predicate.call(context, v, k, this$0));\n        } while (skipping);\n        return type === ITERATE_ENTRIES ? step :\n          iteratorValue(type, k, v, step);\n      });\n    };\n    return skipSequence;\n  }\n\n\n  function concatFactory(iterable, values) {\n    var isKeyedIterable = isKeyed(iterable);\n    var iters = [iterable].concat(values).map(function(v ) {\n      if (!isIterable(v)) {\n        v = isKeyedIterable ?\n          keyedSeqFromValue(v) :\n          indexedSeqFromValue(Array.isArray(v) ? v : [v]);\n      } else if (isKeyedIterable) {\n        v = KeyedIterable(v);\n      }\n      return v;\n    }).filter(function(v ) {return v.size !== 0});\n\n    if (iters.length === 0) {\n      return iterable;\n    }\n\n    if (iters.length === 1) {\n      var singleton = iters[0];\n      if (singleton === iterable ||\n          isKeyedIterable && isKeyed(singleton) ||\n          isIndexed(iterable) && isIndexed(singleton)) {\n        return singleton;\n      }\n    }\n\n    var concatSeq = new ArraySeq(iters);\n    if (isKeyedIterable) {\n      concatSeq = concatSeq.toKeyedSeq();\n    } else if (!isIndexed(iterable)) {\n      concatSeq = concatSeq.toSetSeq();\n    }\n    concatSeq = concatSeq.flatten(true);\n    concatSeq.size = iters.reduce(\n      function(sum, seq)  {\n        if (sum !== undefined) {\n          var size = seq.size;\n          if (size !== undefined) {\n            return sum + size;\n          }\n        }\n      },\n      0\n    );\n    return concatSeq;\n  }\n\n\n  function flattenFactory(iterable, depth, useKeys) {\n    var flatSequence = makeSequence(iterable);\n    flatSequence.__iterateUncached = function(fn, reverse) {\n      var iterations = 0;\n      var stopped = false;\n      function flatDeep(iter, currentDepth) {var this$0 = this;\n        iter.__iterate(function(v, k)  {\n          if ((!depth || currentDepth < depth) && isIterable(v)) {\n            flatDeep(v, currentDepth + 1);\n          } else if (fn(v, useKeys ? k : iterations++, this$0) === false) {\n            stopped = true;\n          }\n          return !stopped;\n        }, reverse);\n      }\n      flatDeep(iterable, 0);\n      return iterations;\n    }\n    flatSequence.__iteratorUncached = function(type, reverse) {\n      var iterator = iterable.__iterator(type, reverse);\n      var stack = [];\n      var iterations = 0;\n      return new Iterator(function()  {\n        while (iterator) {\n          var step = iterator.next();\n          if (step.done !== false) {\n            iterator = stack.pop();\n            continue;\n          }\n          var v = step.value;\n          if (type === ITERATE_ENTRIES) {\n            v = v[1];\n          }\n          if ((!depth || stack.length < depth) && isIterable(v)) {\n            stack.push(iterator);\n            iterator = v.__iterator(type, reverse);\n          } else {\n            return useKeys ? step : iteratorValue(type, iterations++, v, step);\n          }\n        }\n        return iteratorDone();\n      });\n    }\n    return flatSequence;\n  }\n\n\n  function flatMapFactory(iterable, mapper, context) {\n    var coerce = iterableClass(iterable);\n    return iterable.toSeq().map(\n      function(v, k)  {return coerce(mapper.call(context, v, k, iterable))}\n    ).flatten(true);\n  }\n\n\n  function interposeFactory(iterable, separator) {\n    var interposedSequence = makeSequence(iterable);\n    interposedSequence.size = iterable.size && iterable.size * 2 -1;\n    interposedSequence.__iterateUncached = function(fn, reverse) {var this$0 = this;\n      var iterations = 0;\n      iterable.__iterate(function(v, k) \n        {return (!iterations || fn(separator, iterations++, this$0) !== false) &&\n        fn(v, iterations++, this$0) !== false},\n        reverse\n      );\n      return iterations;\n    };\n    interposedSequence.__iteratorUncached = function(type, reverse) {\n      var iterator = iterable.__iterator(ITERATE_VALUES, reverse);\n      var iterations = 0;\n      var step;\n      return new Iterator(function()  {\n        if (!step || iterations % 2) {\n          step = iterator.next();\n          if (step.done) {\n            return step;\n          }\n        }\n        return iterations % 2 ?\n          iteratorValue(type, iterations++, separator) :\n          iteratorValue(type, iterations++, step.value, step);\n      });\n    };\n    return interposedSequence;\n  }\n\n\n  function sortFactory(iterable, comparator, mapper) {\n    if (!comparator) {\n      comparator = defaultComparator;\n    }\n    var isKeyedIterable = isKeyed(iterable);\n    var index = 0;\n    var entries = iterable.toSeq().map(\n      function(v, k)  {return [k, v, index++, mapper ? mapper(v, k, iterable) : v]}\n    ).toArray();\n    entries.sort(function(a, b)  {return comparator(a[3], b[3]) || a[2] - b[2]}).forEach(\n      isKeyedIterable ?\n      function(v, i)  { entries[i].length = 2; } :\n      function(v, i)  { entries[i] = v[1]; }\n    );\n    return isKeyedIterable ? KeyedSeq(entries) :\n      isIndexed(iterable) ? IndexedSeq(entries) :\n      SetSeq(entries);\n  }\n\n\n  function maxFactory(iterable, comparator, mapper) {\n    if (!comparator) {\n      comparator = defaultComparator;\n    }\n    if (mapper) {\n      var entry = iterable.toSeq()\n        .map(function(v, k)  {return [v, mapper(v, k, iterable)]})\n        .reduce(function(a, b)  {return maxCompare(comparator, a[1], b[1]) ? b : a});\n      return entry && entry[0];\n    } else {\n      return iterable.reduce(function(a, b)  {return maxCompare(comparator, a, b) ? b : a});\n    }\n  }\n\n  function maxCompare(comparator, a, b) {\n    var comp = comparator(b, a);\n    // b is considered the new max if the comparator declares them equal, but\n    // they are not equal and b is in fact a nullish value.\n    return (comp === 0 && b !== a && (b === undefined || b === null || b !== b)) || comp > 0;\n  }\n\n\n  function zipWithFactory(keyIter, zipper, iters) {\n    var zipSequence = makeSequence(keyIter);\n    zipSequence.size = new ArraySeq(iters).map(function(i ) {return i.size}).min();\n    // Note: this a generic base implementation of __iterate in terms of\n    // __iterator which may be more generically useful in the future.\n    zipSequence.__iterate = function(fn, reverse) {\n      /* generic:\n      var iterator = this.__iterator(ITERATE_ENTRIES, reverse);\n      var step;\n      var iterations = 0;\n      while (!(step = iterator.next()).done) {\n        iterations++;\n        if (fn(step.value[1], step.value[0], this) === false) {\n          break;\n        }\n      }\n      return iterations;\n      */\n      // indexed:\n      var iterator = this.__iterator(ITERATE_VALUES, reverse);\n      var step;\n      var iterations = 0;\n      while (!(step = iterator.next()).done) {\n        if (fn(step.value, iterations++, this) === false) {\n          break;\n        }\n      }\n      return iterations;\n    };\n    zipSequence.__iteratorUncached = function(type, reverse) {\n      var iterators = iters.map(function(i )\n        {return (i = Iterable(i), getIterator(reverse ? i.reverse() : i))}\n      );\n      var iterations = 0;\n      var isDone = false;\n      return new Iterator(function()  {\n        var steps;\n        if (!isDone) {\n          steps = iterators.map(function(i ) {return i.next()});\n          isDone = steps.some(function(s ) {return s.done});\n        }\n        if (isDone) {\n          return iteratorDone();\n        }\n        return iteratorValue(\n          type,\n          iterations++,\n          zipper.apply(null, steps.map(function(s ) {return s.value}))\n        );\n      });\n    };\n    return zipSequence\n  }\n\n\n  // #pragma Helper Functions\n\n  function reify(iter, seq) {\n    return isSeq(iter) ? seq : iter.constructor(seq);\n  }\n\n  function validateEntry(entry) {\n    if (entry !== Object(entry)) {\n      throw new TypeError('Expected [K, V] tuple: ' + entry);\n    }\n  }\n\n  function resolveSize(iter) {\n    assertNotInfinite(iter.size);\n    return ensureSize(iter);\n  }\n\n  function iterableClass(iterable) {\n    return isKeyed(iterable) ? KeyedIterable :\n      isIndexed(iterable) ? IndexedIterable :\n      SetIterable;\n  }\n\n  function makeSequence(iterable) {\n    return Object.create(\n      (\n        isKeyed(iterable) ? KeyedSeq :\n        isIndexed(iterable) ? IndexedSeq :\n        SetSeq\n      ).prototype\n    );\n  }\n\n  function cacheResultThrough() {\n    if (this._iter.cacheResult) {\n      this._iter.cacheResult();\n      this.size = this._iter.size;\n      return this;\n    } else {\n      return Seq.prototype.cacheResult.call(this);\n    }\n  }\n\n  function defaultComparator(a, b) {\n    return a > b ? 1 : a < b ? -1 : 0;\n  }\n\n  function forceIterator(keyPath) {\n    var iter = getIterator(keyPath);\n    if (!iter) {\n      // Array might not be iterable in this environment, so we need a fallback\n      // to our wrapped type.\n      if (!isArrayLike(keyPath)) {\n        throw new TypeError('Expected iterable or array-like: ' + keyPath);\n      }\n      iter = getIterator(Iterable(keyPath));\n    }\n    return iter;\n  }\n\n  createClass(Record, KeyedCollection);\n\n    function Record(defaultValues, name) {\n      var hasInitialized;\n\n      var RecordType = function Record(values) {\n        if (values instanceof RecordType) {\n          return values;\n        }\n        if (!(this instanceof RecordType)) {\n          return new RecordType(values);\n        }\n        if (!hasInitialized) {\n          hasInitialized = true;\n          var keys = Object.keys(defaultValues);\n          setProps(RecordTypePrototype, keys);\n          RecordTypePrototype.size = keys.length;\n          RecordTypePrototype._name = name;\n          RecordTypePrototype._keys = keys;\n          RecordTypePrototype._defaultValues = defaultValues;\n        }\n        this._map = Map(values);\n      };\n\n      var RecordTypePrototype = RecordType.prototype = Object.create(RecordPrototype);\n      RecordTypePrototype.constructor = RecordType;\n\n      return RecordType;\n    }\n\n    Record.prototype.toString = function() {\n      return this.__toString(recordName(this) + ' {', '}');\n    };\n\n    // @pragma Access\n\n    Record.prototype.has = function(k) {\n      return this._defaultValues.hasOwnProperty(k);\n    };\n\n    Record.prototype.get = function(k, notSetValue) {\n      if (!this.has(k)) {\n        return notSetValue;\n      }\n      var defaultVal = this._defaultValues[k];\n      return this._map ? this._map.get(k, defaultVal) : defaultVal;\n    };\n\n    // @pragma Modification\n\n    Record.prototype.clear = function() {\n      if (this.__ownerID) {\n        this._map && this._map.clear();\n        return this;\n      }\n      var RecordType = this.constructor;\n      return RecordType._empty || (RecordType._empty = makeRecord(this, emptyMap()));\n    };\n\n    Record.prototype.set = function(k, v) {\n      if (!this.has(k)) {\n        throw new Error('Cannot set unknown key \"' + k + '\" on ' + recordName(this));\n      }\n      if (this._map && !this._map.has(k)) {\n        var defaultVal = this._defaultValues[k];\n        if (v === defaultVal) {\n          return this;\n        }\n      }\n      var newMap = this._map && this._map.set(k, v);\n      if (this.__ownerID || newMap === this._map) {\n        return this;\n      }\n      return makeRecord(this, newMap);\n    };\n\n    Record.prototype.remove = function(k) {\n      if (!this.has(k)) {\n        return this;\n      }\n      var newMap = this._map && this._map.remove(k);\n      if (this.__ownerID || newMap === this._map) {\n        return this;\n      }\n      return makeRecord(this, newMap);\n    };\n\n    Record.prototype.wasAltered = function() {\n      return this._map.wasAltered();\n    };\n\n    Record.prototype.__iterator = function(type, reverse) {var this$0 = this;\n      return KeyedIterable(this._defaultValues).map(function(_, k)  {return this$0.get(k)}).__iterator(type, reverse);\n    };\n\n    Record.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      return KeyedIterable(this._defaultValues).map(function(_, k)  {return this$0.get(k)}).__iterate(fn, reverse);\n    };\n\n    Record.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      var newMap = this._map && this._map.__ensureOwner(ownerID);\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        this._map = newMap;\n        return this;\n      }\n      return makeRecord(this, newMap, ownerID);\n    };\n\n\n  var RecordPrototype = Record.prototype;\n  RecordPrototype[DELETE] = RecordPrototype.remove;\n  RecordPrototype.deleteIn =\n  RecordPrototype.removeIn = MapPrototype.removeIn;\n  RecordPrototype.merge = MapPrototype.merge;\n  RecordPrototype.mergeWith = MapPrototype.mergeWith;\n  RecordPrototype.mergeIn = MapPrototype.mergeIn;\n  RecordPrototype.mergeDeep = MapPrototype.mergeDeep;\n  RecordPrototype.mergeDeepWith = MapPrototype.mergeDeepWith;\n  RecordPrototype.mergeDeepIn = MapPrototype.mergeDeepIn;\n  RecordPrototype.setIn = MapPrototype.setIn;\n  RecordPrototype.update = MapPrototype.update;\n  RecordPrototype.updateIn = MapPrototype.updateIn;\n  RecordPrototype.withMutations = MapPrototype.withMutations;\n  RecordPrototype.asMutable = MapPrototype.asMutable;\n  RecordPrototype.asImmutable = MapPrototype.asImmutable;\n\n\n  function makeRecord(likeRecord, map, ownerID) {\n    var record = Object.create(Object.getPrototypeOf(likeRecord));\n    record._map = map;\n    record.__ownerID = ownerID;\n    return record;\n  }\n\n  function recordName(record) {\n    return record._name || record.constructor.name || 'Record';\n  }\n\n  function setProps(prototype, names) {\n    try {\n      names.forEach(setProp.bind(undefined, prototype));\n    } catch (error) {\n      // Object.defineProperty failed. Probably IE8.\n    }\n  }\n\n  function setProp(prototype, name) {\n    Object.defineProperty(prototype, name, {\n      get: function() {\n        return this.get(name);\n      },\n      set: function(value) {\n        invariant(this.__ownerID, 'Cannot set on an immutable record.');\n        this.set(name, value);\n      }\n    });\n  }\n\n  createClass(Set, SetCollection);\n\n    // @pragma Construction\n\n    function Set(value) {\n      return value === null || value === undefined ? emptySet() :\n        isSet(value) && !isOrdered(value) ? value :\n        emptySet().withMutations(function(set ) {\n          var iter = SetIterable(value);\n          assertNotInfinite(iter.size);\n          iter.forEach(function(v ) {return set.add(v)});\n        });\n    }\n\n    Set.of = function(/*...values*/) {\n      return this(arguments);\n    };\n\n    Set.fromKeys = function(value) {\n      return this(KeyedIterable(value).keySeq());\n    };\n\n    Set.prototype.toString = function() {\n      return this.__toString('Set {', '}');\n    };\n\n    // @pragma Access\n\n    Set.prototype.has = function(value) {\n      return this._map.has(value);\n    };\n\n    // @pragma Modification\n\n    Set.prototype.add = function(value) {\n      return updateSet(this, this._map.set(value, true));\n    };\n\n    Set.prototype.remove = function(value) {\n      return updateSet(this, this._map.remove(value));\n    };\n\n    Set.prototype.clear = function() {\n      return updateSet(this, this._map.clear());\n    };\n\n    // @pragma Composition\n\n    Set.prototype.union = function() {var iters = SLICE$0.call(arguments, 0);\n      iters = iters.filter(function(x ) {return x.size !== 0});\n      if (iters.length === 0) {\n        return this;\n      }\n      if (this.size === 0 && !this.__ownerID && iters.length === 1) {\n        return this.constructor(iters[0]);\n      }\n      return this.withMutations(function(set ) {\n        for (var ii = 0; ii < iters.length; ii++) {\n          SetIterable(iters[ii]).forEach(function(value ) {return set.add(value)});\n        }\n      });\n    };\n\n    Set.prototype.intersect = function() {var iters = SLICE$0.call(arguments, 0);\n      if (iters.length === 0) {\n        return this;\n      }\n      iters = iters.map(function(iter ) {return SetIterable(iter)});\n      var originalSet = this;\n      return this.withMutations(function(set ) {\n        originalSet.forEach(function(value ) {\n          if (!iters.every(function(iter ) {return iter.includes(value)})) {\n            set.remove(value);\n          }\n        });\n      });\n    };\n\n    Set.prototype.subtract = function() {var iters = SLICE$0.call(arguments, 0);\n      if (iters.length === 0) {\n        return this;\n      }\n      iters = iters.map(function(iter ) {return SetIterable(iter)});\n      var originalSet = this;\n      return this.withMutations(function(set ) {\n        originalSet.forEach(function(value ) {\n          if (iters.some(function(iter ) {return iter.includes(value)})) {\n            set.remove(value);\n          }\n        });\n      });\n    };\n\n    Set.prototype.merge = function() {\n      return this.union.apply(this, arguments);\n    };\n\n    Set.prototype.mergeWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n      return this.union.apply(this, iters);\n    };\n\n    Set.prototype.sort = function(comparator) {\n      // Late binding\n      return OrderedSet(sortFactory(this, comparator));\n    };\n\n    Set.prototype.sortBy = function(mapper, comparator) {\n      // Late binding\n      return OrderedSet(sortFactory(this, comparator, mapper));\n    };\n\n    Set.prototype.wasAltered = function() {\n      return this._map.wasAltered();\n    };\n\n    Set.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      return this._map.__iterate(function(_, k)  {return fn(k, k, this$0)}, reverse);\n    };\n\n    Set.prototype.__iterator = function(type, reverse) {\n      return this._map.map(function(_, k)  {return k}).__iterator(type, reverse);\n    };\n\n    Set.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      var newMap = this._map.__ensureOwner(ownerID);\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        this._map = newMap;\n        return this;\n      }\n      return this.__make(newMap, ownerID);\n    };\n\n\n  function isSet(maybeSet) {\n    return !!(maybeSet && maybeSet[IS_SET_SENTINEL]);\n  }\n\n  Set.isSet = isSet;\n\n  var IS_SET_SENTINEL = '@@__IMMUTABLE_SET__@@';\n\n  var SetPrototype = Set.prototype;\n  SetPrototype[IS_SET_SENTINEL] = true;\n  SetPrototype[DELETE] = SetPrototype.remove;\n  SetPrototype.mergeDeep = SetPrototype.merge;\n  SetPrototype.mergeDeepWith = SetPrototype.mergeWith;\n  SetPrototype.withMutations = MapPrototype.withMutations;\n  SetPrototype.asMutable = MapPrototype.asMutable;\n  SetPrototype.asImmutable = MapPrototype.asImmutable;\n\n  SetPrototype.__empty = emptySet;\n  SetPrototype.__make = makeSet;\n\n  function updateSet(set, newMap) {\n    if (set.__ownerID) {\n      set.size = newMap.size;\n      set._map = newMap;\n      return set;\n    }\n    return newMap === set._map ? set :\n      newMap.size === 0 ? set.__empty() :\n      set.__make(newMap);\n  }\n\n  function makeSet(map, ownerID) {\n    var set = Object.create(SetPrototype);\n    set.size = map ? map.size : 0;\n    set._map = map;\n    set.__ownerID = ownerID;\n    return set;\n  }\n\n  var EMPTY_SET;\n  function emptySet() {\n    return EMPTY_SET || (EMPTY_SET = makeSet(emptyMap()));\n  }\n\n  createClass(OrderedSet, Set);\n\n    // @pragma Construction\n\n    function OrderedSet(value) {\n      return value === null || value === undefined ? emptyOrderedSet() :\n        isOrderedSet(value) ? value :\n        emptyOrderedSet().withMutations(function(set ) {\n          var iter = SetIterable(value);\n          assertNotInfinite(iter.size);\n          iter.forEach(function(v ) {return set.add(v)});\n        });\n    }\n\n    OrderedSet.of = function(/*...values*/) {\n      return this(arguments);\n    };\n\n    OrderedSet.fromKeys = function(value) {\n      return this(KeyedIterable(value).keySeq());\n    };\n\n    OrderedSet.prototype.toString = function() {\n      return this.__toString('OrderedSet {', '}');\n    };\n\n\n  function isOrderedSet(maybeOrderedSet) {\n    return isSet(maybeOrderedSet) && isOrdered(maybeOrderedSet);\n  }\n\n  OrderedSet.isOrderedSet = isOrderedSet;\n\n  var OrderedSetPrototype = OrderedSet.prototype;\n  OrderedSetPrototype[IS_ORDERED_SENTINEL] = true;\n\n  OrderedSetPrototype.__empty = emptyOrderedSet;\n  OrderedSetPrototype.__make = makeOrderedSet;\n\n  function makeOrderedSet(map, ownerID) {\n    var set = Object.create(OrderedSetPrototype);\n    set.size = map ? map.size : 0;\n    set._map = map;\n    set.__ownerID = ownerID;\n    return set;\n  }\n\n  var EMPTY_ORDERED_SET;\n  function emptyOrderedSet() {\n    return EMPTY_ORDERED_SET || (EMPTY_ORDERED_SET = makeOrderedSet(emptyOrderedMap()));\n  }\n\n  createClass(Stack, IndexedCollection);\n\n    // @pragma Construction\n\n    function Stack(value) {\n      return value === null || value === undefined ? emptyStack() :\n        isStack(value) ? value :\n        emptyStack().unshiftAll(value);\n    }\n\n    Stack.of = function(/*...values*/) {\n      return this(arguments);\n    };\n\n    Stack.prototype.toString = function() {\n      return this.__toString('Stack [', ']');\n    };\n\n    // @pragma Access\n\n    Stack.prototype.get = function(index, notSetValue) {\n      var head = this._head;\n      index = wrapIndex(this, index);\n      while (head && index--) {\n        head = head.next;\n      }\n      return head ? head.value : notSetValue;\n    };\n\n    Stack.prototype.peek = function() {\n      return this._head && this._head.value;\n    };\n\n    // @pragma Modification\n\n    Stack.prototype.push = function(/*...values*/) {\n      if (arguments.length === 0) {\n        return this;\n      }\n      var newSize = this.size + arguments.length;\n      var head = this._head;\n      for (var ii = arguments.length - 1; ii >= 0; ii--) {\n        head = {\n          value: arguments[ii],\n          next: head\n        };\n      }\n      if (this.__ownerID) {\n        this.size = newSize;\n        this._head = head;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return makeStack(newSize, head);\n    };\n\n    Stack.prototype.pushAll = function(iter) {\n      iter = IndexedIterable(iter);\n      if (iter.size === 0) {\n        return this;\n      }\n      assertNotInfinite(iter.size);\n      var newSize = this.size;\n      var head = this._head;\n      iter.reverse().forEach(function(value ) {\n        newSize++;\n        head = {\n          value: value,\n          next: head\n        };\n      });\n      if (this.__ownerID) {\n        this.size = newSize;\n        this._head = head;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return makeStack(newSize, head);\n    };\n\n    Stack.prototype.pop = function() {\n      return this.slice(1);\n    };\n\n    Stack.prototype.unshift = function(/*...values*/) {\n      return this.push.apply(this, arguments);\n    };\n\n    Stack.prototype.unshiftAll = function(iter) {\n      return this.pushAll(iter);\n    };\n\n    Stack.prototype.shift = function() {\n      return this.pop.apply(this, arguments);\n    };\n\n    Stack.prototype.clear = function() {\n      if (this.size === 0) {\n        return this;\n      }\n      if (this.__ownerID) {\n        this.size = 0;\n        this._head = undefined;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return emptyStack();\n    };\n\n    Stack.prototype.slice = function(begin, end) {\n      if (wholeSlice(begin, end, this.size)) {\n        return this;\n      }\n      var resolvedBegin = resolveBegin(begin, this.size);\n      var resolvedEnd = resolveEnd(end, this.size);\n      if (resolvedEnd !== this.size) {\n        // super.slice(begin, end);\n        return IndexedCollection.prototype.slice.call(this, begin, end);\n      }\n      var newSize = this.size - resolvedBegin;\n      var head = this._head;\n      while (resolvedBegin--) {\n        head = head.next;\n      }\n      if (this.__ownerID) {\n        this.size = newSize;\n        this._head = head;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return makeStack(newSize, head);\n    };\n\n    // @pragma Mutability\n\n    Stack.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        this.__altered = false;\n        return this;\n      }\n      return makeStack(this.size, this._head, ownerID, this.__hash);\n    };\n\n    // @pragma Iteration\n\n    Stack.prototype.__iterate = function(fn, reverse) {\n      if (reverse) {\n        return this.reverse().__iterate(fn);\n      }\n      var iterations = 0;\n      var node = this._head;\n      while (node) {\n        if (fn(node.value, iterations++, this) === false) {\n          break;\n        }\n        node = node.next;\n      }\n      return iterations;\n    };\n\n    Stack.prototype.__iterator = function(type, reverse) {\n      if (reverse) {\n        return this.reverse().__iterator(type);\n      }\n      var iterations = 0;\n      var node = this._head;\n      return new Iterator(function()  {\n        if (node) {\n          var value = node.value;\n          node = node.next;\n          return iteratorValue(type, iterations++, value);\n        }\n        return iteratorDone();\n      });\n    };\n\n\n  function isStack(maybeStack) {\n    return !!(maybeStack && maybeStack[IS_STACK_SENTINEL]);\n  }\n\n  Stack.isStack = isStack;\n\n  var IS_STACK_SENTINEL = '@@__IMMUTABLE_STACK__@@';\n\n  var StackPrototype = Stack.prototype;\n  StackPrototype[IS_STACK_SENTINEL] = true;\n  StackPrototype.withMutations = MapPrototype.withMutations;\n  StackPrototype.asMutable = MapPrototype.asMutable;\n  StackPrototype.asImmutable = MapPrototype.asImmutable;\n  StackPrototype.wasAltered = MapPrototype.wasAltered;\n\n\n  function makeStack(size, head, ownerID, hash) {\n    var map = Object.create(StackPrototype);\n    map.size = size;\n    map._head = head;\n    map.__ownerID = ownerID;\n    map.__hash = hash;\n    map.__altered = false;\n    return map;\n  }\n\n  var EMPTY_STACK;\n  function emptyStack() {\n    return EMPTY_STACK || (EMPTY_STACK = makeStack(0));\n  }\n\n  /**\n   * Contributes additional methods to a constructor\n   */\n  function mixin(ctor, methods) {\n    var keyCopier = function(key ) { ctor.prototype[key] = methods[key]; };\n    Object.keys(methods).forEach(keyCopier);\n    Object.getOwnPropertySymbols &&\n      Object.getOwnPropertySymbols(methods).forEach(keyCopier);\n    return ctor;\n  }\n\n  Iterable.Iterator = Iterator;\n\n  mixin(Iterable, {\n\n    // ### Conversion to other types\n\n    toArray: function() {\n      assertNotInfinite(this.size);\n      var array = new Array(this.size || 0);\n      this.valueSeq().__iterate(function(v, i)  { array[i] = v; });\n      return array;\n    },\n\n    toIndexedSeq: function() {\n      return new ToIndexedSequence(this);\n    },\n\n    toJS: function() {\n      return this.toSeq().map(\n        function(value ) {return value && typeof value.toJS === 'function' ? value.toJS() : value}\n      ).__toJS();\n    },\n\n    toJSON: function() {\n      return this.toSeq().map(\n        function(value ) {return value && typeof value.toJSON === 'function' ? value.toJSON() : value}\n      ).__toJS();\n    },\n\n    toKeyedSeq: function() {\n      return new ToKeyedSequence(this, true);\n    },\n\n    toMap: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return Map(this.toKeyedSeq());\n    },\n\n    toObject: function() {\n      assertNotInfinite(this.size);\n      var object = {};\n      this.__iterate(function(v, k)  { object[k] = v; });\n      return object;\n    },\n\n    toOrderedMap: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return OrderedMap(this.toKeyedSeq());\n    },\n\n    toOrderedSet: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return OrderedSet(isKeyed(this) ? this.valueSeq() : this);\n    },\n\n    toSet: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return Set(isKeyed(this) ? this.valueSeq() : this);\n    },\n\n    toSetSeq: function() {\n      return new ToSetSequence(this);\n    },\n\n    toSeq: function() {\n      return isIndexed(this) ? this.toIndexedSeq() :\n        isKeyed(this) ? this.toKeyedSeq() :\n        this.toSetSeq();\n    },\n\n    toStack: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return Stack(isKeyed(this) ? this.valueSeq() : this);\n    },\n\n    toList: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return List(isKeyed(this) ? this.valueSeq() : this);\n    },\n\n\n    // ### Common JavaScript methods and properties\n\n    toString: function() {\n      return '[Iterable]';\n    },\n\n    __toString: function(head, tail) {\n      if (this.size === 0) {\n        return head + tail;\n      }\n      return head + ' ' + this.toSeq().map(this.__toStringMapper).join(', ') + ' ' + tail;\n    },\n\n\n    // ### ES6 Collection methods (ES6 Array and Map)\n\n    concat: function() {var values = SLICE$0.call(arguments, 0);\n      return reify(this, concatFactory(this, values));\n    },\n\n    includes: function(searchValue) {\n      return this.some(function(value ) {return is(value, searchValue)});\n    },\n\n    entries: function() {\n      return this.__iterator(ITERATE_ENTRIES);\n    },\n\n    every: function(predicate, context) {\n      assertNotInfinite(this.size);\n      var returnValue = true;\n      this.__iterate(function(v, k, c)  {\n        if (!predicate.call(context, v, k, c)) {\n          returnValue = false;\n          return false;\n        }\n      });\n      return returnValue;\n    },\n\n    filter: function(predicate, context) {\n      return reify(this, filterFactory(this, predicate, context, true));\n    },\n\n    find: function(predicate, context, notSetValue) {\n      var entry = this.findEntry(predicate, context);\n      return entry ? entry[1] : notSetValue;\n    },\n\n    forEach: function(sideEffect, context) {\n      assertNotInfinite(this.size);\n      return this.__iterate(context ? sideEffect.bind(context) : sideEffect);\n    },\n\n    join: function(separator) {\n      assertNotInfinite(this.size);\n      separator = separator !== undefined ? '' + separator : ',';\n      var joined = '';\n      var isFirst = true;\n      this.__iterate(function(v ) {\n        isFirst ? (isFirst = false) : (joined += separator);\n        joined += v !== null && v !== undefined ? v.toString() : '';\n      });\n      return joined;\n    },\n\n    keys: function() {\n      return this.__iterator(ITERATE_KEYS);\n    },\n\n    map: function(mapper, context) {\n      return reify(this, mapFactory(this, mapper, context));\n    },\n\n    reduce: function(reducer, initialReduction, context) {\n      assertNotInfinite(this.size);\n      var reduction;\n      var useFirst;\n      if (arguments.length < 2) {\n        useFirst = true;\n      } else {\n        reduction = initialReduction;\n      }\n      this.__iterate(function(v, k, c)  {\n        if (useFirst) {\n          useFirst = false;\n          reduction = v;\n        } else {\n          reduction = reducer.call(context, reduction, v, k, c);\n        }\n      });\n      return reduction;\n    },\n\n    reduceRight: function(reducer, initialReduction, context) {\n      var reversed = this.toKeyedSeq().reverse();\n      return reversed.reduce.apply(reversed, arguments);\n    },\n\n    reverse: function() {\n      return reify(this, reverseFactory(this, true));\n    },\n\n    slice: function(begin, end) {\n      return reify(this, sliceFactory(this, begin, end, true));\n    },\n\n    some: function(predicate, context) {\n      return !this.every(not(predicate), context);\n    },\n\n    sort: function(comparator) {\n      return reify(this, sortFactory(this, comparator));\n    },\n\n    values: function() {\n      return this.__iterator(ITERATE_VALUES);\n    },\n\n\n    // ### More sequential methods\n\n    butLast: function() {\n      return this.slice(0, -1);\n    },\n\n    isEmpty: function() {\n      return this.size !== undefined ? this.size === 0 : !this.some(function()  {return true});\n    },\n\n    count: function(predicate, context) {\n      return ensureSize(\n        predicate ? this.toSeq().filter(predicate, context) : this\n      );\n    },\n\n    countBy: function(grouper, context) {\n      return countByFactory(this, grouper, context);\n    },\n\n    equals: function(other) {\n      return deepEqual(this, other);\n    },\n\n    entrySeq: function() {\n      var iterable = this;\n      if (iterable._cache) {\n        // We cache as an entries array, so we can just return the cache!\n        return new ArraySeq(iterable._cache);\n      }\n      var entriesSequence = iterable.toSeq().map(entryMapper).toIndexedSeq();\n      entriesSequence.fromEntrySeq = function()  {return iterable.toSeq()};\n      return entriesSequence;\n    },\n\n    filterNot: function(predicate, context) {\n      return this.filter(not(predicate), context);\n    },\n\n    findEntry: function(predicate, context, notSetValue) {\n      var found = notSetValue;\n      this.__iterate(function(v, k, c)  {\n        if (predicate.call(context, v, k, c)) {\n          found = [k, v];\n          return false;\n        }\n      });\n      return found;\n    },\n\n    findKey: function(predicate, context) {\n      var entry = this.findEntry(predicate, context);\n      return entry && entry[0];\n    },\n\n    findLast: function(predicate, context, notSetValue) {\n      return this.toKeyedSeq().reverse().find(predicate, context, notSetValue);\n    },\n\n    findLastEntry: function(predicate, context, notSetValue) {\n      return this.toKeyedSeq().reverse().findEntry(predicate, context, notSetValue);\n    },\n\n    findLastKey: function(predicate, context) {\n      return this.toKeyedSeq().reverse().findKey(predicate, context);\n    },\n\n    first: function() {\n      return this.find(returnTrue);\n    },\n\n    flatMap: function(mapper, context) {\n      return reify(this, flatMapFactory(this, mapper, context));\n    },\n\n    flatten: function(depth) {\n      return reify(this, flattenFactory(this, depth, true));\n    },\n\n    fromEntrySeq: function() {\n      return new FromEntriesSequence(this);\n    },\n\n    get: function(searchKey, notSetValue) {\n      return this.find(function(_, key)  {return is(key, searchKey)}, undefined, notSetValue);\n    },\n\n    getIn: function(searchKeyPath, notSetValue) {\n      var nested = this;\n      // Note: in an ES6 environment, we would prefer:\n      // for (var key of searchKeyPath) {\n      var iter = forceIterator(searchKeyPath);\n      var step;\n      while (!(step = iter.next()).done) {\n        var key = step.value;\n        nested = nested && nested.get ? nested.get(key, NOT_SET) : NOT_SET;\n        if (nested === NOT_SET) {\n          return notSetValue;\n        }\n      }\n      return nested;\n    },\n\n    groupBy: function(grouper, context) {\n      return groupByFactory(this, grouper, context);\n    },\n\n    has: function(searchKey) {\n      return this.get(searchKey, NOT_SET) !== NOT_SET;\n    },\n\n    hasIn: function(searchKeyPath) {\n      return this.getIn(searchKeyPath, NOT_SET) !== NOT_SET;\n    },\n\n    isSubset: function(iter) {\n      iter = typeof iter.includes === 'function' ? iter : Iterable(iter);\n      return this.every(function(value ) {return iter.includes(value)});\n    },\n\n    isSuperset: function(iter) {\n      iter = typeof iter.isSubset === 'function' ? iter : Iterable(iter);\n      return iter.isSubset(this);\n    },\n\n    keyOf: function(searchValue) {\n      return this.findKey(function(value ) {return is(value, searchValue)});\n    },\n\n    keySeq: function() {\n      return this.toSeq().map(keyMapper).toIndexedSeq();\n    },\n\n    last: function() {\n      return this.toSeq().reverse().first();\n    },\n\n    lastKeyOf: function(searchValue) {\n      return this.toKeyedSeq().reverse().keyOf(searchValue);\n    },\n\n    max: function(comparator) {\n      return maxFactory(this, comparator);\n    },\n\n    maxBy: function(mapper, comparator) {\n      return maxFactory(this, comparator, mapper);\n    },\n\n    min: function(comparator) {\n      return maxFactory(this, comparator ? neg(comparator) : defaultNegComparator);\n    },\n\n    minBy: function(mapper, comparator) {\n      return maxFactory(this, comparator ? neg(comparator) : defaultNegComparator, mapper);\n    },\n\n    rest: function() {\n      return this.slice(1);\n    },\n\n    skip: function(amount) {\n      return this.slice(Math.max(0, amount));\n    },\n\n    skipLast: function(amount) {\n      return reify(this, this.toSeq().reverse().skip(amount).reverse());\n    },\n\n    skipWhile: function(predicate, context) {\n      return reify(this, skipWhileFactory(this, predicate, context, true));\n    },\n\n    skipUntil: function(predicate, context) {\n      return this.skipWhile(not(predicate), context);\n    },\n\n    sortBy: function(mapper, comparator) {\n      return reify(this, sortFactory(this, comparator, mapper));\n    },\n\n    take: function(amount) {\n      return this.slice(0, Math.max(0, amount));\n    },\n\n    takeLast: function(amount) {\n      return reify(this, this.toSeq().reverse().take(amount).reverse());\n    },\n\n    takeWhile: function(predicate, context) {\n      return reify(this, takeWhileFactory(this, predicate, context));\n    },\n\n    takeUntil: function(predicate, context) {\n      return this.takeWhile(not(predicate), context);\n    },\n\n    valueSeq: function() {\n      return this.toIndexedSeq();\n    },\n\n\n    // ### Hashable Object\n\n    hashCode: function() {\n      return this.__hash || (this.__hash = hashIterable(this));\n    }\n\n\n    // ### Internal\n\n    // abstract __iterate(fn, reverse)\n\n    // abstract __iterator(type, reverse)\n  });\n\n  // var IS_ITERABLE_SENTINEL = '@@__IMMUTABLE_ITERABLE__@@';\n  // var IS_KEYED_SENTINEL = '@@__IMMUTABLE_KEYED__@@';\n  // var IS_INDEXED_SENTINEL = '@@__IMMUTABLE_INDEXED__@@';\n  // var IS_ORDERED_SENTINEL = '@@__IMMUTABLE_ORDERED__@@';\n\n  var IterablePrototype = Iterable.prototype;\n  IterablePrototype[IS_ITERABLE_SENTINEL] = true;\n  IterablePrototype[ITERATOR_SYMBOL] = IterablePrototype.values;\n  IterablePrototype.__toJS = IterablePrototype.toArray;\n  IterablePrototype.__toStringMapper = quoteString;\n  IterablePrototype.inspect =\n  IterablePrototype.toSource = function() { return this.toString(); };\n  IterablePrototype.chain = IterablePrototype.flatMap;\n  IterablePrototype.contains = IterablePrototype.includes;\n\n  mixin(KeyedIterable, {\n\n    // ### More sequential methods\n\n    flip: function() {\n      return reify(this, flipFactory(this));\n    },\n\n    mapEntries: function(mapper, context) {var this$0 = this;\n      var iterations = 0;\n      return reify(this,\n        this.toSeq().map(\n          function(v, k)  {return mapper.call(context, [k, v], iterations++, this$0)}\n        ).fromEntrySeq()\n      );\n    },\n\n    mapKeys: function(mapper, context) {var this$0 = this;\n      return reify(this,\n        this.toSeq().flip().map(\n          function(k, v)  {return mapper.call(context, k, v, this$0)}\n        ).flip()\n      );\n    }\n\n  });\n\n  var KeyedIterablePrototype = KeyedIterable.prototype;\n  KeyedIterablePrototype[IS_KEYED_SENTINEL] = true;\n  KeyedIterablePrototype[ITERATOR_SYMBOL] = IterablePrototype.entries;\n  KeyedIterablePrototype.__toJS = IterablePrototype.toObject;\n  KeyedIterablePrototype.__toStringMapper = function(v, k)  {return JSON.stringify(k) + ': ' + quoteString(v)};\n\n\n\n  mixin(IndexedIterable, {\n\n    // ### Conversion to other types\n\n    toKeyedSeq: function() {\n      return new ToKeyedSequence(this, false);\n    },\n\n\n    // ### ES6 Collection methods (ES6 Array and Map)\n\n    filter: function(predicate, context) {\n      return reify(this, filterFactory(this, predicate, context, false));\n    },\n\n    findIndex: function(predicate, context) {\n      var entry = this.findEntry(predicate, context);\n      return entry ? entry[0] : -1;\n    },\n\n    indexOf: function(searchValue) {\n      var key = this.keyOf(searchValue);\n      return key === undefined ? -1 : key;\n    },\n\n    lastIndexOf: function(searchValue) {\n      var key = this.lastKeyOf(searchValue);\n      return key === undefined ? -1 : key;\n    },\n\n    reverse: function() {\n      return reify(this, reverseFactory(this, false));\n    },\n\n    slice: function(begin, end) {\n      return reify(this, sliceFactory(this, begin, end, false));\n    },\n\n    splice: function(index, removeNum /*, ...values*/) {\n      var numArgs = arguments.length;\n      removeNum = Math.max(removeNum | 0, 0);\n      if (numArgs === 0 || (numArgs === 2 && !removeNum)) {\n        return this;\n      }\n      // If index is negative, it should resolve relative to the size of the\n      // collection. However size may be expensive to compute if not cached, so\n      // only call count() if the number is in fact negative.\n      index = resolveBegin(index, index < 0 ? this.count() : this.size);\n      var spliced = this.slice(0, index);\n      return reify(\n        this,\n        numArgs === 1 ?\n          spliced :\n          spliced.concat(arrCopy(arguments, 2), this.slice(index + removeNum))\n      );\n    },\n\n\n    // ### More collection methods\n\n    findLastIndex: function(predicate, context) {\n      var entry = this.findLastEntry(predicate, context);\n      return entry ? entry[0] : -1;\n    },\n\n    first: function() {\n      return this.get(0);\n    },\n\n    flatten: function(depth) {\n      return reify(this, flattenFactory(this, depth, false));\n    },\n\n    get: function(index, notSetValue) {\n      index = wrapIndex(this, index);\n      return (index < 0 || (this.size === Infinity ||\n          (this.size !== undefined && index > this.size))) ?\n        notSetValue :\n        this.find(function(_, key)  {return key === index}, undefined, notSetValue);\n    },\n\n    has: function(index) {\n      index = wrapIndex(this, index);\n      return index >= 0 && (this.size !== undefined ?\n        this.size === Infinity || index < this.size :\n        this.indexOf(index) !== -1\n      );\n    },\n\n    interpose: function(separator) {\n      return reify(this, interposeFactory(this, separator));\n    },\n\n    interleave: function(/*...iterables*/) {\n      var iterables = [this].concat(arrCopy(arguments));\n      var zipped = zipWithFactory(this.toSeq(), IndexedSeq.of, iterables);\n      var interleaved = zipped.flatten(true);\n      if (zipped.size) {\n        interleaved.size = zipped.size * iterables.length;\n      }\n      return reify(this, interleaved);\n    },\n\n    keySeq: function() {\n      return Range(0, this.size);\n    },\n\n    last: function() {\n      return this.get(-1);\n    },\n\n    skipWhile: function(predicate, context) {\n      return reify(this, skipWhileFactory(this, predicate, context, false));\n    },\n\n    zip: function(/*, ...iterables */) {\n      var iterables = [this].concat(arrCopy(arguments));\n      return reify(this, zipWithFactory(this, defaultZipper, iterables));\n    },\n\n    zipWith: function(zipper/*, ...iterables */) {\n      var iterables = arrCopy(arguments);\n      iterables[0] = this;\n      return reify(this, zipWithFactory(this, zipper, iterables));\n    }\n\n  });\n\n  IndexedIterable.prototype[IS_INDEXED_SENTINEL] = true;\n  IndexedIterable.prototype[IS_ORDERED_SENTINEL] = true;\n\n\n\n  mixin(SetIterable, {\n\n    // ### ES6 Collection methods (ES6 Array and Map)\n\n    get: function(value, notSetValue) {\n      return this.has(value) ? value : notSetValue;\n    },\n\n    includes: function(value) {\n      return this.has(value);\n    },\n\n\n    // ### More sequential methods\n\n    keySeq: function() {\n      return this.valueSeq();\n    }\n\n  });\n\n  SetIterable.prototype.has = IterablePrototype.includes;\n  SetIterable.prototype.contains = SetIterable.prototype.includes;\n\n\n  // Mixin subclasses\n\n  mixin(KeyedSeq, KeyedIterable.prototype);\n  mixin(IndexedSeq, IndexedIterable.prototype);\n  mixin(SetSeq, SetIterable.prototype);\n\n  mixin(KeyedCollection, KeyedIterable.prototype);\n  mixin(IndexedCollection, IndexedIterable.prototype);\n  mixin(SetCollection, SetIterable.prototype);\n\n\n  // #pragma Helper functions\n\n  function keyMapper(v, k) {\n    return k;\n  }\n\n  function entryMapper(v, k) {\n    return [k, v];\n  }\n\n  function not(predicate) {\n    return function() {\n      return !predicate.apply(this, arguments);\n    }\n  }\n\n  function neg(predicate) {\n    return function() {\n      return -predicate.apply(this, arguments);\n    }\n  }\n\n  function quoteString(value) {\n    return typeof value === 'string' ? JSON.stringify(value) : String(value);\n  }\n\n  function defaultZipper() {\n    return arrCopy(arguments);\n  }\n\n  function defaultNegComparator(a, b) {\n    return a < b ? 1 : a > b ? -1 : 0;\n  }\n\n  function hashIterable(iterable) {\n    if (iterable.size === Infinity) {\n      return 0;\n    }\n    var ordered = isOrdered(iterable);\n    var keyed = isKeyed(iterable);\n    var h = ordered ? 1 : 0;\n    var size = iterable.__iterate(\n      keyed ?\n        ordered ?\n          function(v, k)  { h = 31 * h + hashMerge(hash(v), hash(k)) | 0; } :\n          function(v, k)  { h = h + hashMerge(hash(v), hash(k)) | 0; } :\n        ordered ?\n          function(v ) { h = 31 * h + hash(v) | 0; } :\n          function(v ) { h = h + hash(v) | 0; }\n    );\n    return murmurHashOfSize(size, h);\n  }\n\n  function murmurHashOfSize(size, h) {\n    h = imul(h, 0xCC9E2D51);\n    h = imul(h << 15 | h >>> -15, 0x1B873593);\n    h = imul(h << 13 | h >>> -13, 5);\n    h = (h + 0xE6546B64 | 0) ^ size;\n    h = imul(h ^ h >>> 16, 0x85EBCA6B);\n    h = imul(h ^ h >>> 13, 0xC2B2AE35);\n    h = smi(h ^ h >>> 16);\n    return h;\n  }\n\n  function hashMerge(a, b) {\n    return a ^ b + 0x9E3779B9 + (a << 6) + (a >> 2) | 0; // int\n  }\n\n  var Immutable = {\n\n    Iterable: Iterable,\n\n    Seq: Seq,\n    Collection: Collection,\n    Map: Map,\n    OrderedMap: OrderedMap,\n    List: List,\n    Stack: Stack,\n    Set: Set,\n    OrderedSet: OrderedSet,\n\n    Record: Record,\n    Range: Range,\n    Repeat: Repeat,\n\n    is: is,\n    fromJS: fromJS\n\n  };\n\n  // Immutable doesn't want you to use `Iterable.length` but that ship has sailed. Removes a lengthy console warning.\n  (function () {\n    try {\n      Object.defineProperty(IterablePrototype, 'length', {\n        get: function () {\n          return this.size;\n        }\n      });\n    } catch (e) {}\n  })();\n\n  return Immutable;\n}));","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","'use es6';\n// eslint-disable-next-line hubspot-dev/no-confusing-browser-globals\nexport default self.location;\n","'use es6';\n\nexport default chrome;\n","export interface PortalIdParserOptions {\n  preserveGlobalId?: boolean;\n  regex?: RegExp;\n  reparse?: boolean;\n}\n\nexport default {\n  id: null as unknown as number,\n  pathRegex: /^\\/(?:[A-Za-z0-9-_]*)\\/(\\d+)(?:\\/|$)/,\n  queryParamRegex: /(?:\\?|&)portalid=(\\d+)/i,\n  getPortalIdFromPath(regex?: RegExp) {\n    if (document) {\n      if (regex == null) {\n        regex = this.pathRegex;\n      }\n      return this.parsePortalIdFromString(document.location.pathname, regex);\n    }\n  },\n  getPortalIdFromQueryParam() {\n    if (document) {\n      return this.parsePortalIdFromString(\n        document.location.search,\n        this.queryParamRegex\n      );\n    }\n  },\n  parsePortalIdFromString(string: string, regex: RegExp) {\n    const idRe = regex.exec(string);\n    const portalId = idRe != null ? idRe[1] : undefined;\n    return portalId ? +portalId : undefined;\n  },\n  get(options?: PortalIdParserOptions) {\n    if (options == null) {\n      options = {};\n    }\n    if (this.id && !options.reparse) {\n      return this.id;\n    }\n    const id =\n      this.getPortalIdFromPath(options.regex) ||\n      this.getPortalIdFromQueryParam();\n    if (!options.preserveGlobalId) {\n      if (window.hubspot == null) {\n        window.hubspot = {};\n      }\n      if (window.hubspot.portal == null) {\n        window.hubspot.portal = {};\n      }\n      if (window.hubspot.portal.id == null) {\n        window.hubspot.portal.id = id;\n      }\n      if (id) {\n        this.id = id;\n      }\n    }\n    return id;\n  },\n};\n","'use es6';\n\nexport const open = window.open;\n\nexport const chrome = window.chrome;\n","type $tsMigrateAny = any;\n// from- /HubSpot/conversations-error-reporting/static/js/error-reporting/getExtraErrorData.js\n// @fwesterhoff 2019-12-26\nconst MAX_STRING_LENGTH = 2000;\nconst KEYS_TO_OMIT = [\n  // added by IE\n  'number',\n  'description',\n\n  // added by safari\n  'line',\n  'column',\n];\n\n/**\n * @description\n * Extract useful metadata from error actions provided that they are primitive values.\n * Strings are truncated at 2000 characters.\n *\n * @param {Error} error A JavaScript Exception\n * @returns {Object} Additional data defined on the exception\n */\nexport const getExtraErrorData = (error: $tsMigrateAny) => {\n  if (!error || typeof error !== 'object') return null;\n  const keys = Object.keys(error).filter((key) => !KEYS_TO_OMIT.includes(key));\n  if (!keys.length) return null;\n\n  return keys.reduce((acc, key) => {\n    switch (typeof error[key]) {\n      case 'boolean':\n      case 'number': {\n        // @ts-expect-error ts-migrate(7053) FIXME: Element implicitly has an 'any' type because expre... Remove this comment to see the full error message\n        acc[key] = error[key];\n        break;\n      }\n\n      case 'string': {\n        const suffix = error[key].length > MAX_STRING_LENGTH ? '...' : '';\n        // @ts-expect-error ts-migrate(7053) FIXME: Element implicitly has an 'any' type because expre... Remove this comment to see the full error message\n        acc[key] = `${error[key].substr(0, MAX_STRING_LENGTH)}${suffix}`;\n        break;\n      }\n\n      case 'function': {\n        // @ts-expect-error ts-migrate(7053) FIXME: Element implicitly has an 'any' type because expre... Remove this comment to see the full error message\n        acc[key] = 'function() { /* Function removed */ }';\n        break;\n      }\n\n      case 'object': {\n        if (error[key] === null) {\n          // @ts-expect-error ts-migrate(7053) FIXME: Element implicitly has an 'any' type because expre... Remove this comment to see the full error message\n          acc[key] = error[key];\n        } else {\n          // @ts-expect-error ts-migrate(7053) FIXME: Element implicitly has an 'any' type because expre... Remove this comment to see the full error message\n          acc[key] = '/* Object, Error, or Array removed */';\n        }\n        break;\n      }\n\n      default:\n        break;\n    }\n\n    return acc;\n  }, {});\n};\n","type $tsMigrateAny = any;\nclass Logger {\n  static LEVELS = {\n    log: 0,\n    debug: 1,\n    info: 2,\n    warn: 3,\n    error: 4,\n  };\n\n  static CONSOLE_FN = window.console || {};\n\n  debug: $tsMigrateAny;\n  error: $tsMigrateAny;\n  fatal: $tsMigrateAny;\n  info: $tsMigrateAny;\n  log: $tsMigrateAny;\n  warn: $tsMigrateAny;\n  warning: $tsMigrateAny;\n\n  constructor() {\n    this._assignMethods();\n  }\n\n  _assignMethods() {\n    this.log = this._getLogFn('log', Logger.LEVELS.log);\n    this.debug = this._getLogFn('debug', Logger.LEVELS.debug);\n    this.info = this._getLogFn('info', Logger.LEVELS.info);\n    this.warn = this._getLogFn('warn', Logger.LEVELS.warn);\n    this.warning = this.warn; // For Sentry error level mapping\n    this.error = this._getLogFn('error', Logger.LEVELS.error);\n    this.fatal = this.error; // For Sentry error level mapping\n  }\n\n  _getLogFn(method: $tsMigrateAny, level: $tsMigrateAny) {\n    if (!this._shouldLog(method, level)) {\n      return () => {};\n    }\n\n    const logFn =\n      // @ts-expect-error ts-migrate(7053) FIXME: Element implicitly has an 'any' type because expre... Remove this comment to see the full error message\n      Logger.CONSOLE_FN[method] || Logger.CONSOLE_FN.log || (() => {});\n\n    return function (this: $tsMigrateAny, ...args: $tsMigrateAny[]) {\n      const updatedArgs = new Array(args.length + 1);\n\n      updatedArgs[0] = '[HubSpot Sales]';\n\n      for (let i = 0; i < args.length; i++) {\n        const arg = args[i];\n        updatedArgs[i + 1] = this._formatError(arg);\n      }\n\n      return this._callLogFn(logFn, updatedArgs);\n    }.bind(this);\n  }\n\n  _callLogFn(logFn: $tsMigrateAny, args: $tsMigrateAny) {\n    return logFn.apply(Logger.CONSOLE_FN, args);\n  }\n\n  _shouldLog(method: $tsMigrateAny, level: $tsMigrateAny) {\n    return this._aboveLevelThreshold(level);\n  }\n\n  _aboveLevelThreshold(level: $tsMigrateAny) {\n    return level >= Logger.LEVELS.log;\n  }\n\n  _formatError(arg: $tsMigrateAny) {\n    if (!(arg instanceof Error)) {\n      return arg;\n    }\n\n    if (arg.stack) {\n      if (arg.message && arg.stack.indexOf(arg.message) === -1) {\n        return `Error: ${arg.message}\\n${arg.stack}`;\n      } else {\n        return arg.stack;\n      }\n    } else if ((arg as $tsMigrateAny).sourceURL) {\n      return `${arg.message}\\n${(arg as $tsMigrateAny).sourceURL}:${\n        (arg as $tsMigrateAny).line\n      }`;\n    } else {\n      return arg;\n    }\n  }\n}\n\nexport default new Logger();\n","import { localGet, localSet } from '../chrome/safeStorage';\nimport {\n  initCache,\n  cacheHttpLog,\n  cacheErrorEntry,\n  cacheDebugLogsEntry,\n} from './debugLogManager';\nimport { LogInfo } from 'sales-clients-common/utils/reportError';\n\ntype $tsMigrateAny = any;\n\nconst EMPTY_CACHED_OBJECT = { errors: [], httpLogs: [] };\nconst DEBUG_LOG_CACHE_HEADER = 'hs_debugLogCache';\n\nexport const initCacheWithChromeStorage = () => {\n  initCache({}, true);\n};\n\nexport const getDebugCacheFromChromeStorage = () =>\n  localGet(DEBUG_LOG_CACHE_HEADER).then((values) => {\n    //If DEBUG_LOG_CACHE_HEADER doesn't exist, return empty object.\n    if (!Object.keys(values).length) {\n      return EMPTY_CACHED_OBJECT;\n    }\n    return values[DEBUG_LOG_CACHE_HEADER];\n  });\n\nexport const setDebugCacheInChromeStorage = (object: $tsMigrateAny) => {\n  localSet({\n    [DEBUG_LOG_CACHE_HEADER]: object,\n  }).catch((err) => {\n    LogInfo({\n      error: err,\n      fingerprint: ['debugLogManagerChromeExt/setDebugCacheInChromeStorage'],\n      tags: { source: 'localSet' },\n      extraData: {\n        params: [\n          {\n            [DEBUG_LOG_CACHE_HEADER]: object,\n          },\n        ],\n      },\n    });\n  });\n};\n\nexport const cacheHttpLogToChromeStorage = (httpLog: $tsMigrateAny) => {\n  cacheHttpLog(httpLog, true);\n};\n\nexport const cacheErrorEntryToChromeStorage = (error: $tsMigrateAny) => {\n  cacheErrorEntry(error, true);\n};\n\nexport const cacheDebugEntryToChromeStorage = (error: $tsMigrateAny) => {\n  cacheDebugLogsEntry(error, true);\n};\n\n/** @returns cached chrome extension error entries from chrome storage */\nexport const getCachedErrorsFromChromeStorage = () => {\n  return getDebugCacheFromChromeStorage().then((object) => {\n    return (object as $tsMigrateAny).errors;\n  });\n};\n\n/** @returns cached chrome extension http logs entries from chrome storage */\nexport const getCachedHttpLogsFromChromeStorage = () => {\n  return getDebugCacheFromChromeStorage().then((object) => {\n    return (object as $tsMigrateAny).httpLogs;\n  });\n};\n\n/** @returns cached chrome extension debug logs entries from chrome storage */\nexport const getCachedDebugLogsFromChromeStorage = () => {\n  return getDebugCacheFromChromeStorage().then((object) => {\n    return (object as $tsMigrateAny).debugLogs;\n  });\n};\n","import {\n  getDebugCacheFromChromeStorage,\n  setDebugCacheInChromeStorage,\n} from './debugLogManagerChromeExt';\nimport logger from './logger';\n\ntype $tsMigrateAny = any;\n\n/** Default maximum number of errors to hold */\nexport const MAX_ERRORS = 20;\n/** Default maximum number of http logs to hold */\nexport const MAX_HTTP_LOGS = 20;\n/** Default maximum number of debug logs to hold */\nexport const MAX_DEBUG_LOGS = 50;\n\nlet _cachedObject: $tsMigrateAny;\nlet _maxErrors: number;\nlet _maxHttpLogs: number;\nlet _maxDebugLogs: number;\n\n/**\n * Initializes debug log cache instance\n * @param {Object} cacheObject - global object to hold cache\n * @param {boolean} chromeStorage - If this is true, cache object is initialized with chrome storage value.\n * @param {Object} [options] - init options\n * @param {Number} [options.maxErrors] - override maximum error entries to cache\n * @param {Number} [options.maxHttpLogs] - override maximum http logs to cache\n */\nexport const initCache = (\n  cacheObject: $tsMigrateAny,\n  chromeStorage = false,\n  options = {\n    maxErrors: MAX_ERRORS,\n    maxHttpLogs: MAX_HTTP_LOGS,\n    maxDebugLogs: MAX_DEBUG_LOGS,\n  }\n) => {\n  _cachedObject = cacheObject;\n  if (_cachedObject) {\n    _cachedObject.errors = [];\n    _cachedObject.httpLogs = [];\n    _cachedObject.debugLogs = {};\n  }\n\n  if (chromeStorage) {\n    getDebugCacheFromChromeStorage()\n      .then((object) => {\n        _cachedObject = object;\n      })\n      .catch((error) => {\n        logger.error(\n          `Error getting debug log cache from chrome storage in initCache: ${error}`\n        );\n      });\n  }\n  _maxErrors = options.maxErrors || MAX_ERRORS;\n  _maxHttpLogs = options.maxHttpLogs || MAX_HTTP_LOGS;\n  _maxDebugLogs = options.maxDebugLogs || MAX_DEBUG_LOGS;\n};\n\n/** Caches an error (up to maximum)\n * @param {Object} error - error entry\n * @param {boolean} chromeStorage - if this is true, update chrome storage with new errors.\n * @param {String} error.message - error message\n * @param {String} [error.detail] - additional details\n */\nexport const cacheErrorEntry = (\n  error: $tsMigrateAny,\n  chromeStorage = false\n) => {\n  if (!error || !_cachedObject) return;\n\n  try {\n    const { errors } = _cachedObject;\n    // dedupe errors\n    if (\n      !errors.some(\n        (err: $tsMigrateAny) =>\n          error.message === err.message && error.detail === err.detail\n      )\n    ) {\n      if (errors.length >= _maxErrors) {\n        errors.shift();\n      }\n      errors.push(error);\n      if (chromeStorage) setDebugCacheInChromeStorage(_cachedObject);\n    }\n  } catch (err) {\n    // Don't throw from debug utils\n  }\n};\n\n/** Caches an error (up to maximum)\n * @param {Object} debugLog - debug Log entry\n * @param {boolean} chromeStorage - if this is true, update chrome storage with new errors.\n * @param {String} debugLog.message - debug message\n * @param {String} [debugLog.detail] - additional details\n */\nexport const cacheDebugLogsEntry = (\n  debugLog: $tsMigrateAny,\n  chromeStorage = false\n) => {\n  if (!debugLog || !_cachedObject) return;\n\n  try {\n    const { debugLogs } = _cachedObject;\n\n    if (!debugLogs[debugLog.windowRef]) {\n      debugLogs[debugLog.windowRef] = [];\n    }\n\n    if (debugLogs[debugLog.windowRef].length >= _maxDebugLogs) {\n      debugLogs[debugLog.windowRef].shift();\n    }\n\n    debugLogs[debugLog.windowRef].push(debugLog);\n    if (chromeStorage) setDebugCacheInChromeStorage(_cachedObject);\n  } catch (err) {\n    // Don't throw from debug utils\n  }\n};\n\n/** Caches an http call (up to maximum)\n * @param {Object} httpLog - http log entry\n * @param {boolean} chromeStorage - if this is true, update chrome storage with new logs.\n * @param {String} httpLog.message - http log message (e.g. url, or error message)\n * @param {Boolean} [httpLog.isError] - did http call fail?\n */\nexport const cacheHttpLog = (httpLog: $tsMigrateAny, chromeStorage = false) => {\n  if (!httpLog || !_cachedObject) return;\n\n  try {\n    const { httpLogs } = _cachedObject;\n\n    if (httpLogs.length >= _maxHttpLogs) {\n      httpLogs.shift();\n    }\n    httpLogs.push(httpLog);\n    if (chromeStorage) setDebugCacheInChromeStorage(_cachedObject);\n  } catch (err) {\n    // Don't throw from debug utils\n  }\n};\n\n/** @returns cached error entries */\nexport const getCachedErrors = () => {\n  return _cachedObject ? _cachedObject.errors : [];\n};\n\n/** @returns cached http log entries */\nexport const getCachedHttpLogs = () => {\n  return _cachedObject ? _cachedObject.httpLogs : [];\n};\n\n/** @returns cached debug log entries */\nexport const getCachedDebugLogs = () => {\n  return _cachedObject ? _cachedObject.debugLogs : [];\n};\n","import Raven from 'raven-js';\nimport { getExtraErrorData } from './getExtraErrorData';\nimport Logger from './logger';\nimport { cacheErrorEntry } from './debugLogManager';\n\ntype $tsMigrateAny = any;\n\n/**\n * @description\n * Copied from /HubSpot/conversations-error-reporting/static/js/error-reporting/reportError.js @fwesterhoff 2019-12-26\n *\n * Report an error to sentry, for more info on fingerprints see\n * https://blog.sentry.io/2018/01/18/setting-up-custom-fingerprints\n *\n * For help with tagging, see:\n * https://docs.sentry.io/enriching-error-data/context/?platform=javascript#tagging-events\n *\n * To enable local debugging, set the following option:\n * `localStorage.setItem('SENTRY_DEPLOYED', true);`\n *\n * Per the following Sentry issue, Sentry will automatically combine and throw out messages that\n * share similar stack traces. This makes it impossible to debug local errors since React will\n * cause errors to bubble up through `componentDidCatch` methods, forcing Sentry to effectively log\n * these errors twice. In order to work around this, building a new error in place inside the\n * `componentDidCatch` and attaching the stacktrace as a custom field of that error allows it to\n * reach Sentry.\n * https://github.com/getsentry/sentry-javascript/issues/1249\n *\n * Searching in Sentry by user email:user.email:\"email_address\"\n * Searching in Sentry by tag: has:tag_name  NOTE: no space after colon\n *\n * @param {object} options\n * @param {object} [options.error] -\n * @param {string} [options.message] - Message will sent captureMessage to Sentry or included in message for captureException\n * @param {string} [options.level] - Level to report: fatal, error, warning, info, or debug\n * @param {Boolean} options.stacktrace - Will add stacktrace to Raven.captureMessage\n * @param {array} [options.fingerprint] - Sentry error fingerprint\n * @param {object} [options.tags] - Sentry error tags { key: 'value' }\n * @param {object} [options.extraData] - Sentry extra data\n * @param {function} [options.logger] - logger function\n * @param {Boolean} [options.cache] - Caches entry to debugLogManager\n * @returns {number} Sentry event id\n */\nexport const reportError = ({\n  error = null,\n\n  // used in captureMessage only,\n  message = null,\n\n  level = 'info',\n\n  // used in captureMessage only,  will default to false\n  stacktrace = null,\n\n  // Fingerprints provide grouping of errors.\n  // Provide an array of strings\n  // Strings in the fingerprint ARE NOT INCLUDED in the Sentry report. Use tags as method to find errors.\n  // NOTE:\n  //    Sentry default fingerprinting in the Sales-clients environment can be un-reliable because of the delay in the user base updating to the\n  //    latest version of code and therefor uses incorrect sourcemaps in Sentry.\n  //\n  //    When we push a new version to PROD, the latest source-maps are loaded to Sentry, and Sentry only uses one version of the source map.\n  //    This means that all users who have a delayed re-hydration of SERA will throw errors against the old source-map.\n  //    The sentry documentation talks about this issue here: https://docs.sentry.io/data-management/event-grouping/\n  //\n  //    To avoid this problem. use defined fingerprint: example fingerprint: ['my-error-group'], this will override all Sentry fingerprint and group\n  //\n  //    Additional fingerprint options you can use, example fingerprint: [\"functionName\"]\n  //    See: https://docs.sentry.io/data-management/event-grouping/sdk-fingerprinting/?platform=browser\n  //      {{ default }}: adds the default fingerprint values\n  //      {{ transaction }}: groups by the events transaction\n  //      {{ type }}: groups by the events exception type name\n  //      {{ module }}: groups by the events module name\n  //      {{ package }}: groups by the events package name\n  //\n  //    There is no information displayed in the Sentry report that indicate the fingerprint context.\n\n  // Raven will default to ['{{ default }}']\n  fingerprint = null,\n\n  // tags: Use tags as consistent search term in Sentry.\n  // Sentry search has:tag1 NOTE: no space after colon\n  // example {tag1: \"tagdata1\", tag2: \"tagdata2\"},\n  tags = {},\n\n  // extraData: CAN NOT USE for search in Sentry\n  // Data may be truncated!\n  // example { extra1: 'extradata1', extra2: 'extradata2' }\n  extraData = null,\n\n  // logger: log: 0, debug: 1, info: 2, warn: 3, error: 4,\n  logger,\n\n  // true will include the error in the error log cache\n  cache,\n}: $tsMigrateAny): string | void => {\n  const params = {\n    level,\n    tags,\n  };\n  try {\n    if (error === null) {\n      if (!message) message = 'No message provided';\n      if (extraData) (params as $tsMigrateAny).extra = extraData;\n      if (stacktrace !== null)\n        (params as $tsMigrateAny).stacktrace = stacktrace;\n\n      Raven.captureMessage(message, params);\n\n      if (cache) {\n        cacheErrorEntry({\n          message,\n          detail: extraData ? JSON.stringify(extraData) : null,\n        });\n      }\n    } else {\n      if (error && !extraData) extraData = getExtraErrorData(error);\n      if (fingerprint) (params as $tsMigrateAny).fingerprint = fingerprint;\n      if (extraData) (params as $tsMigrateAny).extra = extraData;\n\n      Raven.captureException(error, params);\n\n      if (cache) {\n        cacheErrorEntry({\n          message: error.message || message || 'No error message provided',\n          detail: extraData ? JSON.stringify(extraData) : null,\n        });\n      }\n    }\n\n    const lastEventId = Raven.lastEventId();\n    logger(\n      `(Sentry Event Id: ${\n        lastEventId || ''\n      })\\nError reported with error.message: ${\n        error && error.message\n      }, message: ${message || 'none'}`\n    );\n\n    if (extraData && typeof extraData === 'object') {\n      Object.keys(extraData).forEach((key) => {\n        if (extraData[key]) {\n          logger(`Extra Data [${key}]: `, extraData[key]);\n        }\n      });\n    }\n    return lastEventId;\n  } catch (err) {\n    // @ts-expect-error ts-migrate(2345) FIXME: Argument of type 'unknown' is not assignable to pa... Remove this comment to see the full error message\n    Raven.captureException(err, {\n      level: error,\n      tags: { reportErrorFailure: true },\n      fingerprint: ['reportError'],\n      extra: {\n        ...extraData,\n        reportErrorParams: {\n          error,\n          message,\n          level,\n          stacktrace,\n          fingerprint,\n          tags,\n          cache,\n        },\n      },\n    });\n    logger(err);\n    return Raven.lastEventId();\n  }\n};\n\n/**\n *\n * @param {Object} params\n * @param {Object} params.error - Error to report\n * @param {string} [params.fingerprint[]=[{{ default}}]] - Sentry error fingerprint array of strings\n * @param {Object} [params.tags] - Sentry error tags { key: 'value' }\n * @param {Object} [params.extraData] - Sentry extra data\n * @param {function} [params.logger=Logger.fatal] - logger function\n * @param {boolean} [params.cache] - include error log cache\n * @returns {number} Sentry report id\n */\nexport const LogFatal = (params: $tsMigrateAny) =>\n  reportError({\n    logger: params.logger || Logger.error,\n    ...params,\n    level: 'fatal',\n    cache: true,\n  });\n\n/**\n *\n * @param {Object} params\n * @param {Object} params.error - Error to report\n * @param {string} [params.fingerprint[]=[{{ default }}]] - Sentry error fingerprint array of strings\n * @param {Object} [params.tags] - Sentry error tags { key: 'value' }\n * @param {Object} [params.extraData] - Sentry extra data\n * @param {function} [params.logger=Logger.error] - logger function\n * @param {boolean} [params.cache] - include error log cache\n * @returns {number} Sentry report id\n */\nexport const LogError = (params: $tsMigrateAny) =>\n  reportError({\n    logger: params.logger || Logger.error,\n    ...params,\n    level: 'error',\n    cache: true,\n  });\n\n/**\n *\n * @param {Object} params\n * @param {Object} params.error - Error to report\n * @param {string} [params.fingerprint[]=[{{ default }}]] - Sentry error fingerprint array of strings\n * @param {Object} [params.tags] - Sentry error tags { key: 'value' }\n * @param {Object} [params.extraData] - Sentry extra data\n * @param {function} [params.logger=Logger.warn] - logger function\n * @param {boolean} [params.cache] - include error log cache\n * @returns {number} Sentry report id\n */\nexport const LogWarn = (params: $tsMigrateAny) =>\n  reportError({\n    logger: params.logger || Logger.warn,\n    ...params,\n    level: 'warning',\n  });\n\n/**\n *\n * @param {Object} params\n * @param {Object} params.error - Error to report\n * @param {string} [params.fingerprint[]=[{{ default }}]] - Sentry error fingerprint array of strings\n * @param {Object} [params.tags] - Sentry error tags { key: 'value' }\n * @param {Object} [params.extraData] - Sentry extra data\n * @param {function} [params.logger=Logger.info] - logger function\n * @param {boolean} [params.cache] - include error log cache\n * @returns {number} Sentry report id\n */\nexport const LogInfo = (params: $tsMigrateAny) =>\n  reportError({\n    logger: params.logger || Logger.info,\n    ...params,\n    level: 'info',\n  });\n\n/**\n *\n * @param {Object} params\n * @param {Object} params.error - Error to report\n * @param {string} [params.fingerprint[]=[{{ default }}]] - Sentry error fingerprint array of strings\n * @param {Object} [params.tags] - Sentry error tags { key: 'value' }\n * @param {Object} [params.extraData] - Sentry extra data\n * @param {function} [params.logger=Logger.debug] - logger function\n * @param {boolean} [params.cache] - include error log cache\n * @returns {number} Sentry report id\n */\nexport const LogDebug = (params: $tsMigrateAny) =>\n  reportError({\n    logger: params.logger || Logger.debug,\n    ...params,\n    level: 'debug',\n  });\n\n/**\n *\n * @param {Object} params\n * @param {string} [params.fingerprint[]=[{{ default }}]] - Sentry error fingerprint array of strings\n * @param {Object} [params.tags] - Sentry error tags { key: 'value' }\n * @param {Object} [params.extraData] - Sentry extra data\n * @param {function} [params.logger=Logger.info] - logger function\n * @param {boolean} [params.cache] - include error log cache\n * @returns {number} Sentry report id\n */\nexport const LogMessage = (params: $tsMigrateAny) => {\n  const level = params.level || 'info';\n\n  reportError({\n    // @ts-expect-error ts-migrate(7053) FIXME: Element implicitly has an 'any' type because expre... Remove this comment to see the full error message\n    logger: params.logger || Logger[level] || Logger.info,\n    ...params,\n    error: null,\n  });\n};\n\nconst MEANINGFUL_HTTP_ERRORS = [400, 500];\n\nexport const isMeaningfulHttpError = (error: $tsMigrateAny) => {\n  return error && MEANINGFUL_HTTP_ERRORS.includes(error.status);\n};\n\n/**\n * Log http error to Sentry fingerprinted by method, source and status\n * @param {Object} params\n * @param {Object} params.error - Error to report\n * @param {string} params.method - Error method identifier (e.g. base URL or method name)\n * @param {string} params.source - Error source identifier (e.g. component name)\n * @param {Object} [params.extraData] - Sentry extra data\n * @param {Object} [params.level='error'] - Sentry level\n * @param {boolean} [params.cache] - include error log cache\n * @returns {number} Sentry report id\n */\nexport const LogHttpError = (params: $tsMigrateAny) => {\n  if (!params.error) return;\n\n  const { error, extraData, cache, logger } = params;\n  let { method, source, level } = params;\n\n  level = level || 'error';\n\n  if (error.status === 0 || error.status) {\n    method = method || 'LogHttpError';\n    source = source || 'reportError';\n\n    if (MEANINGFUL_HTTP_ERRORS.includes(error.status)) {\n      reportError({\n        // @ts-expect-error ts-migrate(7053) FIXME: Element implicitly has an 'any' type because expre... Remove this comment to see the full error message\n        logger: logger || Logger[level] || Logger.error,\n        error,\n        fingerprint: [source, `${method}: ${error.status}`],\n        tags: { source, method, status: error.status },\n        extraData,\n        level,\n        cache,\n      });\n    } else {\n      reportError({\n        // @ts-expect-error ts-migrate(7053) FIXME: Element implicitly has an 'any' type because expre... Remove this comment to see the full error message\n        logger: logger || Logger[level] || Logger.error,\n        error,\n        fingerprint: [\n          'Not_meaningful_error',\n          source,\n          `${method}: ${error.status}`,\n        ],\n        tags: { source, method, notMeaningful: true, status: error.status },\n        extraData,\n        level,\n        cache,\n      });\n    }\n  } else {\n    // Fallback to regular error if no status found\n    reportError({\n      // @ts-expect-error ts-migrate(7053) FIXME: Element implicitly has an 'any' type because expre... Remove this comment to see the full error message\n      logger: logger || Logger[level] || Logger.error,\n      ...params,\n      level,\n    });\n  }\n};\n","// Sentry looks like user  to error rate is 1 to 5. Will try this threshold\nexport const RUNTIME_ERROR_THRESHOLD = 5;\n","// @ts-expect-error untyped\nimport { chrome } from 'sales-clients-common/globals/window';\nimport { LogInfo, LogError } from 'sales-clients-common/utils/reportError';\nimport { RUNTIME_ERROR_THRESHOLD } from '../constants/chrome';\nimport { handleInternalCallback } from './utils';\nimport {\n  MessageListenerCallback,\n  Port,\n  OnInstalledReason,\n  RequestUpdateResult,\n  RequestUpdateCallback,\n} from './types';\n\nexport const SEND_MESSAGE = 'SEND_MESSAGE';\nexport const ON_MESSAGE_LISTENER = 'ON_MESSAGE_LISTENER';\nexport const ON_REMOVE_MESSAGE_LISTENER = 'ON_REMOVE_MESSAGE_LISTENER';\nexport const ON_CONNECT_LISTENER = 'ON_CONNECT_LISTENER';\nexport const ON_INSTALLED_LISTENER = 'ON_INSTALLED_LISTENER';\nexport const ON_UPDATE_AVAILABLE_LISTENER = 'ON_UPDATE_AVAILABLE_LISTENER';\nexport const REQUEST_UPDATE_CHECK = 'REQUEST_UPDATE_CHECK';\nexport const CONNECT = 'CONNECT';\nexport const RELOAD = 'RELOAD';\nexport const LAST_ERROR = 'LAST_ERROR';\nexport const GET_MANIFEST_VERSION = 'GET_MANIFEST_VERSION';\nexport const GET_EXTENSION_ID = 'GET_EXTENSION_ID';\ntype Method =\n  | typeof SEND_MESSAGE\n  | typeof ON_MESSAGE_LISTENER\n  | typeof ON_REMOVE_MESSAGE_LISTENER\n  | typeof ON_CONNECT_LISTENER\n  | typeof CONNECT\n  | typeof RELOAD\n  | typeof LAST_ERROR\n  | typeof GET_MANIFEST_VERSION\n  | typeof GET_EXTENSION_ID\n  | typeof ON_INSTALLED_LISTENER\n  | typeof ON_UPDATE_AVAILABLE_LISTENER\n  | typeof REQUEST_UPDATE_CHECK;\n\n// This method attempts to call the chrome.runtime methods directly, but logs a generic sentry error on failure\n// in order to allow us to track how often this fails, without getting individual sentries per\n// method failure\nexport const callRuntimeMethodSafe = (method: Method, ...args: any[]) => {\n  try {\n    switch (method) {\n      case SEND_MESSAGE:\n        return chrome.runtime.sendMessage(...args);\n      case ON_MESSAGE_LISTENER:\n        return chrome.runtime.onMessage.addListener(...args);\n      case ON_REMOVE_MESSAGE_LISTENER:\n        return chrome.runtime.onMessage.removeListener(...args);\n      case ON_CONNECT_LISTENER:\n        return chrome.runtime.onConnect.addListener(...args);\n      case CONNECT:\n        return chrome.runtime.connect(...args);\n      case RELOAD:\n        return chrome.runtime.reload();\n      case LAST_ERROR:\n        return chrome.runtime.lastError;\n      case GET_MANIFEST_VERSION:\n        return chrome.runtime.getManifest().version;\n      case GET_EXTENSION_ID:\n        return chrome.runtime.id;\n      case ON_INSTALLED_LISTENER:\n        return chrome.runtime.onInstalled.addListener(...args);\n      case ON_UPDATE_AVAILABLE_LISTENER:\n        return chrome.runtime.onUpdateAvailable.addListener(...args);\n      case REQUEST_UPDATE_CHECK:\n        return chrome.runtime.requestUpdateCheck(...args);\n      default:\n        return null;\n    }\n  } catch (error) {\n    // segment missing chrome runtime error into a new Sentry error.\n    if (!chrome.runtime) {\n      if (!sessionStorage.runtimeError) {\n        sessionStorage.runtimeError = 1;\n      } else if (sessionStorage.runtimeError > RUNTIME_ERROR_THRESHOLD) {\n        LogInfo({\n          error,\n          fingerprint: ['chrome runtime/storage is undefined'],\n          tags: { runtimeUndefined: method },\n          extraData: {\n            runtimeUndefined: method,\n            messageString: 'SafeRuntime chrome.runtime is undefined',\n          },\n        });\n      } else {\n        sessionStorage.runtimeError =\n          parseInt(sessionStorage.runtimeError, 10) + 1;\n      }\n      return null;\n    }\n\n    // This should be safe - log as error\n    LogError({\n      error,\n      fingerprint: [`Error in chrome safeRuntime`, method], // Group by method\n      tags: { failingRuntimeMethod: method },\n      extraData: {\n        failingRuntimeMethod: method,\n        errorMessageString: error instanceof Error ? error.message : 'unknown',\n        messageString: 'Error in chrome safeRuntime',\n      },\n    });\n    return null;\n  }\n};\n\nexport const isMv3 = () => {\n  try {\n    return chrome.runtime.getManifest().manifest_version >= 3;\n  } catch {\n    return false;\n  }\n};\n\nexport const addMessageListener = (callback: MessageListenerCallback): void =>\n  callRuntimeMethodSafe(ON_MESSAGE_LISTENER, callback);\n\nexport const removeMessageListener = (\n  callback: MessageListenerCallback\n): void => callRuntimeMethodSafe(ON_REMOVE_MESSAGE_LISTENER, callback);\n\nexport const addConnectListener = (callback: (port: Port) => void): void =>\n  callRuntimeMethodSafe(ON_CONNECT_LISTENER, callback);\n\nexport const getLastError = (): Error | undefined =>\n  callRuntimeMethodSafe(LAST_ERROR);\n\nexport function sendMessage<T>(\n  message: any,\n  options?: { includeTlsChannelId?: boolean }\n): Promise<T>;\n/**\n * @deprecated Please use promises instead of callbacks\n */\nexport function sendMessage<T>(\n  message: any,\n  options?: { includeTlsChannelId?: boolean },\n  callback?: (response: T) => void\n): Promise<T>;\nexport function sendMessage<T>(\n  message: any,\n  options?: { includeTlsChannelId?: boolean },\n  callback?: (response: T) => void\n): Promise<T> {\n  if (callback || !isMv3()) {\n    return new Promise((resolve, reject) => {\n      const internalCallback = (response: any): void =>\n        handleInternalCallback(callback, response, resolve, reject);\n      callRuntimeMethodSafe(SEND_MESSAGE, message, options, internalCallback);\n    });\n  }\n  return callRuntimeMethodSafe(SEND_MESSAGE, message, options);\n}\n\nexport const connect = (): Port => callRuntimeMethodSafe(CONNECT);\n\nexport const reload = (): void => callRuntimeMethodSafe(RELOAD);\n\nexport const getManifestVersion = (): string =>\n  callRuntimeMethodSafe(GET_MANIFEST_VERSION);\n\nexport const getExtensionId = (): string =>\n  callRuntimeMethodSafe(GET_EXTENSION_ID);\n// Master branch of SigExt uses getId, need to keep this for backwards compatibility until MV3 release\n/**\n * @deprecated Please use getExtensionId instead\n */\nexport const getId = (): string => getExtensionId();\n\nexport const addInstalledListener = (\n  callback: (details: {\n    id?: string;\n    previousVersion?: string;\n    reason: OnInstalledReason;\n  }) => void\n): void => callRuntimeMethodSafe(ON_INSTALLED_LISTENER, callback);\n\nexport const addUpdateAvailableListener = (\n  callback: (details: { version: string }) => void\n): void => callRuntimeMethodSafe(ON_UPDATE_AVAILABLE_LISTENER, callback);\n\nexport function requestUpdateCheck(): Promise<RequestUpdateResult>;\n/**\n * @deprecated Please use promises instead of callbacks\n */\nexport function requestUpdateCheck(\n  callback?: RequestUpdateCallback\n): Promise<RequestUpdateResult>;\nexport function requestUpdateCheck(\n  callback?: RequestUpdateCallback\n): Promise<RequestUpdateResult> {\n  if (callback || !isMv3()) {\n    return new Promise((resolve, reject) => {\n      const internalCallback = (response: RequestUpdateResult): void =>\n        handleInternalCallback(callback, response, resolve, reject);\n      callRuntimeMethodSafe(SEND_MESSAGE, internalCallback);\n    });\n  }\n  return callRuntimeMethodSafe(REQUEST_UPDATE_CHECK);\n}\n","import { getLastError } from './safeRuntime';\n\nconst IGNORED_ERRORS = [\n  'A listener indicated an asynchronous response by returning true, but the message channel closed before a response was received',\n];\n\n// Once we have fully moved to MV3 & Promises, we should be able to get rid of this\nexport const handleInternalCallback = (\n  callback: Function | undefined,\n  response: any,\n  resolve: Function,\n  reject: Function\n) => {\n  const lastError = getLastError();\n  let callbackResult = undefined;\n  // mv2 using promises (SERA until MV3 is released)\n  if (!callback) {\n    if (lastError && !IGNORED_ERRORS.includes(lastError.message)) {\n      reject(lastError);\n    }\n    resolve(response);\n  } else {\n    // mv2 using callbacks (SigExt until MV3 is released)\n    callbackResult = callback(response);\n    if (lastError && !IGNORED_ERRORS.includes(lastError.message)) {\n      // SigExt master branch would have unhandled promise rejections until MV3 is released\n      resolve(lastError);\n    }\n    resolve(response);\n  }\n  return callbackResult;\n};\n","// @ts-expect-error untyped\nimport { chrome } from 'sales-clients-common/globals/window';\nimport { LogError, LogInfo } from 'sales-clients-common/utils/reportError';\nimport { RUNTIME_ERROR_THRESHOLD } from '../constants/chrome';\nimport { handleInternalCallback } from './utils';\nimport { isMv3 } from './safeRuntime';\n\nexport const SYNC_GET = 'SYNC_GET';\nexport const SYNC_SET = 'SYNC_SET';\nexport const SYNC_USAGE = 'SYNC_USAGE';\nexport const SYNC_REMOVE = 'SYNC_REMOVE';\nexport const LOCAL_GET = 'LOCAL_GET';\nexport const LOCAL_SET = 'LOCAL_SET';\nexport const LOCAL_USAGE = 'LOCAL_USAGE';\nexport const LOCAL_REMOVE = 'LOCAL_REMOVE';\nexport const SESSION_GET = 'SESSION_GET';\nexport const SESSION_SET = 'SESSION_SET';\nexport const SESSION_USAGE = 'SESSION_USAGE';\nexport const SESSION_REMOVE = 'SESSION_REMOVE';\ntype Method =\n  | typeof SYNC_GET\n  | typeof SYNC_SET\n  | typeof SYNC_USAGE\n  | typeof SYNC_REMOVE\n  | typeof LOCAL_GET\n  | typeof LOCAL_SET\n  | typeof LOCAL_USAGE\n  | typeof LOCAL_REMOVE\n  | typeof SESSION_GET\n  | typeof SESSION_SET\n  | typeof SESSION_USAGE\n  | typeof SESSION_REMOVE;\n\n// This method attempts to call the chrome.storage methods directly, but logs a generic sentry error on failure\n// in order to allow us to track how often this fails, without getting individual sentries\n\nexport const callStorageMethodSafe = (method: Method, ...args: any[]) => {\n  try {\n    switch (method) {\n      case SYNC_GET:\n        return chrome.storage.sync.get(...args);\n      case SYNC_SET:\n        return chrome.storage.sync.set(...args);\n      case SYNC_USAGE:\n        return chrome.storage.sync.getBytesInUse(...args);\n      case SYNC_REMOVE:\n        return chrome.storage.sync.remove(...args);\n      case LOCAL_GET:\n        return chrome.storage.local.get(...args);\n      case LOCAL_SET:\n        return chrome.storage.local.set(...args);\n      case LOCAL_USAGE:\n        return chrome.storage.local.getBytesInUse(...args);\n      case LOCAL_REMOVE:\n        return chrome.storage.local.remove(...args);\n      case SESSION_GET:\n        return chrome.storage.session.get(...args);\n      case SESSION_SET:\n        return chrome.storage.session.set(...args);\n      case SESSION_USAGE:\n        return chrome.storage.session.getBytesInUse(...args);\n      case SESSION_REMOVE:\n        return chrome.storage.session.remove(...args);\n      default:\n        return null;\n    }\n  } catch (error) {\n    // segment missing chrome storage errors into a new Sentry error.\n    if (\n      !chrome.storage ||\n      !chrome.storage.sync ||\n      !chrome.storage.local ||\n      !chrome.storage.session\n    ) {\n      if (!sessionStorage.storageError) {\n        sessionStorage.storageError = 1;\n      } else if (sessionStorage.storageError > RUNTIME_ERROR_THRESHOLD) {\n        LogInfo({\n          error,\n          fingerprint: ['chrome runtime/storage is undefined'],\n          tags: { storageUndefined: method },\n          extraData: {\n            storageUndefined: method,\n            messageString: 'SafeStorage chrome.storage is undefined',\n          },\n        });\n      } else {\n        sessionStorage.runtimeError =\n          parseInt(sessionStorage.runtimeError, 10) + 1;\n      }\n    } else {\n      LogError({\n        error,\n        fingerprint: [`Error in chrome safeStorage`, method],\n        tags: { failingStorageMethod: method },\n        extraData: {\n          failingStorageMethod: method,\n          messageString: 'Error in chrome safeStorage',\n        },\n      });\n    }\n    return null;\n  }\n};\n\nexport function syncGet(keys?: string | string[] | object): Promise<any>;\n/**\n * @deprecated Please use promises instead of callbacks\n */\nexport function syncGet(\n  keys?: string | string[] | object,\n  callback?: (items: any) => void\n): Promise<any>;\nexport function syncGet(\n  keys?: string | string[] | object,\n  callback?: (items: any) => void\n): Promise<any> {\n  if (callback || !isMv3()) {\n    return new Promise((resolve, reject) => {\n      const internalCallback = (response: any): void =>\n        handleInternalCallback(callback, response, resolve, reject);\n      callStorageMethodSafe(SYNC_GET, keys, internalCallback);\n    });\n  }\n  return callStorageMethodSafe(SYNC_GET, keys);\n}\n\nexport function syncSet(items: object): Promise<void>;\n/**\n * @deprecated Please use promises instead of callbacks\n */\nexport function syncSet(items: object, callback?: () => void): Promise<void>;\nexport function syncSet(items: object, callback?: () => void): Promise<void> {\n  if (callback || !isMv3()) {\n    return new Promise((resolve, reject) => {\n      const internalCallback = (): void =>\n        handleInternalCallback(callback, undefined, resolve, reject);\n      callStorageMethodSafe(SYNC_SET, items, internalCallback);\n    });\n  }\n  return callStorageMethodSafe(SYNC_SET, items);\n}\n\nexport function syncUsage(keys?: string | string[]): Promise<number>;\n/**\n * @deprecated Please use promises instead of callbacks\n */\nexport function syncUsage(\n  keys?: string | string[],\n  callback?: (bytesInUse: number) => void\n): Promise<number>;\nexport function syncUsage(\n  keys?: string | string[],\n  callback?: (bytesInUse: number) => void\n): Promise<number> {\n  if (callback || !isMv3()) {\n    return new Promise((resolve, reject) => {\n      const internalCallback = (response: number): void =>\n        handleInternalCallback(callback, response, resolve, reject);\n      callStorageMethodSafe(SYNC_USAGE, keys, internalCallback);\n    });\n  }\n  return callStorageMethodSafe(SYNC_USAGE, keys);\n}\n\nexport function syncRemove(keys: string | string[]): Promise<void>;\n/**\n * @deprecated Please use promises instead of callbacks\n */\nexport function syncRemove(\n  keys: string | string[],\n  callback?: () => void\n): Promise<void>;\nexport function syncRemove(\n  keys: string | string[],\n  callback?: () => void\n): Promise<void> {\n  if (callback || !isMv3()) {\n    return new Promise((resolve, reject) => {\n      const internalCallback = (): void =>\n        handleInternalCallback(callback, undefined, resolve, reject);\n      callStorageMethodSafe(SYNC_REMOVE, keys, internalCallback);\n    });\n  }\n  return callStorageMethodSafe(SYNC_REMOVE, keys);\n}\n\nexport function localGet(keys?: string | string[] | object): Promise<any>;\n/**\n * @deprecated Please use promises instead of callbacks\n */\nexport function localGet(\n  keys?: string | string[] | object,\n  callback?: (items: object) => void\n): Promise<any>;\nexport function localGet(\n  keys?: string | string[] | object,\n  callback?: (items: object) => void\n): Promise<any> {\n  if (callback || !isMv3()) {\n    return new Promise((resolve, reject) => {\n      const internalCallback = (response: any): void =>\n        handleInternalCallback(callback, response, resolve, reject);\n      callStorageMethodSafe(LOCAL_GET, keys, internalCallback);\n    });\n  }\n  return callStorageMethodSafe(LOCAL_GET, keys);\n}\n\nexport function localSet(items: object): Promise<void>;\n/**\n * @deprecated Please use promises instead of callbacks\n */\nexport function localSet(items: object, callback?: () => void): Promise<void>;\nexport function localSet(items: object, callback?: () => void): Promise<void> {\n  if (callback || !isMv3()) {\n    return new Promise((resolve, reject) => {\n      const internalCallback = (): void =>\n        handleInternalCallback(callback, undefined, resolve, reject);\n      callStorageMethodSafe(LOCAL_SET, items, internalCallback);\n    });\n  }\n  return callStorageMethodSafe(LOCAL_SET, items);\n}\n\nexport function localUsage(keys?: string | string[]): Promise<number>;\n/**\n * @deprecated Please use promises instead of callbacks\n */\nexport function localUsage(\n  keys?: string | string[],\n  callback?: (bytesInUse: number) => void\n): Promise<number>;\nexport function localUsage(\n  keys?: string | string[],\n  callback?: (bytesInUse: number) => void\n): Promise<number> {\n  if (callback || !isMv3()) {\n    return new Promise((resolve, reject) => {\n      const internalCallback = (response: number): void =>\n        handleInternalCallback(callback, response, resolve, reject);\n      callStorageMethodSafe(LOCAL_USAGE, keys, internalCallback);\n    });\n  }\n  return callStorageMethodSafe(LOCAL_USAGE, keys);\n}\n\nexport function localRemove(keys: string | string[]): Promise<void>;\n/**\n * @deprecated Please use promises instead of callbacks\n */\nexport function localRemove(\n  keys: string | string[],\n  callback?: () => void\n): Promise<void>;\nexport function localRemove(\n  keys: string | string[],\n  callback?: () => void\n): Promise<void> {\n  if (callback || !isMv3()) {\n    return new Promise((resolve, reject) => {\n      const internalCallback = (): void =>\n        handleInternalCallback(callback, undefined, resolve, reject);\n      callStorageMethodSafe(LOCAL_REMOVE, keys, internalCallback);\n    });\n  }\n  return callStorageMethodSafe(LOCAL_REMOVE, keys);\n}\n\nexport function sessionGet(keys?: string | string[] | object): Promise<any> {\n  return callStorageMethodSafe(SESSION_GET, keys);\n}\n\nexport function sessionSet(items: object): Promise<void> {\n  return callStorageMethodSafe(SESSION_SET, items);\n}\n\nexport function sessionUsage(keys?: string | string[]): Promise<number> {\n  return callStorageMethodSafe(SESSION_USAGE, keys);\n}\n\nexport function sessionRemove(keys: string | string[]): Promise<void> {\n  return callStorageMethodSafe(SESSION_REMOVE, keys);\n}\n","export const LAST_LOGIN_PORTAL_ID_KEY = 'last_login_portal_id';\n// shared async lookup with chrome.storage\nexport const LOCAL_SHORT_LINK_GATE = 'LOCAL_SHORT_LINK_GATE';\n// sync lookup for init flow with sessionStorage\nexport const SESSION_SHORT_LINK_GATE = 'SESSION_SHORT_LINK_GATE';\n\n// To see if we need to display new feature tag in different application components\nexport const DEFAULT_SHOW_NEW_FEATURE_ALERT = 'SHOW_NEW_FEATURE_ALERT';\nexport const DEFAULT_SHOW_NEW_FEATURE_TAG = 'SHOW_NEW_FEATURE_TAG';\nexport const DEFAULT_ACTION_NEW_BADGE_DISMISSED = 'ACTION_NEW_BADGE_DISMISSED';\n","'use es6';\n// eslint-disable-next-line hubspot-dev/no-confusing-browser-globals\nexport default self.window.localStorage;\n","export const na1 = 'na1';\nexport const test2 = 'test2';\nexport const eu1 = 'eu1';\n","/* hs-eslint ignored failing-rules */\n/* eslint-disable hubspot-dev/prefer-hubspot-url-utils */\n/* eslint-disable no-empty,  hubspot-dev/no-confusing-browser-globals */\n\n'use es6';\nimport localStorage from 'SignalsExtension/globals/localStorage';\nimport { na1 } from 'hubspot-url-utils/hublets';\n\nconst baseEnviroModule = require('enviro/js/index.ts');\nconst enviro = baseEnviroModule.default || baseEnviroModule;\n\nconst LS_CACHE_PREFIX = 'hubspot:crx:';\nconst runtimeCache = {};\n\nconst HUBLET_KEY = 'HUBLET';\n\nconst getLsKey = (key) => `${LS_CACHE_PREFIX}:${key}`;\n\nfunction readChromeEnvironmentString(key) {\n  const runtimeCacheValue = runtimeCache[key];\n  if (runtimeCacheValue != null) {\n    return runtimeCacheValue;\n  }\n\n  try {\n    const lsValue = localStorage[getLsKey(key)];\n    runtimeCache[key] = lsValue;\n    return lsValue;\n  } catch (error) {\n    console.error('readChromeEnvironmentString', error);\n  }\n\n  return null;\n}\n\nfunction writeChromeEnvironmentString(key, value) {\n  try {\n    if (value) {\n      runtimeCache[key] = value;\n      localStorage[getLsKey(key)] = value;\n    } else {\n      delete localStorage[getLsKey(key)];\n      delete runtimeCache[key];\n    }\n  } catch (error) {\n    console.error('writeChromeEnvironmentString localStorage full?', error);\n  }\n}\n\nconst enviroInstance = enviro.createEnviro(self.document.location);\n\nenviroInstance.getHublet = () => {\n  return readChromeEnvironmentString(HUBLET_KEY) || na1;\n};\n\nenviroInstance.setHublet = (hublet) => {\n  writeChromeEnvironmentString(HUBLET_KEY, hublet);\n};\n\nenviroInstance.ifHublet = ({ isNa1, isNonNa1 }, hublet) => {\n  if (!hublet) {\n    hublet = enviroInstance.getHublet();\n  }\n\n  return enviro.ifHublet({ isNa1, isNonNa1 }, hublet);\n};\n\nexport default enviroInstance;\n\nself.hubspot.enviro = () => enviroInstance;\nself.enviro = enviroInstance;\nself.window.enviro = enviroInstance;\n","'use es6';\n\nimport location from 'SignalsExtension/globals/location';\n\nconst EXTENSION_PROTOCOL = 'chrome-extension:';\nconst { pathname, protocol } = location;\n\nconst isBGPage =\n  protocol === EXTENSION_PROTOCOL && pathname.indexOf('Background-sw') !== -1;\n\nconst isPopup =\n  protocol === EXTENSION_PROTOCOL && pathname.indexOf('popup.html') !== -1;\n\nlet context = null;\n\nif (isBGPage) {\n  context = 'background';\n} else if (isPopup) {\n  context = 'popup';\n} else {\n  context = 'content_script';\n}\n\nexport default context;\n","export const emptyFunction = () => {\n  return;\n};\n","import enviro from 'enviro';\nimport { cacheErrorEntryToChromeStorage } from 'sales-clients-common/utils/debugLogManagerChromeExt';\n// @ts-expect-error untyped\nimport context from 'SignalsExtension/config/context';\nimport { emptyFunction } from 'SignalsExtension/utils/emptyfunction';\n\nclass Logger {\n  log: (...args: any[]) => void;\n  debug: (...args: any[]) => void;\n  info: (...args: any[]) => void;\n  warn: (...args: any[]) => void;\n  error: (...args: any[]) => void;\n\n  static LEVELS = {\n    log: 0,\n    debug: 1,\n    info: 2,\n    warn: 3,\n    error: 4,\n  };\n  static LEVELS_MAP: { [level: number]: string } = {\n    0: 'LOG',\n    1: 'DEBUG',\n    2: 'INFO',\n    3: 'WARN',\n    4: 'ERROR',\n  };\n  // eslint-disable-next-line hubspot-dev/no-confusing-browser-globals\n  static CONSOLE_FN = self.console || {};\n\n  constructor() {\n    this.log = this._getLogFn('log', Logger.LEVELS.log);\n    this.debug = this._getLogFn('debug', Logger.LEVELS.debug);\n    this.info = this._getLogFn('info', Logger.LEVELS.info);\n    this.warn = this._getLogFn('warn', Logger.LEVELS.warn);\n    // Only cache errors for now.\n    this.error = this._getLogFn('error', Logger.LEVELS.error, true);\n  }\n\n  _getLogFn(method: string, level: number, cache = false) {\n    if (!this._shouldLog(method, level)) {\n      return emptyFunction;\n    }\n\n    const logFn =\n      // @ts-expect-error string cannot be used to index into Console\n      Logger.CONSOLE_FN[method] || Logger.CONSOLE_FN.log || emptyFunction;\n\n    return function (...args: any[]) {\n      const updatedArgs = new Array(args.length + 1);\n\n      updatedArgs[0] = `%c[HubSpot Sales] ${Logger.LEVELS_MAP[level].padEnd(\n        6\n      )} - %c${new Date().toISOString().slice(11, -1)}%c:`;\n\n      for (let i = 0; i < args.length; i++) {\n        const arg = args[i];\n        // @ts-expect-error this has any type\n        updatedArgs[i + 1] = this._formatError(arg);\n      }\n\n      // Cache first arg from the error for now. Revise as needed.\n      if (cache && updatedArgs.length > 1) {\n        cacheErrorEntryToChromeStorage({ message: updatedArgs[1] });\n      }\n\n      // @ts-expect-error this has any type\n      return this._callLogFn(logFn, [\n        updatedArgs.join(' '),\n        'color:grey',\n        `color:grey`,\n        'color:orangered',\n      ]);\n    }.bind(this);\n  }\n\n  _callLogFn(logFn: Function, args: any[]) {\n    return logFn.apply(Logger.CONSOLE_FN, args);\n  }\n\n  _shouldLog(method: string, level: number) {\n    if (context === 'background') {\n      return true;\n    }\n\n    return this._aboveLevelThreshold(level);\n  }\n\n  _aboveLevelThreshold(level: number) {\n    if (enviro.deployed('console')) {\n      return level >= Logger.LEVELS.error;\n    } else {\n      return level >= Logger.LEVELS.log;\n    }\n  }\n\n  _formatError(arg: Error) {\n    if (!(arg instanceof Error)) {\n      return arg;\n    }\n\n    if (arg.stack) {\n      if (arg.message && arg.stack.indexOf(arg.message) === -1) {\n        return `Error: ${arg.message}\\n${arg.stack}`;\n      } else {\n        return arg.stack;\n      }\n      // @ts-expect-error sourceURL is not on Error type\n    } else if (arg.sourceURL) {\n      // @ts-expect-error sourceURL and line are not on Error type\n      return `${arg.message}\\n${arg.sourceURL}:${arg.line}`;\n    } else {\n      return arg;\n    }\n  }\n}\n\nexport default new Logger();\n","export const BLACKLISTED_EXTENSIONS = 'blacklistedExtensions';\nexport const SEND_DEBUG_LOG = 'sendDebugLog';\nexport const ROUTE_RESTART = 'route:restart';\nexport const REQUEST_FIRE_ALARMS = 'requestFireAlarms';\nexport const MARK_ALARMS_AS_SEEN = 'markAlarmsAsSeen';\nexport const REQUEST_NEW_ALARMS = 'requestNewAlarms';\nexport const HUBSPOT_EVERYWHERE_METHOD = 'hubspotEverywhereMethod';\nexport const RELOAD_EXTENSION = 'RELOAD_EXTENSION';\nexport const POPUP_METHOD = 'popupMethod';\nexport const PERMISSION_CHECK_ORIGIN = 'permission:check:origin';\nexport const PERMISSION_REQUEST_ORIGIN = 'permission:request:origin';\nexport const GMAIL_VISIBILITY_CHANGE = 'gmailVisibilityChange';\nexport const COPILOT_MESSAGE_ACTION = 'copilotMessageAction';\nexport const START_EVERYWHERE_DEMO = 'START_EVERYWHERE_DEMO';\nexport const CONTINUE_EVERYWHERE_DEMO = 'CONTINUE_EVERYWHERE_DEMO';\nexport const CALENDAR_CONNECTED = 'calendarConnected';\nexport const SESSION_ID = 'sessionId';\nexport const RESTART_OFFSCREEN_DOCUMENT = 'restartOffscreenDocument';\n\nexport enum PopupMessageAction {\n  CLEAR_BADGE = 'CLEAR_BADGE',\n  UPDATE_BADGE_ICON = 'UPDATE_BADGE_ICON',\n  UPDATE_BADGE_TEXT = 'UPDATE_BADGE_TEXT',\n  OPEN_POPUP = 'OPEN_POPUP',\n  IS_OPEN_POPUP_SUPPORTED = 'IS_OPEN_POPUP_SUPPORTED',\n}\nexport interface PopupMessage {\n  action: PopupMessageAction;\n  data?: any;\n}\nexport const SHORTLINK = 'shortlink';\nexport const SHORTLINK_RESET = 'shortlinkReset';\n\nexport const origins = {\n  // TODO: Move to hs-everywhere-components with Clients:HSEverywhere\n  sfdc: {\n    domain: '.force.com/',\n    matcher: '*://*.force.com/*',\n  },\n};\n","'use es6';\n\nimport { fromJS } from 'immutable';\nimport {\n  addMessageListener,\n  sendMessage,\n  connect,\n} from 'sales-clients-common/chrome/safeRuntime';\n\nexport const sendToBackground = (method, data = null) =>\n  sendMessage({\n    method,\n    ...(data != null && { data }),\n  });\n\nexport const listenToBackground = (method, fn) => {\n  const messageListener = (request, sender, sendResponse) => {\n    if (sender.tab != null) {\n      return;\n    }\n\n    if (method === request.method) {\n      try {\n        fn(request.data, sendResponse);\n        return;\n      } catch (err) {\n        console.error(err);\n        console.info(method);\n      }\n    }\n  };\n\n  addMessageListener(messageListener);\n\n  return messageListener;\n};\n\n/**\n * Connects to the background page, awaits a response from\n * accountManager#listenForContentScripts with the user model.\n * @returns {Promise<Map>} user model\n */\nexport const fetchUser = () =>\n  new Promise((resolve, reject) => {\n    const port = connect();\n\n    const onMessage = ({ method, user_profile }) => {\n      if (method === 'userModel') {\n        port.onDisconnect.removeListener(reject);\n        resolve(fromJS(user_profile));\n      }\n    };\n\n    port.onDisconnect.addListener(reject);\n    port.onMessage.addListener(onMessage);\n  });\n","// TODO Move these to SCC if also used in hs-everywhere-components\nexport const HS_EVERYWHERE_WEBSITE_ALLOWLIST_KEY =\n  'HS_EVERYWHERE_WEBSITE_ALLOWLIST';\nexport const HS_EVERYWHERE_WEBSITE_GMAIL_VALUE = 'GMAIL';\nexport const HS_EVERYWHERE_WEBSITE_GOOGLE_CALENDAR_VALUE = 'GOOGLE_CALENDAR';\nexport const HS_EVERYWHERE_WEBSITE_SALESFORCE_VALUE = 'SALESFORCE';\nexport const HS_EVERYWHERE_ALL_OTHER_SITES_VALUE = 'ALL_OTHER_SITES';\nexport type EverywhereWebsiteAllowlistValues =\n  | typeof HS_EVERYWHERE_WEBSITE_GMAIL_VALUE\n  | typeof HS_EVERYWHERE_WEBSITE_GOOGLE_CALENDAR_VALUE\n  | typeof HS_EVERYWHERE_WEBSITE_SALESFORCE_VALUE\n  | typeof HS_EVERYWHERE_ALL_OTHER_SITES_VALUE;\nexport const HS_EVERYWHERE_DEFAULT_WEBSITE_ALLOWLIST: EverywhereWebsiteAllowlistValues[] =\n  [HS_EVERYWHERE_WEBSITE_GMAIL_VALUE];\n\nexport const HS_EVERYWHERE_WEBSITE_BLOCKLIST_KEY =\n  'HS_EVERYWHERE_WEBSITE_BLOCKLIST';\n\n// To enable the everywhere script on demo pages\nexport const HS_EVERYWHERE_DEMO_WEBSITES = [\n  'hubspotqa.com/everywhere-onboarding/demo',\n  'hubspot.com/everywhere-onboarding/demo',\n];\n\nexport const HS_EVERYWHERE_SETTINGS_CARD_VISIBILITY_PREFERENCES_KEY =\n  'HS_EVERYWHERE_SETTINGS_CARD_VISIBILITY_PREFERENCES';\nexport const HS_EVERYWHERE_COPILOT_ENABLED_SETTINGS =\n  'HS_EVERYWHERE_COPILOT_ENABLED_SETTINGS';\nconst EVERYWHERE_ENABLE_SETTINGS_CARD = 'EVERYWHERE_ENABLE_SETTINGS_CARD';\nconst EVERYWHERE_WEBSITE_EXCLUSION_SETTINGS_CARD =\n  'EVERYWHERE_WEBSITE_EXCLUSION_SETTINGS_CARD';\nexport type SettingsCard =\n  | typeof EVERYWHERE_ENABLE_SETTINGS_CARD\n  | typeof EVERYWHERE_WEBSITE_EXCLUSION_SETTINGS_CARD;\nexport const DEFAULT_EVERYWHERE_SETTINGS_VISIBILITY_PREFERENCES: Record<\n  SettingsCard,\n  boolean\n> = {\n  [EVERYWHERE_ENABLE_SETTINGS_CARD]: true,\n  [EVERYWHERE_WEBSITE_EXCLUSION_SETTINGS_CARD]: false,\n};\n\nexport const OPEN_POPUP_IN_SETTINGS = 'open_popup_in_settings';\n","'use es6';\n\nexport default window.chrome || {};\n","import {\n  HS_EVERYWHERE_WEBSITE_ALLOWLIST_KEY,\n  EverywhereWebsiteAllowlistValues,\n  HS_EVERYWHERE_DEFAULT_WEBSITE_ALLOWLIST,\n  HS_EVERYWHERE_WEBSITE_BLOCKLIST_KEY,\n  HS_EVERYWHERE_SETTINGS_CARD_VISIBILITY_PREFERENCES_KEY,\n  DEFAULT_EVERYWHERE_SETTINGS_VISIBILITY_PREFERENCES,\n  SettingsCard,\n  HS_EVERYWHERE_COPILOT_ENABLED_SETTINGS,\n} from '../constants/chromeStorage';\nimport { HS_EVERYWHERE_DEFAULT_WEBSITE_BLOCKLIST } from '../constants/everywhereDomains';\nimport { localGet, localSet } from 'sales-clients-common/chrome/safeStorage';\nimport { Tab } from 'sales-clients-common/chrome/types';\n// @ts-expect-error untyped\nimport chrome from 'sales-ext-common/globals/chrome';\nimport { sendMessage } from 'sales-clients-common/chrome/safeRuntime';\n\ntype LocalStorageType = {\n  [HS_EVERYWHERE_WEBSITE_ALLOWLIST_KEY]?: EverywhereWebsiteAllowlistValues[];\n  [HS_EVERYWHERE_WEBSITE_BLOCKLIST_KEY]?: string[];\n  [HS_EVERYWHERE_SETTINGS_CARD_VISIBILITY_PREFERENCES_KEY]?: Record<\n    SettingsCard,\n    boolean\n  >;\n  [HS_EVERYWHERE_COPILOT_ENABLED_SETTINGS]?: boolean;\n};\n\nexport function getEverywhereWebsiteAllowlist(): Promise<\n  EverywhereWebsiteAllowlistValues[]\n> {\n  return localGet(HS_EVERYWHERE_WEBSITE_ALLOWLIST_KEY).then(\n    (data?: LocalStorageType) =>\n      (data && data[HS_EVERYWHERE_WEBSITE_ALLOWLIST_KEY]) ||\n      HS_EVERYWHERE_DEFAULT_WEBSITE_ALLOWLIST\n  );\n}\n\nexport function setEverywhereWebsiteAllowlist(\n  allowlist: EverywhereWebsiteAllowlistValues[]\n) {\n  return localSet({ [HS_EVERYWHERE_WEBSITE_ALLOWLIST_KEY]: allowlist });\n}\n\nexport function getEverywhereWebsiteBlocklist(): Promise<string[]> {\n  return localGet(HS_EVERYWHERE_WEBSITE_BLOCKLIST_KEY).then(\n    (data?: LocalStorageType) =>\n      (data && data[HS_EVERYWHERE_WEBSITE_BLOCKLIST_KEY]) ||\n      HS_EVERYWHERE_DEFAULT_WEBSITE_BLOCKLIST\n  );\n}\n\nexport function setEverywhereWebsiteBlocklist(blocklist: string[]) {\n  return localSet({ [HS_EVERYWHERE_WEBSITE_BLOCKLIST_KEY]: blocklist });\n}\n\nexport function getEverywhereSettingsCardVisibilityPreferences(): Promise<\n  Record<SettingsCard, boolean>\n> {\n  return localGet(HS_EVERYWHERE_SETTINGS_CARD_VISIBILITY_PREFERENCES_KEY).then(\n    (data?: LocalStorageType) =>\n      (data && data[HS_EVERYWHERE_SETTINGS_CARD_VISIBILITY_PREFERENCES_KEY]) ||\n      DEFAULT_EVERYWHERE_SETTINGS_VISIBILITY_PREFERENCES\n  );\n}\n\nexport function setEverywhereSettingsCardVisibilityPreferences(\n  preferences: Record<SettingsCard, boolean>\n) {\n  return localSet({\n    [HS_EVERYWHERE_SETTINGS_CARD_VISIBILITY_PREFERENCES_KEY]: preferences,\n  });\n}\n\nexport function getCopilotSettings(): Promise<boolean> {\n  return localGet(HS_EVERYWHERE_COPILOT_ENABLED_SETTINGS).then(\n    (data?: LocalStorageType) => {\n      return data && data[HS_EVERYWHERE_COPILOT_ENABLED_SETTINGS] !== undefined\n        ? data[HS_EVERYWHERE_COPILOT_ENABLED_SETTINGS]\n        : true;\n    }\n  );\n}\n\nexport function setCopilotSettings(value: boolean) {\n  informRuntimeAndTabs('switchedCopilotSettingsFromPopup', value);\n  return localSet({\n    [HS_EVERYWHERE_COPILOT_ENABLED_SETTINGS]: value,\n  });\n}\n\nfunction informRuntimeAndTabs(method: string, value: any) {\n  const message = { method, value };\n  // Send message to runtime\n  sendMessage(message).catch((ex: Error) => {\n    console.error('sendMessage: informRuntimeAndTabs', ex);\n  });\n\n  // send messages to tabs. Many of these might not have listeners setup so we swallow the errors\n  chrome.tabs\n    .query({})\n    .then((tabs: Tab[]) => {\n      tabs.forEach((tab) => {\n        chrome.tabs.sendMessage(tab.id, message).catch((ex: Error) => {\n          console.info(`Error sending message to tab ${tab.id}:`, ex);\n        });\n      });\n    })\n    .catch((ex: Error) => {\n      console.error(`Error querying tabs:`, ex);\n    });\n}\n","export const Subdomains = {\n  APP: 'app',\n  APP_API: 'app-api',\n} as const;\n","// Enviro free implementation of `hubspot-url-utils`.\n\nimport * as Hublets from '../hublets';\nimport { Subdomains } from '../subdomains';\n\ntype Environment = 'prod' | 'qa';\ntype HubletPostfixLocation = 'subdomain' | 'domain';\n\nexport interface OverrideConfig {\n  domainOverride?: string;\n  envOverride?: Environment;\n  hubletOverride?: string;\n  hubletPostfixLocation?: HubletPostfixLocation;\n  tldOverride?: string;\n  hubletizeNa1?: boolean;\n}\n\nexport function getHubletPostfix(\n  hublet: string,\n  overrideConfig?: OverrideConfig\n): string {\n  const hasHubletOverride = overrideConfig && overrideConfig.hubletOverride;\n\n  const hubletToUse = hasHubletOverride\n    ? overrideConfig.hubletOverride!\n    : hublet;\n\n  const hubletizeNa1 = overrideConfig && overrideConfig.hubletizeNa1 === true;\n\n  if (hubletToUse === Hublets.na1 && !hubletizeNa1) {\n    return '';\n  }\n\n  return `-${hubletToUse}`;\n}\n\nexport function getSubDomain(\n  hublet: string,\n  prefix: string,\n  overrideConfig?: OverrideConfig\n): string {\n  const hasHubletPostfixOverride =\n    overrideConfig &&\n    overrideConfig.hubletPostfixLocation &&\n    overrideConfig.hubletPostfixLocation === 'domain';\n\n  if (hasHubletPostfixOverride) {\n    return prefix;\n  }\n\n  if (prefix === Subdomains.APP_API) {\n    prefix = Subdomains.APP;\n  }\n\n  return `${prefix}${getHubletPostfix(hublet, overrideConfig)}`;\n}\n\nexport function getDomain(\n  hublet: string,\n  short: 'prod' | 'qa',\n  overrideConfig?: OverrideConfig\n) {\n  const domainPrefix = getDomainPrefix(overrideConfig);\n  const envPostfix = getEnvPostfix(short, overrideConfig);\n  const hubletDomainPostfix = getHubletDomainPostfix(hublet, overrideConfig);\n\n  return `${domainPrefix}${envPostfix}${hubletDomainPostfix}`;\n}\n\nexport function getEnvPostfix(\n  short: 'prod' | 'qa',\n  overrideConfig?: OverrideConfig\n) {\n  const hasEnvOverride = overrideConfig && overrideConfig.envOverride;\n  const envToUse = hasEnvOverride ? overrideConfig!.envOverride : short;\n\n  if (envToUse === 'qa') {\n    return 'qa';\n  }\n\n  return '';\n}\n\nexport function getDomainPrefix(overrideConfig?: OverrideConfig) {\n  const hasDomainOverride = overrideConfig && overrideConfig.domainOverride;\n  if (hasDomainOverride) {\n    return overrideConfig!.domainOverride;\n  }\n\n  return 'hubspot';\n}\n\nexport function getHubletDomainPostfix(\n  hublet: string,\n  overrideConfig?: OverrideConfig\n) {\n  const hasHubletPostfixxOverride =\n    overrideConfig &&\n    overrideConfig.hubletPostfixLocation &&\n    overrideConfig.hubletPostfixLocation === 'domain';\n\n  if (!hasHubletPostfixxOverride) {\n    return '';\n  }\n\n  return getHubletPostfix(hublet, overrideConfig);\n}\n\nexport function getTld(overrideConfig?: OverrideConfig) {\n  const hasTldOverride = overrideConfig && overrideConfig.tldOverride;\n\n  if (hasTldOverride) {\n    return overrideConfig!.tldOverride;\n  }\n\n  return 'com';\n}\n\nexport function getPathPrefix(subDomainPrefix: string) {\n  if (subDomainPrefix === Subdomains.APP_API) {\n    return '/api';\n  }\n  return '';\n}\n","import enviro from 'enviro';\nimport * as PureUrlUtils from './pure-url-utils';\n\ntype Environment = 'prod' | 'qa';\ntype HubletPostfixLocation = 'subdomain' | 'domain';\n\nexport interface OverrideConfig {\n  domainOverride?: string;\n  envOverride?: Environment;\n  hubletOverride?: string;\n  hubletPostfixLocation?: HubletPostfixLocation;\n  tldOverride?: string;\n}\n\nfunction getHubletToUse(overrideConfig?: OverrideConfig) {\n  return overrideConfig && overrideConfig.hubletOverride\n    ? overrideConfig.hubletOverride\n    : enviro.getHublet();\n}\n\nfunction getEnvToUse(overrideConfig?: OverrideConfig): Environment {\n  return overrideConfig && overrideConfig.envOverride\n    ? overrideConfig.envOverride\n    : (enviro.getShort() as Environment);\n}\n\nexport function getHubletPostfix(overrideConfig?: OverrideConfig): string {\n  const hubletToUse = getHubletToUse(overrideConfig);\n  return PureUrlUtils.getHubletPostfix(hubletToUse, overrideConfig);\n}\n\nexport function getSubDomain(\n  prefix: string,\n  overrideConfig?: OverrideConfig\n): string {\n  const hubletToUse = getHubletToUse(overrideConfig);\n  return PureUrlUtils.getSubDomain(hubletToUse, prefix, overrideConfig);\n}\n\nexport function getDomain(overrideConfig?: OverrideConfig) {\n  const hublet = getHubletToUse(overrideConfig);\n  const short = getEnvToUse(overrideConfig);\n\n  return PureUrlUtils.getDomain(hublet, short, overrideConfig);\n}\n\nexport function getEnvPostfix(overrideConfig?: OverrideConfig) {\n  const envToUse = getEnvToUse(overrideConfig);\n  return PureUrlUtils.getEnvPostfix(envToUse, overrideConfig);\n}\n\nexport function getDomainPrefix(overrideConfig?: OverrideConfig) {\n  return PureUrlUtils.getDomainPrefix(overrideConfig);\n}\n\nexport function getHubletDomainPostfix(overrideConfig?: OverrideConfig) {\n  const hubletToUse = getHubletToUse(overrideConfig);\n  return PureUrlUtils.getHubletDomainPostfix(hubletToUse, overrideConfig);\n}\n\nexport function getTld(overrideConfig?: OverrideConfig) {\n  return PureUrlUtils.getTld(overrideConfig);\n}\n\nexport function getPathPrefix(subDomainPrefix: string) {\n  return PureUrlUtils.getPathPrefix(subDomainPrefix);\n}\n","import enviro from 'enviro';\nimport {\n  OverrideConfig as OverrideConfigType,\n  getSubDomain,\n  getDomain,\n  getTld,\n  getPathPrefix,\n} from './internal';\n\nexport type OverrideConfig = OverrideConfigType;\n\nexport function getFullUrl(\n  subDomainPrefix: string,\n  overrideConfig?: OverrideConfig\n): string {\n  const subDomain = getSubDomain(subDomainPrefix, overrideConfig);\n  const domain = getDomain(overrideConfig);\n  const tld = getTld(overrideConfig);\n  const pathPrefix = getPathPrefix(subDomainPrefix);\n\n  return `https://${subDomain}.${domain}.${tld}${pathPrefix}`;\n}\n\nexport function getFullUrlWithCurrentSubDomain(): string {\n  const subdomain = enviro.deployed() ? 'app' : 'local';\n  return getFullUrl(subdomain);\n}\n","import { LAST_LOGIN_PORTAL_ID_KEY } from 'sales-clients-common/constants/StorageKeys';\nimport logger from 'sales-clients-common/utils/logger';\nimport { sendMessage } from 'sales-clients-common/chrome/safeRuntime';\nimport { localSet } from 'sales-clients-common/chrome/safeStorage';\nimport {\n  SHORTLINK,\n  CALENDAR_CONNECTED,\n} from 'sales-ext-common/constants/backgroundMessagingMethods';\nimport {\n  listenToBackground,\n  sendToBackground,\n  // @ts-expect-error untyped\n} from 'sales-ext-common/utils/contentScriptMessaging';\nimport {\n  PERMISSION_REQUEST_ORIGIN,\n  HUBSPOT_EVERYWHERE_METHOD,\n  START_EVERYWHERE_DEMO,\n  CONTINUE_EVERYWHERE_DEMO,\n} from 'sales-ext-common/constants/backgroundMessagingMethods';\nimport {\n  getEverywhereWebsiteAllowlist,\n  setEverywhereWebsiteAllowlist,\n} from 'sales-ext-common/utils/everywhereWebsiteSettings';\nimport { removeMessageListener } from 'sales-clients-common/chrome/safeRuntime';\nimport { getFullUrlWithCurrentSubDomain } from 'hubspot-url-utils';\n\ninterface PortalData {\n  [key: string]: {\n    portal_id: number;\n    hublet: string;\n  };\n}\n\nexport const shortlinkLoginListener = (evt: MessageEvent) => {\n  const message = evt.data;\n  logger.debug(`shortlinkLoginListener - Received message: ${message}`);\n\n  /* Incoming message format:\n   * PORTALID_{portalId}_HUBLET_{hublet}\n   */\n  if (message.indexOf && message.indexOf('PORTALID_') !== -1) {\n    const values = message.split('_');\n    const data: PortalData = {\n      [LAST_LOGIN_PORTAL_ID_KEY]: {\n        portal_id: Number(values[1]),\n        hublet: values[3],\n      },\n    };\n\n    localSet(data).catch(() => {\n      logger.error(\n        'shortlinkLoginListener - Unable to set last portal in storage.local'\n      );\n    });\n\n    // Message CRX that portal picking is complete\n    sendMessage({\n      method: SHORTLINK,\n      data: false,\n    }).catch((err: any) => {\n      throw err;\n    });\n  }\n};\n\n// evt: MessageEvent;\nexport const everywhereOnboardDemoListener = (evt: MessageEvent) => {\n  const message = evt.data;\n  logger.debug(\n    `everywhereOnboardDemoListener - Received message: ${message.type}`\n  );\n  switch (message.type) {\n    case 'FROM_HOST_HANDSHAKE':\n      window.postMessage(\n        {\n          type: 'FROM_EXTENSION_HANDSHAKE_ACK',\n        },\n        getFullUrlWithCurrentSubDomain()\n      );\n      break;\n    case 'EXTENSION_ALLOWLIST_REQUEST':\n      getEverywhereWebsiteAllowlist()\n        .then((allowlist) => {\n          window.postMessage(\n            {\n              type: 'EVERYWHERE_SETTINGS_STATE',\n              value: allowlist,\n            },\n            getFullUrlWithCurrentSubDomain()\n          );\n        })\n        .catch((err) => {\n          logger.error(\n            'everywhereOnboardDemoListener - Unable to get everywhere website allowlist'\n          );\n          throw err;\n        });\n      break;\n\n    case 'ENABLE_EVERYWHERE_SETTINGS':\n      {\n        const permissionListener = listenToBackground(\n          PERMISSION_REQUEST_ORIGIN,\n          ({ granted }: { granted: boolean }) => {\n            if (granted) {\n              setEverywhereWebsiteAllowlist(message.value.newOriginPermissions)\n                .then(() => {\n                  window.postMessage(\n                    {\n                      type: 'EVERYWHERE_SETTINGS_STATE',\n                      value: message.value.newOriginPermissions,\n                    },\n                    getFullUrlWithCurrentSubDomain()\n                  );\n                })\n                .catch((err: Error) => {\n                  console.error(err);\n                });\n\n              removeMessageListener(permissionListener);\n            }\n          }\n        );\n        sendToBackground(PERMISSION_REQUEST_ORIGIN, message.value).catch(\n          (error: Error) => {\n            console.error('sendMessage: PERMISSION_REQUEST_ORIGIN', error);\n          }\n        );\n      }\n      break;\n    default:\n      break;\n  }\n  if (message.type === START_EVERYWHERE_DEMO) {\n    // Listen for the continue message from the sidePanel through background script\n    const onboardingListener = listenToBackground(\n      'HS_CONTINUE_EVERYWHERE_DEMO',\n      () => {\n        removeMessageListener(onboardingListener);\n        window.postMessage(\n          {\n            type: CONTINUE_EVERYWHERE_DEMO,\n          },\n          getFullUrlWithCurrentSubDomain()\n        );\n      }\n    );\n    // Send the start message to the sidePanel through background script\n    sendToBackground(HUBSPOT_EVERYWHERE_METHOD, {\n      type: START_EVERYWHERE_DEMO,\n    }).catch((error: Error) => {\n      console.error(\n        'sendMessage: HUBSPOT_EVERYWHERE_METHOD: START_EVERYWHERE_DEMO',\n        error\n      );\n    });\n  }\n};\n\nexport const calendarConnectedListener = (evt: MessageEvent) => {\n  if (!evt || !evt.data) {\n    return;\n  }\n  const message = evt.data;\n\n  if (message.method === CALENDAR_CONNECTED) {\n    logger.debug(`calendarConnectedListener - Received message: `, message);\n    sendMessage({\n      method: CALENDAR_CONNECTED,\n      data: false,\n    }).catch((err: any) => {\n      throw err;\n    });\n  }\n};\n","export const SHORTLINK_OPEN = 'SHORTLINK_OPEN';\n","import { LogMessage } from 'sales-clients-common/utils/reportError';\n// @ts-expect-error untyped\nimport chrome from 'SignalsExtension/globals/chrome';\nimport { reload } from 'sales-clients-common/chrome/safeRuntime';\nimport logger from 'SignalsExtension/utils/logger';\nimport { SHORTLINK_OPEN } from 'SignalsExtension/constants/StorageKeys';\n// @ts-expect-error untyped\nimport localStorage from 'SignalsExtension/globals/localStorage';\nimport { origins } from 'sales-ext-common/constants/backgroundMessagingMethods';\nimport {\n  HS_EVERYWHERE_WEBSITE_SALESFORCE_VALUE,\n  HS_EVERYWHERE_ALL_OTHER_SITES_VALUE,\n  HS_EVERYWHERE_DEMO_WEBSITES,\n} from 'sales-ext-common/constants/chromeStorage';\nimport { LogInfo } from 'sales-clients-common/utils/reportError';\nimport { ChromeTab } from '../types/chrome';\nimport {\n  getEverywhereWebsiteAllowlist,\n  getEverywhereWebsiteBlocklist,\n} from 'sales-ext-common/utils/everywhereWebsiteSettings';\nimport { HS_EVERYWHERE_BLOCKED_HUBSPOT_DOMAINS } from 'sales-ext-common/constants/everywhereDomains';\nimport { Tab, Window, WindowType } from 'sales-clients-common/chrome/types';\n\nconst GMAIL_URL_REGEX = new RegExp(/.*:\\/\\/mail\\.google\\.com/);\nconst BLOCKED_WINDOW_TYPES: WindowType[] = ['popup'];\n\n// Iterates over all tabs with the given url\n// If url == null, iterate over all tabs\nexport const forAllTabs = (url: string, fn: (tab: ChromeTab) => void) =>\n  chrome.tabs\n    .query({})\n    .then((tabs: ChromeTab[]) => {\n      for (const tab of Array.from(tabs)) {\n        if (url == null || tab.url.indexOf(url) !== -1) {\n          fn(tab);\n        }\n      }\n    })\n    .catch(() => {\n      // This function is usually used for non critical operations (ex: reloading gmail)\n      // so it shouldn't be a blocker if something goes wrong\n      throw new Error('Error in SignalsExtension: forAllTabs');\n    });\n\nexport const reloadTabs = async (pattern: string) =>\n  await forAllTabs(pattern, (tab) => {\n    // Bypass cache to ensure that the CSP headers get updated\n    chrome.tabs.reload(tab.id, { bypassCache: true }).catch((error: Error) => {\n      LogMessage({\n        error,\n        fingerprint: ['reloadTabs'],\n        tags: { source: 'reloadTabs' },\n        stacktrace: true,\n      });\n    });\n  });\n\nexport const reloadGmailTabs = async () => {\n  try {\n    if (localStorage.getItem(SHORTLINK_OPEN) !== 'true')\n      await reloadTabs('mail.google.com/mail');\n  } catch (error) {\n    logger.log(`Failed to get SHORTLINK_OPEN : ${error}`);\n    await reloadTabs('mail.google.com/mail');\n  }\n};\n\nexport const reloadSFDCTabs = (\n  { overridePermissionsCheck } = { overridePermissionsCheck: false }\n) => {\n  if (overridePermissionsCheck) {\n    void reloadTabs(origins.sfdc.domain);\n    return;\n  }\n\n  chrome.permissions\n    .contains({\n      origins: [origins.sfdc.matcher],\n    })\n    .then(async (granted: boolean) => {\n      if (granted) {\n        await reloadTabs(origins.sfdc.domain);\n      }\n    })\n    .catch((err: Error) => {\n      LogInfo({\n        error: err,\n        fingerprint: ['tabs/reloadSFDCTabs'],\n        tags: { source: 'chrome.permissions.contains' },\n        extraData: {\n          params: [\n            {\n              origins: [origins.sfdc.matcher],\n            },\n          ],\n        },\n      });\n    });\n};\n\nexport const restartExtension = () => {\n  try {\n    if (localStorage.getItem(SHORTLINK_OPEN) !== 'true') reload();\n  } catch (error) {\n    logger.log(`Failed to get SHORTLINK_OPEN : ${error}`);\n    reload();\n  }\n};\n\nexport const openInActiveTab = (redirectUrl: string) =>\n  chrome.tabs.update(undefined, { url: redirectUrl });\n\nexport async function shouldRunEverywhereScript(tab: Tab): Promise<boolean> {\n  const tabUrl = tab.url;\n  if (!tabUrl) {\n    return false;\n  }\n\n  // Gmail page script handled separately as it doesn't run the everywhere script\n  if (tabUrl.match(GMAIL_URL_REGEX)) {\n    return false;\n  }\n\n  const windowType = await chrome.windows\n    .get(tab.windowId)\n    .then((w: Window) => w.type);\n\n  if (BLOCKED_WINDOW_TYPES.includes(windowType)) {\n    return false;\n  }\n\n  const everywhereAllowlist = await getEverywhereWebsiteAllowlist();\n  const everywhereBlocklist = await getEverywhereWebsiteBlocklist();\n  const everywhereBlocklistWithHSDomains = [\n    ...everywhereBlocklist,\n    ...HS_EVERYWHERE_BLOCKED_HUBSPOT_DOMAINS,\n  ];\n\n  const blocklistMatch = everywhereBlocklistWithHSDomains.find(\n    (blocklistUrl) => {\n      return (\n        tabUrl.includes(blocklistUrl) &&\n        // If the tab is a everywhere onboarding demo page, we should allow the script\n        !HS_EVERYWHERE_DEMO_WEBSITES.some((demoUrl) => tabUrl.includes(demoUrl))\n      );\n    }\n  );\n\n  if (blocklistMatch) {\n    return false;\n  }\n\n  if (tabUrl.includes(origins.sfdc.domain)) {\n    return everywhereAllowlist.includes(HS_EVERYWHERE_WEBSITE_SALESFORCE_VALUE);\n  }\n\n  return everywhereAllowlist.includes(HS_EVERYWHERE_ALL_OTHER_SITES_VALUE);\n}\n","/* eslint-disable */\n\nimport 'SignalsExtension/shims/bender-fill';\nimport location from 'SignalsExtension/globals/location';\nimport chrome from '../globals/chrome';\nimport PortalIdParser from 'PortalIdParser';\nimport { localSet, localGet } from 'sales-clients-common/chrome/safeStorage';\nimport { LAST_LOGIN_PORTAL_ID_KEY } from 'sales-clients-common/constants/StorageKeys';\nimport logger from 'SignalsExtension/utils/logger';\nimport env from 'enviro';\nimport {\n  shortlinkLoginListener,\n  everywhereOnboardDemoListener,\n  calendarConnectedListener,\n} from 'sales-ext-common/utils/listeners';\nimport { restartExtension } from 'SignalsExtension/utils/tabs';\nimport { getFullUrlWithCurrentSubDomain } from 'hubspot-url-utils';\n\nconst PLAYGROUND_PAGE_URL_PATTERN =\n  /^.*(hubspotqa|hubspot)\\.com\\/sales-clients-common-playground\\/\\d+\\/chrome-extension.*/i;\nconst LOGIN_PORTAL_PICKED_URL_PATTERN =\n  /^.*(hubspotqa|hubspot)\\.com\\/sales-client-iframes\\/\\d+\\/portal-picked$/;\nconst ONBOARDING_DEMO_PORTAL_URL_PATTERN =\n  /^.*(hubspotqa|hubspot)\\.com\\/everywhere-onboarding(\\/demo)*/;\nconst CALENDAR_SETTINGS_URL_PATTERN =\n  /^.*(hubspotqa|hubspot)\\.com\\/settings\\/\\d+\\/user-preferences\\/calendar.*$/;\n\nconst TRACKED_EMAILS_KEY = 'sales:clients:emailAddresses';\nconst PICKED_PORTAL_KEY = 'last_login_portal_id';\n\nfunction initializePortalPickedPage() {\n  window.addEventListener('message', shortlinkLoginListener);\n}\n\nfunction handleEnvironmentUpdate(evt) {\n  const { detail } = evt;\n  const promises = [];\n\n  if (detail.environment) {\n    promises.push(localSet({ ENV: detail.environment }));\n  }\n\n  if (detail.trackedAccounts) {\n    promises.push(localSet({ [TRACKED_EMAILS_KEY]: detail.trackedAccounts }));\n  }\n\n  if (detail.pickedPortal) {\n    promises.push(localSet({ [PICKED_PORTAL_KEY]: detail.pickedPortal }));\n  }\n\n  Promise.all(promises)\n    .then(restartExtension)\n    .catch((error) => {\n      console.error('An error occurred:', error);\n    });\n}\n\nfunction initializePlaygroundPage() {\n  document.addEventListener(\n    'sales:extension:environment:update',\n    handleEnvironmentUpdate\n  );\n}\n\nfunction injectScript() {\n  // We inject SIG_EXT into the host page so, other _things_ can know the extension is loaded\n  const script = document.createElement('script');\n  script.setAttribute(\n    'src',\n    chrome.runtime.getURL('js/setSigExtWindowObject.ts')\n  );\n  (document.head || document.documentElement).appendChild(script);\n  script.parentNode.removeChild(script);\n}\n\nfunction listenForSalesNotifications() {\n  const channel = new BroadcastChannel('hubspot-sales-extension');\n  channel.onmessage = (event) => {\n    chrome.runtime.sendMessage({\n      method: 'notificationReceived',\n      data: event.data.id,\n    });\n  };\n}\n\nfunction setLastLoginPortalId() {\n  try {\n    const hublet = env.getHublet();\n    const portalId = PortalIdParser.get();\n    localGet(LAST_LOGIN_PORTAL_ID_KEY)\n      .then((data) => {\n        if (!data[LAST_LOGIN_PORTAL_ID_KEY] && hublet && portalId) {\n          return localSet({\n            [LAST_LOGIN_PORTAL_ID_KEY]: {\n              portal_id: portalId,\n              hublet,\n            },\n          });\n        }\n      })\n      .catch(() => {\n        logger.error('init/sigExt - unable to set portal id in storage.local');\n      });\n  } catch (e) {\n    logger.error(`get hublet and portalId: ${e.message || e}`);\n  }\n}\n\nfunction initializeExtension() {\n  // Notify the listener pages that the content script is ready for communication\n  window.postMessage(\n    { type: 'FROM_EXTENSION_HANDSHAKE_ACK' },\n    getFullUrlWithCurrentSubDomain()\n  );\n\n  if (LOGIN_PORTAL_PICKED_URL_PATTERN.test(location.href)) {\n    initializePortalPickedPage();\n  }\n\n  if (PLAYGROUND_PAGE_URL_PATTERN.test(location.href)) {\n    initializePlaygroundPage();\n  }\n\n  listenForSalesNotifications();\n\n  if (ONBOARDING_DEMO_PORTAL_URL_PATTERN.test(location.href)) {\n    window.addEventListener('message', everywhereOnboardDemoListener);\n  }\n\n  if (CALENDAR_SETTINGS_URL_PATTERN.test(location.href)) {\n    window.addEventListener('message', calendarConnectedListener);\n  }\n\n  setLastLoginPortalId();\n  injectScript();\n}\n\ndocument.addEventListener('DOMContentLoaded', initializeExtension, false);\n"],"names":["bender","require","self","hubspot","depVersions","salesImages","currentProject","project","currentProjectVersion","window","module","exports","SUBDOMAINS","NET_DOMAINS","ORG_DOMAINS","DOMAINS","com","join","net","org","createEnviro","location","isDeployed","RegExp","Object","entries","map","tld","regexList","test","hostname","qaRe","HUBLET_REGEXPS","defaultKey","DEFAULT_NOT_SUPPORTED_ERROR_MSG","getEnv","key","result","sessionStorage","getItem","e","localStorage","getDefaultEnv","env","host","setEnv","MAP","prod","qa","normalize","lower","toLowerCase","denormalize","undefined","keys","find","ours","get","service","defaultVal","Error","parts","split","reverse","i","length","pathPart","toUpperCase","defaultEnv","set","arguments","getInternal","getShort","isProd","isQa","getHublet","hubletOverride","regexp","exec","ifHublet","isNa1","isNonNa1","hublet","debug","deployed","enabled","JSON","stringify","setDebug","val","setItem","removeItem","document","Raven","RavenConstructor","_window","g","_Raven","noConflict","afterLoad","config","bind","install","setDSN","context","wrap","uninstall","capturePageEvent","captureException","captureMessage","captureBreadcrumb","addPlugin","setUserContext","setExtraContext","setTagsContext","clearContext","getContext","setEnvironment","setRelease","setDataCallback","setBreadcrumbCallback","setShouldSendCallback","setTransport","lastException","lastEventId","isSetup","showReportDialog","MAX_TRAVERSE_HEIGHT","MAX_CLASSES_LENGTH","ATTRIBUTE_WHITELIST","htmlTreeAsString","target","out","separator","currentElement","height","nextStr","htmlElementAsString","push","parentNode","element","tagName","id","attribute","value","getAttribute","classesLength","className","classList","startsWith","TraceKit","RavenConfigError","getCorrelationIdFromResponse","getCorrelationIdFromXHR","isError","isObject","isErrorEvent","isUndefined","isFunction","isString","isEmptyObject","each","objectMerge","truncate","hasKey","joinRegExp","urlencode","uuid4","isSameException","isSameStacktrace","parseUrl","fill","wrapConsoleMethod","dsnKeys","dsnPattern","now","Date","_document","_navigator","navigator","keepOriginalCallback","original","callback","data","this","_hasJSON","_hasDocument","_hasNavigator","_lastCapturedException","_lastData","_lastEventId","_globalServer","_globalKey","_globalProject","_globalContext","_globalOptions","logger","ignoreErrors","ignoreUrls","whitelistUrls","includePaths","collectWindowErrors","maxMessageLength","maxUrlLength","stackTraceLimit","autoBreadcrumbs","instrument","sampleRate","chirpErrorEnhancement","extractServiceInfo","enhanceErrorMessages","includeCallStack","maxNestingDepth","_ignoreOnError","_isRavenInstalled","_originalErrorStackTraceLimit","_originalConsole","console","_originalConsoleMethods","_plugins","_startTime","_wrappedBuiltIns","_breadcrumbs","_lastCapturedEvent","_keypressTimeout","_location","_lastHref","href","_resetBackoff","method","prototype","VERSION","dsn","options","_logDebug","globalOptions","maxBreadcrumbs","Math","max","min","autoBreadcrumbDefaults","xhr","dom","toString","call","instrumentDefaults","tryCatch","report","subscribe","_handleOnErrorStackInfo","apply","_instrumentTryCatch","_instrumentBreadcrumbs","_drainPlugins","uri","_parseDSN","lastSlash","path","lastIndexOf","substr","_dsn","user","_globalSecret","pass","_getGlobalServer","_globalEndpoint","_globalPageEventEndpoint","func","args","_before","__raven__","__raven_wrapper__","ravenWrapped","deep","_ignoreNextOnError","property","__inner__","_restoreBuiltIns","eventName","_clearExtraAttribute","message","level","isPageEvent","_send","ex","error","isNotError","isNotErrorEvent","isErrorEventWithoutError","trimHeadFrames","stacktrace","errorCause","cause","_processErrorCause","extraData","_isChirpError","_enhanceChirpError","stack","computeStackTrace","_handleStackInfo","ex1","msg","_triggerEvent","name","initialCall","fileurl","url","fingerprint","frames","_prepareFrames","obj","crumb","timestamp","breadcrumbCallback","shift","plugin","pluginArgs","slice","extra","_mergeContext","tags","parse","environment","release","dataCallback","shouldSendCallback","transport","ravenNotConfiguredError","RavenConfig","eventId","encode","encodeURIComponent","qs","email","globalServer","script","createElement","async","src","head","body","appendChild","errorCauseStack","errorCauseStackFrames","stackFrame","file","filename","methodName","function","lineNumber","lineno","column","colno","errorCauseMessage","includes","_hasChirpErrorStructure","_containsChirpErrorInstance","deepError","constructor","type","chirpContext","_extractChirpContext","chirpServiceName","serviceName","chirpMethodName","chirpErrorType","errorType","chirpUserDefinedError","userDefinedError","chirpInternalErrorType","internalErrorType","chirpOriginalMessage","originalMessage","chirpCallStack","callStack","chirpRequestInfo","requestInfo","_formatEnhancedChirpMessage","messageMatch","match","currentError","depth","maxDepth","_extractServiceName","chirpErrorMessage","internalError","serviceMatch","enhanced","setTimeout","eventType","evt","createEvent","initEvent","createEventObject","dispatchEvent","fireEvent","_breadcrumbEventHandler","evtName","category","_keypressEventHandler","debounceDuration","isContentEditable","timeout","clearTimeout","_captureUrlChange","from","to","parsedLoc","parsedTo","parsedFrom","protocol","relative","redactSensitiveUrlParams","wrappedBuiltIns","wrapTimeFn","orig","fn","t","Array","originalCallback","wrapEventTarget","global","proto","hasOwnProperty","capture","secure","handleEvent","err","before","clickHandler","keypressHandler","requestAnimationFrame","cb","eventTargets","wrapProp","prop","xhrproto","XMLHttpRequest","origOpen","indexOf","__raven_xhr","status_code","origSend","onreadystatechangeHandler","readyState","status","correlationId","props","j","onreadystatechange","origFetch","ravenFetchWrapper","fetchInput","Request","fetchData","then","response","addEventListener","attachEvent","chrome","hasPushAndReplaceState","app","runtime","history","pushState","replaceState","oldOnPopState","onpopstate","currentHref","historyReplacementFunction","origHistFunction","log","consoleMethodCallback","_","builtin","installer","concat","str","m","allowSecretKey","port","stackInfo","_processException","frame","_normalizeFrame","in_app","some","k","l","stackInfoUrl","normalized","line","prefixedMessage","exception","values","culprit","_trimPacket","request","Referer","_getHttpData","httpData","userAgent","headers","referrer","_backoffDuration","_backoffStart","_shouldBackoff","_isRepeatData","current","last","_setBackoffState","retry","getResponseHeader","parseInt","_getRecentFailedNetworkRequest","recentBreadcrumbs","breadcrumb","baseData","platform","sessionId","hmplData","parsedHmplData","session_id","recentFailedRequest","breadcrumbs","serverName","server_name","random","_sendProcessedPayload","_getUuid","allowDuplicates","event_id","auth","sentry_version","sentry_client","sentry_key","sentry_secret","params","hasProjectTag","hasParams","deployable","_makeRequest","query","onSuccess","onError","opts","XDomainRequest","replace","onload","onerror","open","send","originalError","Function","setUser","setReleaseContext","what","supportsErrorEvent","ErrorEvent","wrappedCallback","normalizedData","obj1","obj2","objectFrozen","isFrozen","object","patterns","pattern","sources","len","source","o","pairs","fragment","crypto","msCrypto","getRandomValues","arr","Uint16Array","pad","num","v","c","r","isOnlyOneTruthy","a","b","ex2","isSameObject","keys1","keys2","stack1","stack2","frames1","frames2","replacement","track","parsedUrl","URL","searchParams","has","hash","substring","utils","_slice","UNKNOWN_FUNCTION","ERROR_TYPES_RE","getLocationHref","_oldOnerrorHandler","_onErrorHandlerInstalled","handlers","lastArgs","lastExceptionStack","handler","installGlobalHandler","unsubscribe","splice","unsubscribeAll","uninstallGlobalHandler","notifyHandlers","isWindowError","inner","traceKitWindowOnError","lineNo","colNo","augmentStackTraceWithInitialElement","processLastException","groups","_lastExceptionStack","_lastArgs","rethrow","incomplete","computeStackTraceFromStackProp","submatch","gecko","winjs","geckoEval","chromeEval","lines","isNative","columnNumber","initial","unshift","partial","computeStackTraceByWalkingCallerChain","item","functionName","funcs","recursion","curr","caller","input","sourceURL","fileName","description","getSerialize","serializer","haystack","needle","replacer","spaces","cycleReplacer","stringifyError","thisPos","Infinity","getCorrelationIdFromServerTiming","serverTiming","_valueEntry$split$","hcidEntry","entry","trim","valueEntry","endsWith","allHeaders","getAllResponseHeaders","xHubspotCorrelationIdHeader","header","serverTimingHeader","_find","xHubspotCorrelationId","wrapMethod","originalConsoleLevel","originalConsole","sentryLevel","factory","SLICE$0","createClass","ctor","superClass","create","Iterable","isIterable","Seq","KeyedIterable","isKeyed","KeyedSeq","IndexedIterable","isIndexed","IndexedSeq","SetIterable","isAssociative","SetSeq","maybeIterable","IS_ITERABLE_SENTINEL","maybeKeyed","IS_KEYED_SENTINEL","maybeIndexed","IS_INDEXED_SENTINEL","maybeAssociative","isOrdered","maybeOrdered","IS_ORDERED_SENTINEL","Keyed","Indexed","Set","DELETE","SHIFT","SIZE","MASK","NOT_SET","CHANGE_LENGTH","DID_ALTER","MakeRef","ref","SetRef","OwnerID","arrCopy","offset","newArr","ii","ensureSize","iter","size","__iterate","returnTrue","wrapIndex","index","uint32Index","NaN","wholeSlice","begin","end","resolveBegin","resolveIndex","resolveEnd","defaultIndex","ITERATE_KEYS","ITERATE_VALUES","ITERATE_ENTRIES","REAL_ITERATOR_SYMBOL","Symbol","iterator","FAUX_ITERATOR_SYMBOL","ITERATOR_SYMBOL","Iterator","next","KEYS","VALUES","ENTRIES","inspect","toSource","iteratorValue","iteratorResult","done","iteratorDone","hasIterator","getIteratorFn","isIterator","maybeIterator","getIterator","iterable","iteratorFn","isArrayLike","emptySequence","toSeq","seqFromValue","of","__toString","cacheResult","_cache","__iterateUncached","entrySeq","toArray","seqIterate","__iterator","seqIterator","toKeyedSeq","fromEntrySeq","keyedSeqFromValue","toIndexedSeq","indexedSeqFromValue","toSetSeq","isSeq","EMPTY_SEQ","EMPTY_REPEAT","EMPTY_RANGE","IS_SEQ_SENTINEL","ArraySeq","array","_array","notSetValue","maxIndex","ObjectSeq","_object","_keys","IterableSeq","_iterable","iterations","step","__iteratorUncached","IteratorSeq","_iterator","_iteratorCache","cache","maybeSeq","seq","isArray","TypeError","maybeIndexedSeqFromValue","useKeys","fromJS","json","converter","fromJSWith","fromJSDefault","parentJSON","isPlainObj","toList","toMap","is","valueA","valueB","valueOf","equals","deepEqual","__hash","notAssociative","every","flipped","allEqual","bSize","Repeat","times","_value","searchValue","this$0","other","invariant","condition","Range","start","abs","_start","_end","_step","ceil","possibleIndex","floor","offsetValue","Collection","KeyedCollection","IndexedCollection","SetCollection","imul","d","smi","i32","h","STRING_HASH_CACHE_MIN_STRLEN","cachedHashString","hashString","hashCode","hashJSObj","string","stringHashCache","STRING_HASH_CACHE_SIZE","STRING_HASH_CACHE_MAX_SIZE","charCodeAt","usingWeakMap","weakMap","UID_HASH_KEY","canDefineProperty","propertyIsEnumerable","getIENodeHash","objHashUID","isExtensible","defineProperty","nodeType","node","uniqueID","documentElement","WeakMap","assertNotInfinite","Map","emptyMap","isMap","withMutations","forEach","keyValues","_root","updateMap","setIn","keyPath","updateIn","remove","deleteIn","update","updater","updatedValue","updateInDeepMap","forceIterator","clear","__ownerID","__altered","merge","mergeIntoMapWith","mergeWith","merger","mergeIn","iters","mergeDeep","deepMerger","mergeDeepWith","deepMergerWith","mergeDeepIn","sort","comparator","OrderedMap","sortFactory","sortBy","mapper","mutable","asMutable","wasAltered","__ensureOwner","asImmutable","MapIterator","iterate","ownerID","makeMap","maybeMap","IS_MAP_SENTINEL","EMPTY_MAP","MapPrototype","removeIn","ArrayMapNode","keyHash","didChangeSize","didAlter","removed","idx","exists","MAX_ARRAY_MAP_SIZE","createNodes","isEditable","newEntries","pop","BitmapIndexedNode","bitmap","nodes","bit","popCount","keyHashFrag","newNode","updateNode","MAX_BITMAP_INDEXED_SIZE","expandNodes","isLeafNode","newBitmap","newNodes","spliceOut","spliceIn","HashArrayMapNode","count","newCount","MIN_HASH_ARRAY_MAP_SIZE","packNodes","HashCollisionNode","mergeIntoNode","ValueNode","keyMatch","_type","_reverse","_stack","mapIteratorFrame","mapIteratorValue","subNode","__prev","prev","root","newRoot","newSize","idx1","idx2","excluding","packedII","packedNodes","including","expandedNodes","iterables","mergeIntoCollectionWith","existing","nextValue","collection","filter","x","mergeIntoMap","keyPathIter","isNotSet","existingValue","newValue","nextExisting","nextUpdated","canEdit","newArray","newLen","after","List","empty","emptyList","isList","makeList","VNode","list","setSize","listNodeFor","_origin","updateList","insert","_capacity","_level","_tail","oldSize","setListBounds","mergeIntoListWith","iterateList","DONE","maybeList","IS_LIST_SENTINEL","ListPrototype","removeBefore","originIndex","newChild","removingFirst","oldChild","editable","editableVNode","removeAfter","sizeIndex","EMPTY_LIST","EMPTY_ORDERED_MAP","left","right","tailPos","getTailOffset","tail","iterateNodeOrLeaf","iterateLeaf","iterateNode","origin","capacity","newTail","updateVNode","nodeHas","lowerNode","newLowerNode","rawIndex","owner","oldOrigin","oldCapacity","newOrigin","newCapacity","newLevel","offsetShift","oldTailOffset","newTailOffset","oldTail","beginIndex","maxSize","emptyOrderedMap","isOrderedMap","_map","_list","updateOrderedMap","newMap","newList","makeOrderedMap","maybeOrderedMap","omap","flip","ToKeyedSequence","indexed","_iter","_useKeys","valueSeq","reversedSequence","reverseFactory","mappedSequence","mapFactory","resolveSize","ToIndexedSequence","ToSetSequence","FromEntriesSequence","validateEntry","indexedIterable","cacheResultThrough","flipFactory","flipSequence","makeSequence","filterFactory","predicate","filterSequence","countByFactory","grouper","groupByFactory","isKeyedIter","coerce","iterableClass","reify","sliceFactory","originalSize","resolvedBegin","resolvedEnd","sliceSize","resolvedSize","sliceSeq","skipped","isSkipping","takeWhileFactory","takeSequence","iterating","skipWhileFactory","skipSequence","skipping","concatFactory","isKeyedIterable","singleton","concatSeq","flatten","reduce","sum","flattenFactory","flatSequence","stopped","flatDeep","currentDepth","flatMapFactory","interposeFactory","interposedSequence","defaultComparator","maxFactory","maxCompare","comp","zipWithFactory","keyIter","zipper","zipSequence","iterators","isDone","steps","s","Record","defaultValues","hasInitialized","RecordType","setProps","RecordTypePrototype","_name","_defaultValues","RecordPrototype","recordName","_empty","makeRecord","likeRecord","record","getPrototypeOf","names","setProp","emptySet","isSet","add","fromKeys","keySeq","updateSet","union","intersect","originalSet","subtract","OrderedSet","__make","maybeSet","IS_SET_SENTINEL","EMPTY_SET","SetPrototype","__empty","makeSet","emptyOrderedSet","isOrderedSet","maybeOrderedSet","EMPTY_ORDERED_SET","OrderedSetPrototype","makeOrderedSet","Stack","emptyStack","isStack","unshiftAll","_head","peek","makeStack","pushAll","maybeStack","IS_STACK_SENTINEL","EMPTY_STACK","StackPrototype","mixin","methods","keyCopier","getOwnPropertySymbols","toJS","__toJS","toJSON","toObject","toOrderedMap","toOrderedSet","toSet","toStack","__toStringMapper","returnValue","findEntry","sideEffect","joined","isFirst","reducer","initialReduction","reduction","useFirst","reduceRight","reversed","not","butLast","isEmpty","countBy","entriesSequence","entryMapper","filterNot","found","findKey","findLast","findLastEntry","findLastKey","first","flatMap","searchKey","getIn","searchKeyPath","nested","groupBy","hasIn","isSubset","isSuperset","keyOf","keyMapper","lastKeyOf","maxBy","neg","defaultNegComparator","minBy","rest","skip","amount","skipLast","skipWhile","skipUntil","take","takeLast","takeWhile","takeUntil","hashIterable","IterablePrototype","quoteString","chain","contains","mapEntries","mapKeys","KeyedIterablePrototype","findIndex","removeNum","numArgs","spliced","findLastIndex","interpose","interleave","zipped","interleaved","zip","defaultZipper","zipWith","String","ordered","keyed","murmurHashOfSize","hashMerge","Immutable","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","n","getter","__esModule","definition","enumerable","globalThis","toStringTag","pathRegex","queryParamRegex","getPortalIdFromPath","regex","parsePortalIdFromString","pathname","getPortalIdFromQueryParam","search","idRe","portalId","reparse","preserveGlobalId","portal","MAX_STRING_LENGTH","KEYS_TO_OMIT","getExtraErrorData","acc","suffix","Logger","_assignMethods","_getLogFn","LEVELS","info","warn","warning","fatal","_shouldLog","logFn","CONSOLE_FN","updatedArgs","arg","_formatError","_callLogFn","_aboveLevelThreshold","DEBUG_LOG_CACHE_HEADER","setDebugCacheInChromeStorage","localSet","catch","LogInfo","cacheErrorEntryToChromeStorage","cacheErrorEntry","_cachedObject","_maxErrors","chromeStorage","errors","detail","reportError","reportErrorFailure","assign","reportErrorParams","LogError","RUNTIME_ERROR_THRESHOLD","SEND_MESSAGE","ON_MESSAGE_LISTENER","ON_REMOVE_MESSAGE_LISTENER","ON_CONNECT_LISTENER","ON_INSTALLED_LISTENER","ON_UPDATE_AVAILABLE_LISTENER","REQUEST_UPDATE_CHECK","CONNECT","RELOAD","LAST_ERROR","GET_MANIFEST_VERSION","GET_EXTENSION_ID","callRuntimeMethodSafe","sendMessage","onMessage","addListener","removeListener","onConnect","connect","reload","lastError","getManifest","version","onInstalled","onUpdateAvailable","requestUpdateCheck","runtimeError","runtimeUndefined","messageString","failingRuntimeMethod","errorMessageString","isMv3","manifest_version","_unused","addMessageListener","removeMessageListener","getLastError","Promise","resolve","reject","handleInternalCallback","IGNORED_ERRORS","callbackResult","SYNC_GET","SYNC_SET","SYNC_USAGE","SYNC_REMOVE","LOCAL_GET","LOCAL_SET","LOCAL_USAGE","LOCAL_REMOVE","SESSION_GET","SESSION_SET","SESSION_USAGE","SESSION_REMOVE","callStorageMethodSafe","storage","sync","getBytesInUse","local","session","failingStorageMethod","storageError","storageUndefined","localGet","items","internalCallback","LAST_LOGIN_PORTAL_ID_KEY","na1","baseEnviroModule","enviro","default","LS_CACHE_PREFIX","runtimeCache","HUBLET_KEY","getLsKey","readChromeEnvironmentString","runtimeCacheValue","lsValue","writeChromeEnvironmentString","enviroInstance","setHublet","EXTENSION_PROTOCOL","isBGPage","isPopup","emptyFunction","LEVELS_MAP","padEnd","toISOString","HUBSPOT_EVERYWHERE_METHOD","PERMISSION_REQUEST_ORIGIN","START_EVERYWHERE_DEMO","CONTINUE_EVERYWHERE_DEMO","CALENDAR_CONNECTED","PopupMessageAction","SHORTLINK","sendToBackground","listenToBackground","messageListener","sender","sendResponse","tab","HS_EVERYWHERE_WEBSITE_ALLOWLIST_KEY","HS_EVERYWHERE_DEFAULT_WEBSITE_ALLOWLIST","getEverywhereWebsiteAllowlist","setEverywhereWebsiteAllowlist","allowlist","Subdomains","APP","APP_API","getHubletPostfix","overrideConfig","hubletToUse","hubletizeNa1","Hublets","getSubDomain","prefix","hubletPostfixLocation","getDomain","short","getDomainPrefix","getEnvPostfix","getHubletDomainPostfix","envOverride","domainOverride","getTld","tldOverride","getPathPrefix","subDomainPrefix","getHubletToUse","getEnvToUse","PureUrlUtils","getFullUrl","getFullUrlWithCurrentSubDomain","shortlinkLoginListener","portal_id","Number","everywhereOnboardDemoListener","postMessage","permissionListener","granted","newOriginPermissions","onboardingListener","calendarConnectedListener","SHORTLINK_OPEN","restartExtension","PLAYGROUND_PAGE_URL_PATTERN","LOGIN_PORTAL_PICKED_URL_PATTERN","ONBOARDING_DEMO_PORTAL_URL_PATTERN","CALENDAR_SETTINGS_URL_PATTERN","TRACKED_EMAILS_KEY","PICKED_PORTAL_KEY","initializePortalPickedPage","handleEnvironmentUpdate","promises","ENV","trackedAccounts","pickedPortal","all","initializePlaygroundPage","injectScript","setAttribute","getURL","removeChild","listenForSalesNotifications","BroadcastChannel","onmessage","event","setLastLoginPortalId","initializeExtension"],"sourceRoot":""}